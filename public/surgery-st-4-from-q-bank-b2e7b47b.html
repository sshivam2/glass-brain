<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surgery St 4 (From Q-Bank) - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Test Series Subject Wise / Year 2017 - 18
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "A postmenopausal lady came to the clinic with complaints of breast pain and a lump in her right breast for the past 2 months. On examination, the breast appears as shown in the image. What is the most likely cause for this finding?",
    "choices": [
      {
        "id": 1,
        "text": "Infiltration of Cooper\u2019s ligaments"
      },
      {
        "id": 2,
        "text": "Obstruction of subcutaneous lymphatics"
      },
      {
        "id": 3,
        "text": "Infiltration of lactiferous duct"
      },
      {
        "id": 4,
        "text": "Infiltration of the pectoralis muscle"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In the given image, the orange peel-like appearance, also called as <strong>peau d\u2019orange</strong> is caused by cutaneous lymphatic edema, due to the <strong>obstruction </strong>of<strong> subcutaneous lymphatics.</strong> It is the hallmark of <strong>inflammatory carcinoma. </strong></p>\n<p>Option A: Infiltration of <strong>Cooper\u2019s ligaments</strong>\u00a0leads to\u00a0<strong>dimpling </strong>of the skin.</p>\n<p>Option C: Infiltration of the <strong>lactiferous ducts</strong>\u00a0leads to <strong>nipple retraction.</strong></p>\n<p><strong>Cancer-en-cuirasse</strong>\u00a0is an aggressive form of cancer, where there is cutaneous and subcutaneous infiltration of the cancer cells.</p>\n<p>Note: While\u00a0Peau d\u2019orange indicates skin involvement, dimpling of the skin and nipple retraction do not indicate skin involvement.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c01c476431734f299ca3c8cae64c1262.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A woman came with a 4 x 3 cm lump over the right breast. On examination, the breast appears as shown below. Ipsilateral supraclavicular lymph nodes are palpable with fixed axillary nodes on the left side. What is the most appropriate tumor staging?",
    "choices": [
      {
        "id": 1,
        "text": "T2 N2a M0"
      },
      {
        "id": 2,
        "text": "T4a N3c M0"
      },
      {
        "id": 3,
        "text": "T2 N3c M1"
      },
      {
        "id": 4,
        "text": "T4d N3c M1"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>TNM staging in the given scenario is <strong>T4d N3c M1.\u00a0</strong></p>\n<ul>\n<li>Tumour of <strong>any size</strong> with typical skin changes involving &gt; 1/3 of breast- <strong>T4d\u00a0</strong>(Inflammatory breast carcinoma)</li>\n<li>Ipsilateral <strong>supraclavicular</strong> lymph node involvement -\u00a0<strong>N3c </strong></li>\n<li>Involvement of any <strong>contralateral lymph nodes</strong> indicates distant\u00a0metastasis -\u00a0<strong>M1</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b4d15c8c9dcb457895df99395f3fff8d.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "What is the recommended age for starting screening mammography?",
    "choices": [
      {
        "id": 1,
        "text": "40 years"
      },
      {
        "id": 2,
        "text": "45 years"
      },
      {
        "id": 3,
        "text": "50 years"
      },
      {
        "id": 4,
        "text": "55 years"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The <strong>recommended age</strong> for women to start annual screening mammography is <strong>40 years</strong> of age.</p>\n<ul>\n<li><span style=\"font-size: 10pt; font-family: verdana, geneva, sans-serif;\"><strong>Until 44 years of age</strong>, it is her<strong>&nbsp;individual choice</strong> to decide on whether she wants screening mammography or not. </span></li>\n<li><span style=\"font-size: 10pt; font-family: verdana, geneva, sans-serif;\">For ages<strong> between 45 and 49 years,</strong> it is <strong>mandatory</strong> to get&nbsp;<span style=\"letter-spacing: 0px;\"><strong>annua</strong><strong>l</strong></span><span style=\"letter-spacing: 0px;\"> breast</span> <span style=\"letter-spacing: 0px;\">screening done. </span></span></li>\n<li><span style=\"font-size: 10pt; font-family: verdana, geneva, sans-serif;\"><span style=\"letter-spacing: 0px;\">After the age of <strong>50 years, </strong>it is advised that women get a <strong>second yearly</strong> screening done.</span></span></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The most common functional enteropancreatic tumour in MEN 1:",
    "choices": [
      {
        "id": 1,
        "text": "Gastrinoma"
      },
      {
        "id": 2,
        "text": "Insulinoma"
      },
      {
        "id": 3,
        "text": "Glucagonoma"
      },
      {
        "id": 4,
        "text": "VIPoma"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The most common functional tumour is <strong>gastrinoma</strong> followed by <strong>insulinoma.</strong></p>\n<p><strong>MEN 1 syndrome endocrine and non endocrine components:</strong></p>\n<ul>\n<li>Most common enteropancreatic tumor <strong>is Gastrinoma followed by insulinoma.</strong></li>\n<li>Other tumors that are seen are VIPoma, Glucagonoma.</li>\n</ul>\n<table style=\"width: 392px;\">\n<tbody>\n<tr>\n<td style=\"width: 182px;\"><strong>Endocrine features</strong></td>\n<td style=\"width: 202px;\"><strong>Non endocrine features</strong></td>\n</tr>\n<tr>\n<td style=\"width: 182px;\"><strong>Parathyroid adenoma (90%)</strong></td>\n<td style=\"width: 202px;\">Lipomas(30%)</td>\n</tr>\n<tr>\n<td style=\"width: 182px;\">\n<p><strong>Entero pancreatic tumour (30-70%)</strong></p>\n<p>Gastrinoma (&gt;50%)</p>\n<p>Insulinoma (10-30%)</p>\n<p>Glucagonoma(&lt;3%)</p>\n<p>VIPoma(&lt;1%)</p>\n<p>Somatostatinoma (2%)</p>\n</td>\n<td style=\"width: 202px;\"><strong>Facial angiofibromas (85%)</strong></td>\n</tr>\n<tr>\n<td style=\"width: 182px;\">\n<p><strong>Foregut carcinoid</strong></p>\n<p>Gastric enterochromaffin like tumour NF (10%)</p>\n<p>Thyroid and Bronchial carcinoid NF (2%)</p>\n</td>\n<td style=\"width: 202px;\"><strong>Collagenomas(70%)</strong></td>\n</tr>\n<tr>\n<td style=\"width: 182px;\">\n<p><strong>Anterior pituitary tumour(20-70%)</strong></p>\n<p>Prolactinoma (60%)</p>\n<p>Somatotroph inoma (25%)</p>\n<p>Corticotropinoma (&lt;5%)</p>\n<p>Nonfunctioning (&lt;5%)</p>\n</td>\n<td style=\"width: 202px;\">Pheochromocytoma (&lt;1%)</td>\n</tr>\n<tr>\n<td style=\"width: 182px;\">Adrenal cortex NF (25%)</td>\n<td style=\"width: 202px;\">Ependymoma&nbsp;&nbsp; (&lt;1%)</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is false regarding congenital diaphragmatic hernia?",
    "choices": [
      {
        "id": 1,
        "text": "Most CDH defects occur on the left side"
      },
      {
        "id": 2,
        "text": "Occurs due to failure of closure of the pleuroperitoneal canal in the developing fetus"
      },
      {
        "id": 3,
        "text": "Pulmonary hypoplasia and pulmonary hypertension significantly affects the prognosis"
      },
      {
        "id": 4,
        "text": "The posterolateral variant of this hernia is known as Morgagni hernia"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>posterolateral </strong>variant\u00a0of congenital diaphragmatic hernia (CDH) is known as <strong>Bochdalek </strong>hernia while the <strong>anteromedian</strong> variant is called <strong>Morgagni </strong>hernia.</p>\n<p>Congenital diaphragmatic hernia results from the <strong>failure of closure </strong>of the <strong>pleuroperitoneal canal</strong> in the developing fetus.</p>\n<p>Typically in CDH, there is a left-sided posterolateral diaphragmatic defect allowing herniation of abdominal viscera into the chest.<strong>\u00a080% of CDH</strong> develops on the <strong>left side.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e19809da62744343a250533e12271526x1280x1659.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d0c33a62e8824903bb81b298c4d46316x1280x1306.JPEG"
    ]
  },
  {
    "text": "A patient with hematemesis was brought to the Emergency. His BP was 90/60 mm of Hg and pulse was 110. A gastro-oesophageal bleed is suspected and the given tube is inserted for tamponade. Identify the tube.",
    "choices": [
      {
        "id": 1,
        "text": "Sengstaken Blakemore tube"
      },
      {
        "id": 2,
        "text": "Minnesota tube"
      },
      {
        "id": 3,
        "text": "Linton nachlas tube"
      },
      {
        "id": 4,
        "text": "Dobhoffs tube"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given tube is a Minnesota tube.</p>\n<p>Minnesota tube has <strong>4</strong> openings &ndash; 2 suction tubes and 2 inflation tubes. Suction tubes allow aspiration of both gastric and oesophageal contents.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/36d53032a14444718590f3388679ca95.PNG"
    ],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/9b3cfe1a102343d694b9bf0601dcb949x812x467.PNG"
    ]
  },
  {
    "text": "The peripheral vascular resistance is decreased in ____________",
    "choices": [
      {
        "id": 1,
        "text": "Hypovolemic shock"
      },
      {
        "id": 2,
        "text": "Cardiogenic shock"
      },
      {
        "id": 3,
        "text": "Obstructive   shock"
      },
      {
        "id": 4,
        "text": "Distributive shock"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p class=\"p1\">The peripheral vascular resistance is decreased in <strong>distributive shock. </strong></p>\n<p class=\"p1\">It is the condition of reduced oxygen delivery where the primary physiologic disturbance is a <strong>reduction in systemic vascular resistance</strong>. It is unique among the types of shock in that there is a compensatory<strong> increase in cardiac output</strong>.&nbsp;The most common cause of distributive shock is <strong>sepsis</strong>.</p>\n<p>The causes of vasodilatation in various types of distributive shock:</p>\n<table style=\"width: 323px;\">\n<tbody>\n<tr>\n<td style=\"width: 154px;\"><strong>Type of distributive shock&nbsp;</strong></td>\n<td style=\"width: 163px;\"><strong>Cause of vasodilatation&nbsp;</strong></td>\n</tr>\n<tr>\n<td style=\"width: 154px;\">Septic shock&nbsp;</td>\n<td style=\"width: 163px;\">Release of bacterial&nbsp;products (endotoxin) and the activation of cellular and humoral&nbsp;components of the immune system.&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 154px;\">Anaphylactic shock&nbsp;</td>\n<td style=\"width: 163px;\">Histamine release&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 154px;\">Neurogenic shock (spinal cord injury)&nbsp;</td>\n<td style=\"width: 163px;\">Failure of sympathetic&nbsp;outflow and adequate vascular tone&nbsp;</td>\n</tr>\n</tbody>\n</table>\n<p>The following Table shows cardiovascular and metabolic characteristics of different types of shock.</p>\n<table style=\"height: 145px; width: 583px;\">\n<tbody>\n<tr>\n<td style=\"width: 177px;\">&nbsp;</td>\n<td style=\"width: 89px;\"><strong>Hypovolemia</strong></td>\n<td style=\"width: 72px;\"><strong>Cardiogenic</strong></td>\n<td style=\"width: 88px;\"><strong>Obstructive</strong></td>\n<td style=\"width: 109px;\"><strong>Distributive</strong></td>\n</tr>\n<tr>\n<td style=\"width: 177px;\">Cardiac output</td>\n<td style=\"width: 89px;\">Low</td>\n<td style=\"width: 72px;\">Low</td>\n<td style=\"width: 88px;\">Low</td>\n<td style=\"width: 109px;\">\n<p><strong>High (in septic and anaphylactic shock)</strong></p>\n<p><strong>Low (in neurogenic shock)</strong></p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\">Vascular resistance</td>\n<td style=\"width: 89px;\">High</td>\n<td style=\"width: 72px;\">High</td>\n<td style=\"width: 88px;\">High</td>\n<td style=\"width: 109px;\">Low</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\">Venous pressure</td>\n<td style=\"width: 89px;\">Low</td>\n<td style=\"width: 72px;\">High</td>\n<td style=\"width: 88px;\">High</td>\n<td style=\"width: 109px;\">Low</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\">Mixed venous saturation</td>\n<td style=\"width: 89px;\">Low</td>\n<td style=\"width: 72px;\">Low</td>\n<td style=\"width: 88px;\">Low</td>\n<td style=\"width: 109px;\">High</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\">Base deficit</td>\n<td style=\"width: 89px;\">High</td>\n<td style=\"width: 72px;\">High</td>\n<td style=\"width: 88px;\">High</td>\n<td style=\"width: 109px;\">High</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which dietary component is lacking in patients started on TPN?",
    "choices": [
      {
        "id": 1,
        "text": "Lipids"
      },
      {
        "id": 2,
        "text": "Carbohydrates"
      },
      {
        "id": 3,
        "text": "Fibers"
      },
      {
        "id": 4,
        "text": "Proteins"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Fibers</strong> are not included in total parenteral nutrition.</p>\n<p><strong>Total enteral</strong> or<strong> parenteral nutrition</strong> necessitates the provision of the macronutrients,<strong> carbohydrates, fat</strong> and <strong>protein</strong>, together with vitamins, trace elements, electrolytes, and water.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What does the finding depicted in the image signify?",
    "choices": [
      {
        "id": 1,
        "text": "Subungual hematoma"
      },
      {
        "id": 2,
        "text": "Nodular melanoma"
      },
      {
        "id": 3,
        "text": "Subungual melanoma"
      },
      {
        "id": 4,
        "text": "Lentigo maligna melanoma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The image shows Hutchinsons's nail sign in&nbsp;<strong>subungual melanoma</strong>. It&nbsp;arises from the nail matrix, <strong>most commonly</strong> in the <strong>great toe or thumb.</strong></p>\n<p><strong>Hutchinson's nail sign</strong> is an important clinical clue to subungual melanoma. It is characterized by the <strong>extension of brown or black pigment from the nail bed</strong>, matrix, and nail plate to the adjacent cuticle and proximal or lateral nail folds. It is also associated with <strong>nail dystrophy.&nbsp;</strong></p>\n<p>Note:<strong> Pseudo-Hutchison&rsquo;s sign</strong> is a reflection of the pigmentation of the nail bed and nail matrix through the transparent nail folds.&nbsp;</p>\n<p>Option A: <strong>Subungal hematoma</strong> is a close differential of subungual melanoma. It is seen <strong>secondary to trauma</strong> which causes bleeding and resultant hematoma formation and pigmentation. It is important to note that the features of Hutchinson's nail sign are not seen with subungual hematoma.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/be4d8e63f872465ea12deca2aa9132d0.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/61996ad197ca4bec8b790a25055bbd45x970x940.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1f81230ab8e0405bb61c667f2f678de0x660x484.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b228976360854304a75b542d01a76a6bx1280x1343.JPEG"
    ]
  },
  {
    "text": "A patient has presented to you with a burn wound as seen in the image below. With regards to Jackson's zones of tissue injury, which of the following statements is false?",
    "choices": [
      {
        "id": 1,
        "text": "Area 2 is the most severely burned portion"
      },
      {
        "id": 2,
        "text": "The outer area of a burn is called the zone of hyperemia"
      },
      {
        "id": 3,
        "text": "Vasodilation is seen in the area 3"
      },
      {
        "id": 4,
        "text": "Area 1 heals with minimal or no scarring"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Vasoconstriction</strong> (not vasodilation) is seen in red region or\u00a0<strong>zone of stasis </strong>(marked zone 3).</p>\n<p>Jackson zones of tissue injury following burns has three zones:</p>\n<ul>\n<li>The <strong>zone of coagulation</strong>\u00a0is the most <strong>severely burned</strong> portion and is typically in the <strong>center</strong> of the wound.</li>\n<li>Peripheral to that is a <strong>zone of stasis</strong>, with variable degrees of <strong>vasoconstriction</strong> and resultant ischemia.</li>\n<li>The last, outermost area of a burn is called the <strong>zone of hyperemia</strong>, which will heal with minimal or no scarring and is most like a <strong><strong>superficial or first-degree burn.\u00a0</strong></strong>It is characterized by vasodilation from inflammation surrounding the burn wound.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5caedd0dc94d4ee3b3c44832ee2efe47.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f540dc8cb5ec491eb3d813871a22f4c6x1280x2160.JPEG"
    ]
  },
  {
    "text": "A child with a grazed knee comes to your clinic for first aid. He has a history of nephrotic syndrome and is on oral prednisolone therapy. Which stage of wound healing would be most affected by his medication?",
    "choices": [
      {
        "id": 1,
        "text": "Epithelialisation of the wound"
      },
      {
        "id": 2,
        "text": "Collagen synthesis and remodelling"
      },
      {
        "id": 3,
        "text": "Initial inflammatory phase and angiogenesis"
      },
      {
        "id": 4,
        "text": "Contraction of the wound"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>While <strong>all</strong> of the given options are <strong>inhibited</strong> by <strong>steroids</strong>, the <strong>major effect</strong> of <strong>steroids</strong> is to inhibit the initial&nbsp;<strong>inflammatory phase </strong>of wound healing (angiogenesis, neutrophil and macrophage migration, and fibroblast proliferation) and the <strong>release of lysosomal enzymes.</strong></p>\n<p>The stronger the anti-inflammatory effect of the steroid compound used, the greater the inhibitory effect on wound healing. Steroids used after the first 3 to 4 days post-injury do not affect wound healing as severely as when they are used in the immediate postoperative period.&nbsp;</p>\n<p>In addition to inhibiting collagen synthesis, steroids also<strong> inhibit epithelialization</strong> and <strong>contraction </strong>and contribute to increased rates of <strong>wound infection,</strong> regardless of the time of administration.</p>\n<p>Steroid delayed healing of cutaneous wounds can be stimulated to epithelialize by topical application of <strong>vitamin A.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The most common cause of skin graft failure is ____",
    "choices": [
      {
        "id": 1,
        "text": "Hematoma"
      },
      {
        "id": 2,
        "text": "Infection"
      },
      {
        "id": 3,
        "text": "Graft movement"
      },
      {
        "id": 4,
        "text": "Poor quality of the recipient bed"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The most common cause of skin graft failure is<strong> hematoma</strong> under the graft, where the <strong>blood clot is a barrier </strong>to contact of the graft and bed for revascularization.</p>\n<p>Other&nbsp;causes are shearing or movement of the graft on the bed, infection, poor quality of the recipient bed, and characteristics of the graft itself, such as&nbsp;thickness or&nbsp;vascularity&nbsp;of the donor site.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 40-year-old man presents to the casualty with complaints of recurrent episodes of syncope and cramping of his left arm. Symptoms mostly occur during his evening badminton practice sessions.  Which of the following is incorrect about this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Due to occlusion in the 3rd part of subclavian artery"
      },
      {
        "id": 2,
        "text": "Distal pulse of the affected side is feeble"
      },
      {
        "id": 3,
        "text": "CT angiography is used to visualize retrograde blood flow"
      },
      {
        "id": 4,
        "text": "Management includes angioplasty and stenting"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical scenario points to a diagnosis of <strong>subclavian steal syndrome</strong>. In subclavian steal syndrome, the\u00a0<strong>first part of </strong>the<strong> subclavian artery</strong> is<strong> occluded.</strong></p>\n<p>Subclavian steal syndrome is characterized by the presence of stenosis in the first part of the subclavian artery either due to atherosclerotic changes or emboli. It leads to\u00a0<strong>reversed flow </strong>in the<strong> vertebral artery</strong>\u00a0causing cerebral ischemia.</p>\n<p>Symptoms include dizziness, syncope on arm exercise. Occasionally, distal pulses in the arm of the affected side are found to be feeble.</p>\n<p>Investigations include duplex ultrasonography, CT, and MR angiography.</p>\n<p>It can be treated by <strong>angioplasty, stenting\u00a0</strong>or by extra-thoracic subclavian<strong> bypass.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/80f4b89f026c4d9289fee9d0f590da3ex1280x1725.JPEG"
    ]
  },
  {
    "text": "A 42-year-old  daily wage laborer comes to you with discoloration of her legs. She was diagnosed with varicose veins 5 years ago which was left untreated. Identify the feature given in the picture.",
    "choices": [
      {
        "id": 1,
        "text": "Atrophie blanche"
      },
      {
        "id": 2,
        "text": "Corona phlebectatica"
      },
      {
        "id": 3,
        "text": "Lipodermatosclerosis"
      },
      {
        "id": 4,
        "text": "Phlegmasia alba dolens"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Atrophia blanche is <strong>localised white atrophic skin</strong> frequently surrounded by dilated capillaries and hyperpigmentation, usually seen around the ankles. This is a sign of chronic venous disease.</p>\n<p>Lipodermatosclerosis is&nbsp;<strong>changes in the skin of the lower legs </strong>due to chronic venous insufficiency. It is a form of panniculitis (inflammation of the layer of fat under the skin). There is swelling and a tapering of the legs above the ankles, leading to '<strong>inverted champagne bottle</strong>' appearance.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/66e85a1f54814c739f5c7ed34a19b4ff.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7060532543c64a64a3a7d9ccd5430045x1279x1142.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5e3130175cb0489daf8efbcc4898f3bex720x540.JPEG"
    ]
  },
  {
    "text": "A 50-year-old patient on DOTS therapy was rushed to the casualty after having massive hemoptysis. Which of the following is false regarding this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Intubation is done into the non-bleeding lung."
      },
      {
        "id": 2,
        "text": "Massive hemoptysis is defined as expectoration of over 750 mL of blood within 24-hours."
      },
      {
        "id": 3,
        "text": "Presence of significant cavitary disease is an indication for urgent surgery."
      },
      {
        "id": 4,
        "text": "Bleeding is most likely due to pulmonary artery erosion."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Massive hemoptysis</strong> is defined as the expectoration of <strong>over 600 mL of blood within a 24-hour period. </strong>Common causes include tuberculosis, bronchiectasis,\u00a0and cancer.\u00a0It is a medical emergency.</p>\n<p>Any hemoptysis that can cause <strong>airway compromise</strong> or lead to <strong>hemodynamic collapse</strong> is called massive hemoptysis. This includes blood loss of <strong>&gt;600mL/24h</strong> or\u00a0<strong>&gt;150ml/h</strong>\u00a0which can flood the anatomical dead space of the lung.</p>\n<p>Bleeding can either be from the <strong>bronchial artery circulation</strong>\u00a0(most common) or from the <strong>pulmonary artery circulation</strong>. Bleeding from <strong>cavitary lesions</strong>\u00a0is due to <strong>pulmonary artery</strong> erosion.</p>\n<p>The <strong>chest X-ray</strong> is the first investigation followed by <strong>rigid or flexible bronchoscopy</strong>.</p>\n<p>The cause of death in massive hemoptysis is usually due to\u00a0<strong>asphyxiation</strong> (rather than blood loss itself). This is why <strong>airway stabilization</strong> by <strong>intubating into the non-bleeding lung</strong>\u00a0is the priority. After ventilation is achieved, the bleeding site should be identified using <strong>bronchoscopy</strong>. Bleeding is controlled by laser, bronchial occlusion, or arterial <strong>embolization</strong>. <strong>Surgical resection</strong> of the involved area is also done in some cases.</p>\n<div class=\"page\" title=\"Page 690\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Indications for urgent surgical intervention for massive hemoptysis:</p>\n<ul>\n<li>Presence of a fungus ball</li>\n<li>Presence of a lung abscess</li>\n<li>Presence of significant cavitary disease</li>\n<li>Failure to control the bleeding.</li>\n</ul>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An elderly woman presents with recent onset facial asymmetry and a lump over the roof of the mouth for the past 1 year. On examination, a solitary erythematous swelling with diffuse borders is seen over the left hard palate. Biopsy of the lesion reveals a swiss cheese pattern. Which of the following conditions is she likely to have?",
    "choices": [
      {
        "id": 1,
        "text": "Malignant mixed tumor"
      },
      {
        "id": 2,
        "text": "Mucoepidermoid carcinoma"
      },
      {
        "id": 3,
        "text": "Adenoid cystic carcinoma"
      },
      {
        "id": 4,
        "text": "Adenocarcinoma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given scenario and biopsy finding is suggestive of <strong>adenoid cystic carcinoma</strong>.&nbsp;&nbsp;Facial asymmetry points to<strong>&nbsp;</strong>the<strong> perineural invasion</strong> of the tumor into the facial nerve, which is characteristic of adenoid cystic carcinoma.</p>\n<p>It is the <strong>second most common</strong> malignant tumor of the parotid gland. It is a slow-growing tumor most commonly involving the parotid and submandibular glands. Histology shows a <strong>swiss cheese pattern</strong>. The <strong>tubular type</strong> has the <strong>best prognosis</strong>, while the <strong>solid type</strong> has the <strong>worst</strong>.&nbsp;</p>\n<p>It has a&nbsp;deceptively benign histologic appearance characterized by indolent, locally invasive growth with a high propensity for local recurrence and distant metastasis. The most common site of <strong>distant metastasis</strong> is the<strong> lung</strong>.&nbsp;Treatment involves <strong>removal </strong>of the<strong> gross tumor</strong>, with <strong>radiation</strong> therapy for the <strong>microscopic</strong> disease.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 26-year-old formula one driver was rushed to the casualty, unconscious, following a heavy crash from a side-impact collision during a racing event. The CT scan was normal. However, MRI showed multiple small hemorrhages, especially in the corpus callosum and the dorsolateral midbrain, with no midline shift. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Diffuse ischemic injury"
      },
      {
        "id": 2,
        "text": "Subdural hematoma"
      },
      {
        "id": 3,
        "text": "Diffuse axonal injury"
      },
      {
        "id": 4,
        "text": "Subarachnoid Hemorrhage"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical scenario with a normal CT and MRI showing evidence of hemorrhages in the corpus callosum and midbrain is probably due to a <strong>diffuse axonal injury</strong>.</p>\n<p>A diffuse axonal injury is a form of primary brain injury seen in <strong>high-energy accidents.</strong> It is caused by <strong>damage to axons</strong> throughout the brain due to <strong>rotational acceleration and then deceleration</strong>. Axons may be completely disrupted and then retract, forming axon balls.</p>\n<p>Small hemorrhages can be seen in more severe cases, especially on <strong>MRI</strong> (investigation of choice). Hemorrhage is classically seen in the <strong>corpus callosum</strong> and the <strong>dorsolateral midbrain</strong>. The prognosis is very poor.</p>\n<p>MRI showing multiple <strong>hypointense punctate foci</strong>&nbsp;within the subcortical and deep white matter within the corpus callosum is characteristic of diffuse axonal injury.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c6611b27ff084c5b84759f769c16c1f0x294x328.PNG"
    ]
  },
  {
    "text": "A patient presented with complaints of crushing chest pain radiating to the jaw and dysphagia. It starts whenever he has ice cream and he takes sublingual nitroglycerin which provides him relief. He underwent manometry which showed simultaneous multi-peaked contractions of high amplitude (>120 mm Hg). What is the most probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Achalasia cardia"
      },
      {
        "id": 2,
        "text": "Diffuse esophageal spasm"
      },
      {
        "id": 3,
        "text": "Hypertensive lower esophageal sphincter"
      },
      {
        "id": 4,
        "text": "Nutcracker esophagus"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above clinical scenario with episodes triggered by cold foods and manometric findings are suggestive of a diffuse esophageal spasm<strong> (DES).</strong></p>\n<p>Diffuse esophageal spasm is a<strong> hypermotility disorder </strong>of the esophagus. It is caused by<strong> spontaneous, abnormal contractions</strong> seen more in the <strong>distal</strong> two-thirds of the <strong>esophageal body</strong>. It is more common in women.\u00a0</p>\n<p>Patients usually present with <strong>dysphagia</strong> and <strong>chest pain</strong>. Pathologically, there is marked hypertrophy of the circular muscles. It is often <strong>triggered</strong> by <strong>cold foods. </strong>It<strong>\u00a0</strong>mimics symptoms of myocardial infarction and also shows improvement when sublingual nitroglycerin is administered. It causes smooth muscle relaxation of the esophagus.\u00a0</p>\n<p>A barium swallow shows a\u00a0<strong>corkscrew esophagus. </strong>However<strong>, manometry </strong>(high-resolution manometry is preferred)\u00a0is the <strong>gold standard test </strong>for diagnosis.\u00a0In <strong>classic manometry</strong>, if there are simultaneous, multi-peaked contractions of high amplitude (<strong>&gt;120 mmHg</strong>) or <strong>long duration</strong> (&gt;2.5 seconds) it is suggestive of diffuse esophageal spasm.</p>\n<p>On <strong>high-resolution manometry</strong>, a DCI (distal contractile integral) <strong>&gt;450 mmHg</strong> is suggestive of DES. The distal contractile integral (DCI) is <strong>an index of contractile vigor in high-resolution manometry, </strong>calculated as the product of amplitude, duration, and span of the distal esophageal contraction.</p>\n<p><strong>Hypertensive lower esophageal sphincter\u00a0</strong>- It is achalasia in evolution. Shows <strong>increased LES pressure but normal peristalsis.</strong></p>\n<p><strong>Nutcracker\u2019s esophagus </strong>- In conventional manometry,<strong>\u00a0</strong>it shows a<strong> high-amplitude peristaltic contraction ( &gt;180mmHg)\u00a0</strong>and<strong>\u00a0a longer duration of contraction (&gt;7sec).</strong></p>\n<p>In high-resolution manometry, a DCI &gt; 8000mmHg is suggestive of nutcracker's esophagus.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A woman presented to the gastroenterology OPD with significant weight loss, fatigue, and a bloating sensation for the past 8 months. A detailed workup was done, and she was diagnosed with early gastric carcinoma. All of the following structures can be involved in this stage except:",
    "choices": [
      {
        "id": 1,
        "text": "Muscularis mucosa"
      },
      {
        "id": 2,
        "text": "Submucosa"
      },
      {
        "id": 3,
        "text": "Muscularis propria"
      },
      {
        "id": 4,
        "text": "Lymph nodes"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>In <strong>early gastric cancer</strong>, there is<strong> no involvement of muscularis propria</strong>.</p>\n<p>Gastric cancer can be classified as early and advanced gastric cancer, based on the extent of involvement.&nbsp;</p>\n<p><strong>Early gastric cancer involves</strong>:</p>\n<ol>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Mucosa (including muscularis mucosa)</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Submucosa</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">+/- lymph nodes</li>\n</ol>\n<p><strong>Advanced gastric cancer involves</strong>:</p>\n<ol>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Muscularis layer</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">+/- adjacent structures</li>\n</ol>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/796f18c2bd4b44ddbd9042bef9aa93cdx600x1110.JPEG"
    ]
  },
  {
    "text": "What is the rate of recurrent ulceration in patients undergoing the procedure shown below?",
    "choices": [
      {
        "id": 1,
        "text": "<1%"
      },
      {
        "id": 2,
        "text": "2-10%"
      },
      {
        "id": 3,
        "text": "11-20%"
      },
      {
        "id": 4,
        "text": "21-30%"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The picture depicts <strong>Highly Selective Vagotomy (HSV).&nbsp;</strong>The rate of recurrent ulceration after HSV is <strong>2&ndash;10%</strong>.</p>\n<p>In HSV, the <strong>vagal nerve supply</strong> to the <strong>proximal two-thirds</strong> of the stomach is severed where all the parietal cells are located. The nerve supply to the antrum and pylorus is preserved. The nerve of Laterjet is spared.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3cbd3300eef747d9a411c8af1b707cb3.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/29d0ec5ab8fc4871bcba4d71ccb78005x1280x1723.JPEG"
    ]
  },
  {
    "text": "Which type of hernia is depicted in the following diagram?",
    "choices": [
      {
        "id": 1,
        "text": "Richter\u2019s hernia"
      },
      {
        "id": 2,
        "text": "Littre\u2019s hernia"
      },
      {
        "id": 3,
        "text": "Petersen hernia"
      },
      {
        "id": 4,
        "text": "Maydl hernia"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The diagram shows <strong>Maydl&rsquo;s hernia/Hernia-en-W/retrograde hernia</strong>, where 2 loops of the bowel remain in the hernia sac with the connecting loop inside the abdomen.</p>\n<p>Option A: In <strong>Richter's hernia</strong>, a small portion of the <strong>antimesenteric wall of the intestine is trapped within the hernia.&nbsp;</strong>Strangulation can occur without the pres&shy;ence of intestinal obstruction. Clinically, it <strong>mimics gastroenteritis.</strong></p>\n<p>Option B: In <strong>Littre&rsquo;s hernia</strong>,<strong> Meckel&rsquo;s diverticulum </strong>is the content.&nbsp;<strong>Amyand&rsquo;s hernia</strong> is an inguinal hernia in which the hernia sac contains a normal or acutely inflamed <strong>appendix.</strong></p>\n<p>Option C: <span class=\"ILfuVd\"><span class=\"hgKElc\"><strong>Petersen hernia</strong> is caused by the herniation of <strong>intestinal loops</strong> through the <strong>defect</strong> between the <strong>small bowel limbs,</strong> the <strong>transverse mesocolon, </strong>and the <strong>retroperitoneum</strong>, after any type of <strong>gastrojejunostomy.</strong></span></span></p>\n<div id=\"WEB_ANSWERS_STANDARD_RESULT_13_pE1iYvfQIYyaseMPl7OQ6Ac__12\">&nbsp;</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/781509e53e8644519f4e4bc5a320520e.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A middle-aged woman underwent an open repair of an abdominal aortic aneurysm. The procedure was uneventful. However, on the 2nd postoperative day, the patient developed symptoms of acute abdomen and bloody diarrhea with significant guarding. The patient was taken up for an exploratory laparotomy. Which of the following areas is most likely to be involved?",
    "choices": [
      {
        "id": 1,
        "text": "Caecum and ascending colon"
      },
      {
        "id": 2,
        "text": "Hepatic flexure"
      },
      {
        "id": 3,
        "text": "Splenic flexure"
      },
      {
        "id": 4,
        "text": "Sigmoid colon"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given scenario is suggestive of <strong>ischemic colitis</strong> and it occurs most commonly at the <strong>splenic flexure.</strong></p>\n<p>Ischemic colitis occurs due to interruption or decrease in colonic blood flow. It may occur with many different conditions, including <strong>embolism</strong> from cardiac disease, <strong>low-flow states</strong> such as congestive heart failure, sepsis, and <strong>vasopressor</strong> use. <strong>Major vascular surgery</strong> (both open and endovascular repair), especially involving the abdominal aorta, is a well-known risk factor for developing ischemic colitis.</p>\n<p>Although any area of the colon may be affected, the <strong>watershed areas</strong> of the splenic flexure (Griffith\u2019s point) and\u00a0the rectosigmoid (Sudeck\u2019s point) are the <strong>most prone to ischemia</strong> because of the often <strong>incomplete anastomoses</strong> of the marginal artery in these locations. The next most common area afflicted is the cecum, secondary to low blood flow in the terminal branches of the ileocolic artery.</p>\n<p><strong>Splenic flexure </strong>(also known as<strong> Griffith's point</strong>)\u00a0is a watershed area between the <strong>superior</strong> and<strong> inferior mesenteric arteries.</strong></p>\n<p><strong>Sudeck point</strong> is a watershed area between the sigmoid arterial branch from the <strong>inferior mesenteric artery</strong> and the <strong>superior rectal artery </strong>(branch of Inferior mesentric artery).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/60dfeab12cc94270852662f6216da6cbx1280x1624.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c70cfce7e07943f59051e8aca4f2e7acx600x663.JPEG"
    ]
  },
  {
    "text": "During a colonoscopy on a 58-year-old female patient, a smooth nodular polyp is found and excised. The microscopic image is given. Choose the incorrect statement regarding the polyp.",
    "choices": [
      {
        "id": 1,
        "text": "Most common type of polyp"
      },
      {
        "id": 2,
        "text": "More common in recto-sigmoid region"
      },
      {
        "id": 3,
        "text": "Usually seen in the 6th and 7th decade of life"
      },
      {
        "id": 4,
        "text": "Malignant transformation takes place within 5 years"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Hyperplastic polyps</strong>, as seen in the histological picture, <strong>do not have malignant potential.&nbsp;</strong>&nbsp;</p>\n<p>Elongated crypts, i.e.,&nbsp;<strong>serrated (saw-toothed) </strong>or<strong> star-shaped appearance</strong>, is a characteristic feature of a<strong> hyperplastic polyp. </strong></p>\n<p>They are&nbsp;the <strong>most common type</strong> of colorectal polyps and are usually seen in the<strong> 6th and 7th </strong>decade of life. More than&nbsp;90% occur in <strong>rectosigmoid region.&nbsp;</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7298758fc08342e8a1d0c6d8820f963a.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the incision made on a patient while performing an appendicectomy.",
    "choices": [
      {
        "id": 1,
        "text": "Gridiron incision"
      },
      {
        "id": 2,
        "text": "Lanz incision"
      },
      {
        "id": 3,
        "text": "Rutherford\u2013Morison incision"
      },
      {
        "id": 4,
        "text": "Rockey\u2013Davis incision"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Lanz incision</strong> is a transverse skin crease incision for appendicitis 2 cm below the&nbsp; umbilicus, centered on the midclavicular&ndash;mid inguinal line</p>\n<p>Option A:&nbsp;<strong>Gridiron</strong>&nbsp;<strong>incision </strong>is an&nbsp;oblique <strong>muscle-splitting</strong> incision in the right lower quadrant. It is also called&nbsp;<strong>McBurney</strong> incision.</p>\n<p>Option C:&nbsp;<strong>Rutherford&ndash;Morrison incision </strong>is an<strong>&nbsp;</strong>oblique <strong>muscle-cutting</strong> incision with its lower end over McBurney&rsquo;s point and <strong>extending obliquely upwards and laterally</strong> as necessary(Shown on the left side in the image for the sake of clarity)</p>\n<p>Option D<strong>: Rockey&ndash;Davis incision&nbsp;</strong>is a&nbsp;transverse right lower quadrant incision.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3b35e46a763d478c8f1d065f5dc77cbc.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7fcf2d22eeb94e2686b24dca63e0784ex1200x1486.JPEG"
    ]
  },
  {
    "text": "Match the following radiological signs in intestinal tuberculosis with their respective appearance:",
    "choices": [
      {
        "id": 1,
        "text": "1 - C, 2 - B, 3 - D, 4 - A"
      },
      {
        "id": 2,
        "text": "1 - C, 2 - D, 3 - A, 4 - B"
      },
      {
        "id": 3,
        "text": "1 -D, 2 - A, 3 - B, 4 - C"
      },
      {
        "id": 4,
        "text": "1 - B, 2 - A, 3 - D, 4 - C"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The correctly matched option is 1 - C, 2 - B, 3 - D, 4 - A.</p>\n<table style=\"height: 186px;\" width=\"505\">\n<tbody>\n<tr>\n<td style=\"width: 244.5px;\"><strong>Sign</strong></td>\n<td style=\"width: 244.5px;\"><strong>Appearance</strong></td>\n</tr>\n<tr>\n<td style=\"width: 244.5px;\">Sterlein sign</td>\n<td style=\"width: 244.5px;\">\n<p>Narrowing of the terminal ileum&nbsp;with a shortened cecum</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 244.5px;\">Gooseneck deformity</td>\n<td style=\"width: 244.5px;\">Loss of ileocecal angle&nbsp;with&nbsp;dilated terminal ileum</td>\n</tr>\n<tr>\n<td style=\"width: 244.5px;\">String sign</td>\n<td style=\"width: 244.5px;\">A persistent narrow stream of barium&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 244.5px;\">Fleischner sign&nbsp;</td>\n<td style=\"width: 244.5px;\">Thickening of the valve lips,&nbsp;with&nbsp;narrowing&nbsp;of the&nbsp;terminal ileum</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All are true about Meckel's diverticulum, except:",
    "choices": [
      {
        "id": 1,
        "text": "It is congenital."
      },
      {
        "id": 2,
        "text": "It is a true diverticulum."
      },
      {
        "id": 3,
        "text": "It arises from the anti-mesenteric border of ileum."
      },
      {
        "id": 4,
        "text": "If incidentally detected, it should always be treated conservatively."
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Conservative management is not the only treatment for an incidentally detected Meckel's diverticulum.&nbsp;</p>\n<p><strong>Meckel&rsquo;s diverticulum</strong> is caused by a failure of normal regression of the vitelline duct that develops during weeks 5 to 7 of gestation. It arises from the <strong>anti-mesenteric border</strong> of the ileum. Since&nbsp;<strong>all 3 layers</strong>&nbsp;of the bowel wall (mucosa, submucosa, and muscularis propria) are present, it is a <strong>true diverticulum.</strong></p>\n<p>When Meckel's diverticulum is found in the course of abdominal surgery,</p>\n<ul>\n<li>In cases of <strong>narrow-mouthed, thickened</strong> Meckel&rsquo;s diverticulum, <strong>resection</strong> of the diverticulum is the treatment of choice.</li>\n<li>If it has a <strong>wide mouth and is not thickened, </strong>it&nbsp;can safely be <strong>left alone</strong>.&nbsp;</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/61217747a5bf4ce3b3036424d7e6713ex600x683.JPEG"
    ]
  },
  {
    "text": "Which type of anal fistula is seen in this image?",
    "choices": [
      {
        "id": 1,
        "text": "Intersphincteric"
      },
      {
        "id": 2,
        "text": "Trans-sphincteric"
      },
      {
        "id": 3,
        "text": "Supra-sphincteric"
      },
      {
        "id": 4,
        "text": "Extra-sphincteric"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In the given image, the fistula traverses the internal sphincter and tracks down the space between the internal and external anal sphincters. Hence, it is an&nbsp;<strong>inter-sphincteric </strong>type of <strong>anal fistula</strong>. It&nbsp;is the <strong>most common</strong>&nbsp;anal fistula.</p>\n<p>A <strong>fistula-in-ano</strong> is an epithelial-lined tract connecting the anal canal to the perianal skin.&nbsp;Patients usually complain&nbsp;of intermittent purulent discharge and pain. Anal fistulas can be simplex or complex fistulas.</p>\n<ol>\n<li><strong>Simple fistulas</strong>-&nbsp;include a single tract, subcutaneous tract, and those that involve less than 30% of the external sphincter. They are easier to treat, and have lower chances of recurrence.&nbsp;</li>\n<li><strong>Complex fistulas</strong>-&nbsp;include fistulas involving more than 30% of the external sphincter, with multiple tracts, recurrent fistulas, and those associated with other predisposing factors, such as Crohn disease and radiation treatment.</li>\n</ol>\n<p>Fistulas can also be classified into<strong> high or low-lying fistulas</strong>, based on their location with respect to the<strong> puborectalis</strong> muscle.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/21c6fe5c49b14eaba13842776e167b3b.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2f336c43047b407aa79d37f70cd109c8x1280x1456.JPEG"
    ]
  },
  {
    "text": "Delorme procedure is used for treating patients with which of the following conditions?",
    "choices": [
      {
        "id": 1,
        "text": "Hemorrhoids"
      },
      {
        "id": 2,
        "text": "Rectal prolapse"
      },
      {
        "id": 3,
        "text": "Anal fissure"
      },
      {
        "id": 4,
        "text": "Anal carcinoma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Delorme procedure</strong> is used in the treatment of <strong>rectal prolapse</strong>. It involves&nbsp;mucosal stripping and muscle plication of the rectal prolapse using interrupted sutures. It is performed externally under regional or general anesthesia.</p>\n<p>Rectal prolapse occurs when a mucosal or full-thickness layer of rectal tissue protrudes through the anal orifice.&nbsp;Surgical management includes:</p>\n<p><strong>Perineal approach-</strong></p>\n<ul>\n<li>Thiersch operation- a&nbsp;steel wire, or silas-tic or nylon tape, is placed around the anal canal. Largely obsolete now due to problems with chronic perineal sepsis, anal stenosis, and obstructed defaecation</li>\n<li>Delorme's operation</li>\n<li><strong>Altemeier's procedure</strong>- involves removal of the prolapsed rectum and associated sigmoid colon, followed by which a coloanal anastomosis is created. It is often complicated by poor bowel control with fecal soiling secondary to the loss of rectal reservoir.</li>\n</ul>\n<div class=\"page\" title=\"Page 1344\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The advantages of a<strong> perineal approach</strong> include minimal postoperative pain, early mobility, and low levels of morbidity. However, given the <strong>higher recurrence rates</strong>, it is best reserved for patients at a higher risk of developing complications post major surgeries.</p>\n</div>\n</div>\n</div>\n</div>\n<p><strong>Abdominal approach-&nbsp;</strong></p>\n<ul>\n<li>Suture rectopexy</li>\n<li>Resection rectopexy</li>\n<li>Mesh rectopexy</li>\n</ul>\n<div class=\"page\" title=\"Page 1344\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The principle of all abdominal operations for rectal prolapse is to fix the rectum in its normal anatomical position.</p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c05af2790f9f4fcd9e986a2d80f748f1x1280x2375.JPEG"
    ]
  },
  {
    "text": "Which of the following chemotherapy regimens is used for treating patients with rectal carcinoma?",
    "choices": [
      {
        "id": 1,
        "text": "FOLFOX regimen"
      },
      {
        "id": 2,
        "text": "ABVD regimen"
      },
      {
        "id": 3,
        "text": "RCHOP regimen"
      },
      {
        "id": 4,
        "text": "MVAC regimen"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>5-Fluorouracil-based regimens with leucovorin and oxaliplatin <strong>(FOLFOX)</strong> reduce recurrence and improve survival in<strong>&nbsp;</strong>patients with <strong>colorectal carcinoma.</strong></p>\n<p><strong>Irinotecan (FOLFIRI regimen)</strong>&nbsp;is also used as a second-line chemotherapy agent.&nbsp;Adjuvant chemotherapy is routinely recommended in patients&nbsp;with lymph node involvement.</p>\n<p>Option B:&nbsp;<strong>ABVD</strong> regimen is used for <strong>Hodgkin's</strong> lymphoma.</p>\n<p>Option C:&nbsp;<strong>RCHOP</strong> regimen is used for B-cell <strong>Non-Hodgkin's</strong> lymphoma.</p>\n<p>Option D:&nbsp;<strong>MVAC</strong> regimen is used for advanced <strong>bladder</strong> carcinoma.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 24-year-old professional football player was tackled hard during a match. He complains of severe pain in the left upper abdomen. On examination, his BP is 100/74 mm Hg and there is tenderness and crepitus over the left 10th and 11th ribs. He also complains of pain over the left shoulder when pressure is applied over the left upper abdominal quadrant. This sign is called:",
    "choices": [
      {
        "id": 1,
        "text": "Ballance sign"
      },
      {
        "id": 2,
        "text": "Cullen sign"
      },
      {
        "id": 3,
        "text": "Kehr sign"
      },
      {
        "id": 4,
        "text": "Grey Turner sign"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Kehr sign</strong> refers to referred&nbsp;<strong>pain </strong>in the<strong>&nbsp;tip of the left shoulder</strong> when firm pressure is applied over the left upper quadrant. It is also elicited by raising the left leg.</p>\n<p>It is seen in the case of <strong>hemoperitoneum,</strong> especially due to splenic injury.&nbsp;It occurs due to the collection of blood below the diaphragm and irritation of the <strong>phrenic nerve</strong>.&nbsp;</p>\n<p>Option A:&nbsp;<strong>Ballance sign&nbsp;</strong>is also seen in splenic injury. It is an area of percussive <strong>dullness</strong> in the <strong>left upper quadrant</strong> due to the coagulation of blood from the injured spleen.</p>\n<p>Option B:&nbsp;<strong>Cullen sign</strong>&nbsp;refers to <strong>periumbilical bruising</strong> in cases of hemoperitoneum,<strong>&nbsp;</strong>especially those of pancreatic origin.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/77853e66557343418664a684fc7fd127x561x364.JPEG",
      "https://cdn1.dailyrounds.org/uploads/ca80254c7bbe43098590ebba87d36e9bx899x676.JPEG"
    ]
  },
  {
    "text": "A 50-year-old woman presents to the OPD with a skin lesion as shown in the image below. The lesions were initially small but have now spread to the entire limb and the abdomen. She has a history of long-standing diabetes and recurrent episodes of deep vein thrombosis despite anticoagulation therapy. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Insulinoma"
      },
      {
        "id": 2,
        "text": "Gastrinoma"
      },
      {
        "id": 3,
        "text": "Glucagonoma"
      },
      {
        "id": 4,
        "text": "VIPoma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The image depicts&nbsp;<strong>necrolytic migratory erythema.</strong>&nbsp;This skin lesion along with a history of long-standing <strong>diabetes</strong> and <strong>recurrent deep vein thrombosis</strong> is suggestive of <strong>glucagonoma</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b49ca2d0fa5c477780e56741520f5a0c.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "The following image shows the retrograde ureteropyelogram of a patient with loin pain. What is the most probable clinical diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Hydronephrosis"
      },
      {
        "id": 2,
        "text": "Duplex kidney"
      },
      {
        "id": 3,
        "text": "Renal carcinoma"
      },
      {
        "id": 4,
        "text": "Renal stone"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given image&nbsp;showing&nbsp;<strong>dilated clubbed calyces&nbsp;</strong>with stricture of the left ureteropelvic junction points to a diagnosis of <strong>hydronephrosis</strong>.</p>\n<p>Hydronephrosis refers to the<strong> dilatation</strong> of the pelvicalyceal system caused by a partial or complete blockage of urinary flow.&nbsp;</p>\n<p>Investigations:</p>\n<ul>\n<li><strong>Ultrasound</strong>&nbsp;is the <strong>least invasive</strong> technique for diagnosing hydronephrosis.</li>\n<li><strong>Retrograde pyelography</strong> is rarely indicated but will confirm the<strong> site of obstruction</strong>&nbsp;before corrective surgery.</li>\n<li><strong>Intravenous urogram</strong> (IVU) is helpful only if the obstructed kidney is functional. In IVU, the extrarenal pelvis is dilated and the minor calyces lose their normal cupping. In <strong>early</strong> stages, there is <strong>blunting</strong> of calyces followed by its <strong>clubbing</strong> in the <strong>late</strong> stages.</li>\n<li><strong>A renal isotope scan</strong> (DTPA or MAG-3) is the best modality to confirm the <strong>obstructive dilatation</strong> of the collecting system.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/9c3f3324735a40f0baae242409fe0809.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following types of renal cell carcinoma is characterized by multiple losses of entire chromosomes?",
    "choices": [
      {
        "id": 1,
        "text": "Papillary"
      },
      {
        "id": 2,
        "text": "Clear cell"
      },
      {
        "id": 3,
        "text": "Chromophobe"
      },
      {
        "id": 4,
        "text": "Collecting duct"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Chromophobe type </strong>renal cell carcinomas (RCC) are uniquely associated with <strong>multiple losses of entire chromosomes</strong>,&nbsp;including chromosomes 1, 2, 6, 10, 13, 17, and 21. Thus, they show extreme hypodiploidy.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with carcinoma in situ of the urinary bladder is posted for intravesical therapy. What is the strain of mycobacteria that will be used in this therapy?",
    "choices": [
      {
        "id": 1,
        "text": "Mycobacterium bovis"
      },
      {
        "id": 2,
        "text": "Mycobacterium tuberculosis"
      },
      {
        "id": 3,
        "text": "Mycobacterium canettii"
      },
      {
        "id": 4,
        "text": "Mycobacterium indicus pranni"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>An attenuated strain of <em><strong>Mycobacterium bovis</strong></em> is used in <strong>intravesical BCG therapy.</strong></p>\n<p>Intravesical BCG is used for the treatment of <strong>non-invasive</strong> (no invasion into the muscle layer) urinary <strong>bladder tumors</strong>. It induces a strong local <strong>inflammatory response</strong> against the attenuated bacteria, which helps in the destruction of the tumor cells.</p>\n<p>Option d:<strong> Mw vaccine</strong> for <strong>multibacillary leprosy</strong> patients and their contacts is extracted from <strong><em>Mycobacterium indicus pranii</em></strong>. It&nbsp;is also used as an adjunct to chemotherapy for category II tuberculosis.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 68- year-old patient presents with difficulty in initiating micturition. A DRE reveals an enlarged nodular prostate with adherent rectal mucosa. PSA was found to be 25 ng/ml and a biopsy result was suggestive of adenocarcinoma. Which of the following statements is false regarding his condition ?",
    "choices": [
      {
        "id": 1,
        "text": "PSA is a not specific marker for the condition."
      },
      {
        "id": 2,
        "text": "Gleason score correlates with the pathological stage"
      },
      {
        "id": 3,
        "text": "It is associated with decreased % free PSA"
      },
      {
        "id": 4,
        "text": "It arises from the transitional zone of the gland."
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p style=\"text-align: justify;\"><strong>Prostatic carcinoma</strong>,&nbsp;as indicated in the clinical scenario,&nbsp;<strong>arises</strong> from the <strong>peripheral zone</strong> of the gland.</p>\n<p style=\"text-align: justify;\">Anatomically, the prostate is divided into three zones.&nbsp;</p>\n<ul>\n<li style=\"font-weight: 400;\" aria-level=\"1\">The peripheral zone lies posteriorly and has an abundance of prostatic glands.&nbsp;</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">The central zone lies posterior to the urethral lumen and above the seminal vesicles as they course through the prostate.&nbsp;</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">The transitional zone is periurethral.</li>\n</ul>\n<p style=\"text-align: justify;\">Benign prostatic hyperplasia arises from the transitional zone.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6c9a44e8276747d0a0200f37d95ae0fex600x568.JPEG"
    ]
  },
  {
    "text": "A newborn infant is diagnosed with a congenital urethral abnormality in which the urethral meatus opens on the ventral side of the penis. Which of the following statements regarding this condition is false?",
    "choices": [
      {
        "id": 1,
        "text": "Circumcision is avoided in these patients"
      },
      {
        "id": 2,
        "text": "Dorsal aspect of the prepuce is poorly developed"
      },
      {
        "id": 3,
        "text": "Usually associated with a ventral deformity of the erect penis"
      },
      {
        "id": 4,
        "text": "Does not cause obstruction in the urinary tract"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The <strong>ventral</strong> aspect of the prepuce is <strong>poorly developed</strong> (\"hooded prepuce\") in hypospadias.</p>\n<p>Hypospadias\u00a0is the most common <strong>congenital abnormality of the urethra.\u00a0</strong>It is characterized by the combination of a <strong>ventrally </strong>(underside of penis or perineum)<strong> placed urethral meatus</strong>, a <strong>hooded foreskin</strong>,\u00a0and ventral\u00a0<strong>chordee</strong> (bending of the penis).</p>\n<p><strong>Types of hypospadias (</strong>according to meatal location):</p>\n<div class=\"page\" title=\"Page 800\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<ul>\n<li>Anterior (Distal)\n<ul>\n<li><strong>Glanular (most common)</strong></li>\n<li>Coronal</li>\n</ul>\n</li>\n<li>Middle\n<ul>\n<li>Middle penile shaft</li>\n<li>Distal penile shaft</li>\n</ul>\n</li>\n<li>Posterior (Proximal)\n<ul>\n<li>Proximal penile shaft</li>\n<li>Penoscrotal</li>\n<li>Scrotal</li>\n<li>Perineal</li>\n</ul>\n</li>\n</ul>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/82e10bf2bf084cfda458ff245fd5ea21x600x325.JPEG"
    ]
  },
  {
    "text": "Which of the following statements is false regarding testicular tumors?",
    "choices": [
      {
        "id": 1,
        "text": "They may present as an abdominal lump."
      },
      {
        "id": 2,
        "text": "Testicular biopsy is done to diagnose testicular carcinoma."
      },
      {
        "id": 3,
        "text": "Seminomas metastasize predominantly via the lymphatic system."
      },
      {
        "id": 4,
        "text": "Elevated tumor markers are found almost exclusively in non-seminomatous germ-cell tumors."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>There is <strong>no role of </strong><strong>testicular biopsy in the diagnosis of testicular tumors</strong>.&nbsp;This is due to the risk of <strong>seeding tumor cells </strong>onto the scrotal wall.</p>\n<p>In <strong>testicular tumors</strong>, the most common site of lymphatic spread is <strong>retroperitoneal lymph nodes </strong>which may present as an abdominal lump.&nbsp;</p>\n<p>Elevated tumor markers are found almost exclusively in non-seminomatous germ-cell tumors.&nbsp; Few seminomas may have elevated <strong>placental alkaline phosphatase</strong> (PLAP) or <strong>beta-human chorionic gonadotropin (HCG).</strong> Lactate dehydrogenase (LDH) can be used as a marker of <strong>tumor bulk.</strong></p>\n<p><strong>Seminomas</strong> are radiosensitive tumors that metastasize via lymphatics.&nbsp;Non-germ-cell tumors arise from <strong>Sertoli or Leydig cells </strong>and follow a more <strong>benign</strong> course. Approximately only 10% are malignant.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 32-year-old male patient presented with a scrotal swelling. On examination, the testis is felt separate from the scrotal swelling and the swelling is brilliantly transilluminant, as shown in the image below. What is the probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Varicocele"
      },
      {
        "id": 2,
        "text": "Epididymal cyst"
      },
      {
        "id": 3,
        "text": "Spermatocele"
      },
      {
        "id": 4,
        "text": "Chylocele"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario of a <strong>transilluminant scrotal swelling</strong> palpated <strong>apart from normal testes</strong> is suggestive of an <strong>epididymal cyst</strong>.\u00a0</p>\n<p>An<strong> epididymal cyst</strong> is a <strong>multilocular</strong> cyst formed due to is the cystic degeneration of the epididymis. Multiple cysts formed posterior to the epididymis can feel like a <strong>bunch of grapes on palpation</strong>. Due to the presence of <strong>crystal clear fluid</strong>, an epididymal cyst brilliantly transilluminates and has a <strong>Chinese lantern appearance</strong>.</p>\n<p>The image shows the Chinese lantern appearance on transillumination:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/46722655457c465badbeeb27eadd0970.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3199100be6384a299ea693f1122b3373x904x484.PNG"
    ]
  },
  {
    "text": "A patient presented with pelvic fracture and membranous urethral rupture. What should be the initial management?",
    "choices": [
      {
        "id": 1,
        "text": "A suprapubic catheter should be inserted as soon as possible"
      },
      {
        "id": 2,
        "text": "IVP should be done"
      },
      {
        "id": 3,
        "text": "Immediate urethroplasty"
      },
      {
        "id": 4,
        "text": "MCU should be done"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The initial management should be insertion of suprapubic catheter.</p>\n<p>A <strong>suprapubic catheter</strong> should be inserted as soon as practicable. The distended bladder may be palpable making suprapubic catheterization straightforward, but often the bruising and swelling associated with the fracture makes this difficult and ultrasound guidance is required.</p>\n<p>Passing a catheter <strong>blindly per urethra</strong> may convert a <strong>partial tear into a complete tear</strong> and it may also lead to false passages.</p>\n<p>A <strong>retrograde urethrogram</strong> should also be done as soon as possible to see the <strong>extent</strong> of the rupture.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following features are part of Reynold's pentad?",
    "choices": [
      {
        "id": 1,
        "text": "1, 2, 3"
      },
      {
        "id": 2,
        "text": "1, 3, 5"
      },
      {
        "id": 3,
        "text": "2, 3, 4"
      },
      {
        "id": 4,
        "text": "1, 3, 4"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Vomiting and diaphoresis are not part of Reynold's pentad.&nbsp;<strong>Reynold's pentad</strong> is seen in&nbsp;<strong>acute suppurative cholangitis.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the treatment of choice for the condition shown below?",
    "choices": [
      {
        "id": 1,
        "text": "Cholecystectomy"
      },
      {
        "id": 2,
        "text": "Ursodeoxycholic acid"
      },
      {
        "id": 3,
        "text": "Observation"
      },
      {
        "id": 4,
        "text": "Extended cholecystectomy"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The X-ray image shows calcification of the gallbladder, also known as&nbsp;<strong>porcelain gallbladder. </strong>This condition is&nbsp;associated with the risk of gall bladder carcinoma.&nbsp;<strong>Cholecystectomy </strong>is the treatment of choice.</p>\n<p><strong>Extended cholecystectomy</strong> includes&nbsp;removal of the <strong>gall bladder</strong> with&nbsp;a <strong>2 cm non-anatomical wedge of the liver</strong> and <strong>lymphadenectomy</strong>. It is performed for <strong>stage Ib</strong> with perineural, lymphatic, vascular invasion, and <strong>stage II</strong> of gallbladder carcinoma.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/af787f07450f47eca8b8a4836c96d2be.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 26-year-old female is on oral contraceptives. She presented with abdominal pain for the past few days. She was evaluated and was told that she is suffering from a liver disease. Which of the following liver disease is most likely to undergo haemorrhage ?",
    "choices": [
      {
        "id": 1,
        "text": "Focal nodular hyperplasia"
      },
      {
        "id": 2,
        "text": "Hepatocellular carcinoma"
      },
      {
        "id": 3,
        "text": "Hemangioma"
      },
      {
        "id": 4,
        "text": "Hepatic adenoma"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Among the given options,&nbsp;<strong>hepatic adenoma </strong>&nbsp;is most likely to cause <strong>haemorrhage.</strong></p>\n<p>These are <strong>benign</strong> liver tumors seen in <strong>women</strong> aged <strong>25</strong> and <strong>50</strong> <strong>years</strong>. The lesions are <strong>solitary</strong>, <strong>well-defined</strong>, and <strong>vascular</strong>. They are usually <strong>associated</strong> <strong>with</strong> the <strong>use</strong> of the <strong>oral contraceptive pill</strong>.&nbsp;</p>\n<p>They are found <strong>incidentally</strong> but can present in some cases with pain due to rupture or bleeding. They have malignant potential.</p>\n<p>Large hepatic adenomas are at an <strong>increased risk of rupture</strong> and intraperitoneal hemorrhage.</p>\n<p><strong>Surgical excision</strong> is recommended if <strong>lesions</strong> are <strong>&gt;5 cm.</strong></p>\n<p>Other options:</p>\n<p>Option A: <strong>Focular nodular hyperplasia</strong> is a benign condition with an unknown etiology. It doesn't have any malignant potential and therefore there is no need for treatment or follow-up after confirming the diagnosis.</p>\n<p>Option B: <strong>Hepatocellular carcinoma</strong> is one of the primary liver malignancies. Chronic hepatitis B infection and hepatitis C are considered risk factors. The cause of death in 60 percent of cases is related to cancer while the rest is due to an underlying pathology. Surgical resection is considered a treatment in patients with preserved liver function.</p>\n<p>Option C: <strong>Hemangiomas</strong> are the most common liver lesions and they can rupture. Diagnosis is incidental and surgical resection is needed if the patient is significantly symptomatic or there is uncertainty in diagnosis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with a pancreatic neoplasm undergoes cyst fluid aspiration. The aspirated fluid stains positive for mucin and shows elevated levels of amylase and CEA. What is the most probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Serous cystadenoma of pancreas"
      },
      {
        "id": 2,
        "text": "Mucinous cystadenoma of pancreas"
      },
      {
        "id": 3,
        "text": "Intraductal papillary mucinous neoplasm"
      },
      {
        "id": 4,
        "text": "Mature cystic teratoma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Positive mucin</strong>&nbsp;staining,&nbsp;<strong>elevated carcinoembryonic antigen</strong>&nbsp;(CEA), and&nbsp;<strong>elevated amylase</strong>&nbsp;levels&nbsp;are seen in cases of&nbsp;<strong>intraductal papillary mucinous neoplasm</strong>&nbsp;(IPMN).</p>\n<p>Cyst fluid analysis of various pancreatic cystic neoplasms:</p>\n<table style=\"height: 196px; width: 655px;\">\n<tbody>\n<tr style=\"height: 58px;\">\n<td style=\"width: 121.625px; height: 58px;\">Characteristics</td>\n<td style=\"width: 191.375px; height: 58px;\"><strong>Serous cystic neoplasm (SCN)</strong></td>\n<td style=\"width: 155px; height: 58px;\"><strong>Mucinous cystic neoplasm (MCN)</strong></td>\n<td style=\"width: 156px; height: 58px;\"><strong>Intraductal papillary mucinous neoplasm (IPMN)</strong></td>\n</tr>\n<tr style=\"height: 37.2656px;\">\n<td style=\"width: 121.625px; height: 37.2656px;\"><strong>Cytology</strong></td>\n<td style=\"width: 191.375px; height: 37.2656px;\">\n<div class=\"page\" title=\"Page 1565\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Scant glycogen-rich cells, with positive periodic acid&ndash;Schiff stain</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 155px; height: 37.2656px;\">\n<div class=\"page\" title=\"Page 1565\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Sheets and clusters of columnar, mucin-containing cells</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 156px; height: 37.2656px;\">\n<div class=\"page\" title=\"Page 1565\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Tall, columnar, mucin-containing cells</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n</tr>\n<tr style=\"height: 19px;\">\n<td style=\"width: 121.625px; height: 19px;\"><strong>Mucin stain</strong></td>\n<td style=\"width: 191.375px; height: 19px;\">Negative</td>\n<td style=\"width: 155px; height: 19px;\">Positive</td>\n<td style=\"width: 156px; height: 19px;\">Positive</td>\n</tr>\n<tr style=\"height: 19px;\">\n<td style=\"width: 121.625px; height: 19px;\"><strong>Amylase</strong></td>\n<td style=\"width: 191.375px; height: 19px;\">Low</td>\n<td style=\"width: 155px; height: 19px;\">Low</td>\n<td style=\"width: 156px; height: 19px;\">High</td>\n</tr>\n<tr style=\"height: 19px;\">\n<td style=\"width: 121.625px; height: 19px;\"><strong>CEA</strong></td>\n<td style=\"width: 191.375px; height: 19px;\">Low</td>\n<td style=\"width: 155px; height: 19px;\">High</td>\n<td style=\"width: 156px; height: 19px;\">High</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with liver cirrhosis is scheduled to undergo a laparotomy for a perforated appendix. According to the Child-Turcotte-Pugh score, which of the following parameters will you not use for this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Ascites"
      },
      {
        "id": 2,
        "text": "INR"
      },
      {
        "id": 3,
        "text": "Encephalopathy"
      },
      {
        "id": 4,
        "text": "Creatinine"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Creatinine </strong>is <strong>not included </strong>in the<strong> Child&ndash;Turcotte&ndash;Pugh </strong>score or Child-Pugh scoring system.&nbsp;</p>\n<p>It is used to assess the&nbsp;<strong>surgical mortality of cirrhotic patients</strong> undergoing intra-abdominal operations.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "MEN 2A is associated with all except:",
    "choices": [
      {
        "id": 1,
        "text": "Hyperparathyroidism"
      },
      {
        "id": 2,
        "text": "Pancreatic tumours"
      },
      {
        "id": 3,
        "text": "Pheochromocytoma"
      },
      {
        "id": 4,
        "text": "Medullary carcinoma thyroid"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Pancreatic tumours are not a feature of&nbsp; MEN 2 A.</p>\n<p><strong>MEN Syndromes:</strong></p>\n<p>MEN 2A includes <strong>MPH:</strong></p>\n<ul>\n<li>Medullary thyroid cancer</li>\n<li>Pheochromocytoma</li>\n<li>Hyperparathyroidism</li>\n</ul>\n<p>Medullary carcinoma thyroid plays the key role in MEN 2.</p>\n<p>MEN 2 is due to germline mutation in RET proto oncogene in chromosome 10.</p>\n<p><strong>Pheochromocytoma is usually bilateral</strong> in MEN 2a.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Most common thyroid malignancy arising from thyroglossal cyst:",
    "choices": [
      {
        "id": 1,
        "text": "Papillary"
      },
      {
        "id": 2,
        "text": "Follicular"
      },
      {
        "id": 3,
        "text": "Medullary"
      },
      {
        "id": 4,
        "text": "Anaplastic"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Most common cancer arising from a thyroglossal cyst is <strong>Papillary carcinoma.</strong></p>\n<p>Approximately <strong>1% </strong>of thyroglossal duct cysts are found to be malignant of which the most common type of cancer is&nbsp;<strong>papillary </strong>(85%). Medullary thyroid carcinomas are not found in thyroglossal duct cysts.</p>\n<p>However, the most common complication of Thyroglossal cyst is <strong>infection</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Follicular carcinoma of thyroid is due to the mutation of?",
    "choices": [
      {
        "id": 1,
        "text": "PTEN"
      },
      {
        "id": 2,
        "text": "HGF"
      },
      {
        "id": 3,
        "text": "RET"
      },
      {
        "id": 4,
        "text": "ABL"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Genes implicated in the pathogenesis of Follicular Thyroid Cancers:</p>\n<ul>\n<li>p53</li>\n<li><strong>PTEN</strong></li>\n<li>Ras</li>\n<li>PAX8/PPAR1</li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is the most common site of ectopic parathyroid gland?",
    "choices": [
      {
        "id": 1,
        "text": "Mediastinal"
      },
      {
        "id": 2,
        "text": "Intrathyroidal"
      },
      {
        "id": 3,
        "text": "Intrathymic"
      },
      {
        "id": 4,
        "text": "Paraesophageal"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>most common</strong> site of the <strong>ectopic parathyroid gland</strong>&nbsp;is <strong>paraesophageal</strong>.</p>\n<p>The common sites of ectopic parathyroid glands are</p>\n<ul>\n<li>Paraesophageal - most common</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Mediastinal&nbsp;</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Intrathymic&nbsp;</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Intrathyroidal&nbsp;</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Carotid sheath&nbsp;</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">High cervical or undescended&nbsp;</li>\n</ul>\n<p>Ectopic parathyroid is the most common cause of <strong>persistent </strong>or<strong> recurrent hyperparathyroidism</strong>. In such cases, treatment involves <strong>surgical removal</strong> of the gland.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8ee5f3098a3542bdb637c0d81234d267x1279x1485.JPEG"
    ]
  },
  {
    "text": "A young man presents to the emergency department with complaints of severe abdominal pain and 3 episodes of vomiting in the past 9 hours. He says that the pain radiates to the back and is partially relieved by bending forwards. The abdominal radiograph of the patient is given below. What is the sign that is seen in the radiograph?",
    "choices": [
      {
        "id": 1,
        "text": "Sentinel loop sign"
      },
      {
        "id": 2,
        "text": "Colon cut-off sign"
      },
      {
        "id": 3,
        "text": "Renal halo sign"
      },
      {
        "id": 4,
        "text": "Obliteration of psoas shadow"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image shows the&nbsp;<strong>colon cut-off sign</strong>, which is seen in <strong>acute pancreatitis</strong>.</p>\n<p>The colon cut-off sign refers to the <strong>abrupt termination of the gas filling of the colon</strong> on the left side. The inflammation of acute pancreatitis may extend to the phrenicocolic ligament via the transverse mesocolon. This causes&nbsp;<strong>functional spasm</strong> of the splenic flexure resulting in the colon cut-off sign.</p>\n<p>All the other options mentioned above are also seen in acute pancreatitis.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/2e76756728454a8d8738c3d94a08804c.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following will you not add as part of the chemotherapeutic regime for a patient with breast cancer?",
    "choices": [
      {
        "id": 1,
        "text": "Only 5"
      },
      {
        "id": 2,
        "text": "1, 3 and 4"
      },
      {
        "id": 3,
        "text": "2 and 5"
      },
      {
        "id": 4,
        "text": "3, 4 and 5"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Fludarabine and vincristine are not used in chemotherapy for carcinoma breast.</p>\n<p>The present chemotherapy regimen used is <strong>ACT regimen</strong>, i.e., adriamycin, cyclophosphamide, and taxane (paclitaxel). It comprises 4 cycles of <strong>AC</strong>&nbsp;followed by 4 cycles of <strong>T.</strong></p>\n<p><strong>Earlier</strong> regimens that are less commonly used currently are as follows:</p>\n<ul>\n<li><strong>CAF</strong> &ndash; Cyclophosphamide, Adriamycin, 5-Fluorouracil</li>\n<li><strong>CMF</strong> &ndash; Cyclophosphamide, Methotrexate, 5-Fluorouracil</li>\n</ul>\n<p><strong>Indications </strong>for chemotherapy in carcinoma breast:</p>\n<ul>\n<li>Lymph nodes positive</li>\n<li>Lymph nodes negative but tumor size of &gt;1 cm</li>\n<li>Lymph nodes negative and tumor size of &gt;0.5 cm with\n<ol>\n<li>Blood vessel/Lymph vessel invasion</li>\n<li>ER/PR &ndash;ve</li>\n<li>Her-2/neu overexpression</li>\n<li>High grade</li>\n</ol>\n</li>\n<li>Triple-negative breast carcinoma</li>\n<li>High recurrence score after Oncotype Dx.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Surgery St 4 (From Q-Bank)';
        const quizFilename = 'surgery-st-4-from-q-bank-b2e7b47b.html';
        let hierarchy = ["Marrow", "NEET PG Test Series Subject Wise", "Year 2017 - 18"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>