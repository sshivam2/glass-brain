<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Test 30 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Mini Test Series / 2021-22
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">20</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "A 40-year-old woman presented with severe pain in the buttocks extending down the back of the right leg. MRI revealed inflammation of the piriformis muscle. Entrapment of which of the following nerves is likely to cause the given condition?",
    "choices": [
      {
        "id": 1,
        "text": "Obturator nerve"
      },
      {
        "id": 2,
        "text": "Superior gluteal nerve"
      },
      {
        "id": 3,
        "text": "Inferior gluteal nerve"
      },
      {
        "id": 4,
        "text": "Sciatic nerve"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The clinical features are suggestive of <strong>piriformis syndrome,</strong> which occurs due to the entrapment of the <strong>sciatic nerve.</strong></p>\n<p>It is triggered by sitting for a long time or running, climbing stairs, or applying firm <strong>pressure</strong> directly <strong>over</strong> the <strong>piriformis muscle.&nbsp;</strong>Early signs include <strong>pain, tingling,</strong> or <strong>numbness</strong> in the <strong>buttocks.</strong> Later it may lead to severe pain extending down the length of the sciatic nerve.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/66ed0f4956d84dfcaadbbb35b498f974x1280x1989.JPEG"
    ]
  },
  {
    "text": "A junior resident, during his first emergency room duty, comes across a patient with difficulty in breathing. Since he was not confident to do endotracheal intubation, he tries to secure the airway with the following device. All of the following are the advantages of using this device when compared with tracheal intubation, except that _____.",
    "choices": [
      {
        "id": 1,
        "text": "It does not require neck mobility."
      },
      {
        "id": 2,
        "text": "It is associated with decreased risk of gastrointestinal aspiration."
      },
      {
        "id": 3,
        "text": "It does not require muscle relaxation."
      },
      {
        "id": 4,
        "text": "There is no risk of endobronchial intubation."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>This given image is of a&nbsp;<strong>laryngeal mask airway (LMA).&nbsp;</strong>All of the options are the advantages of using this device when compared with tracheal intubation except that it is associated with a decreased risk of gastrointestinal aspiration. There is an <strong>increased risk of gastrointestinal aspiration</strong> when compared with tracheal intubation.</p>\n<p>The laryngeal mask airway (LMA) is a <strong>supraglottic airway device</strong> that sits in the hypopharynx and partially protects the <strong>larynx from pharyngeal secretions</strong>, but not gastric regurgitation.</p>\n<p>Advantages and disadvantages of the laryngeal mask airway compared with&nbsp;tracheal intubation:&nbsp;</p>\n<p>Advantages:</p>\n<ul>\n<li><strong>Less invasive</strong></li>\n<li>Very useful in difficult intubations</li>\n<li>Less tooth and laryngeal trauma</li>\n<li><strong>Does not require muscle relaxation</strong></li>\n<li><strong>Does not require neck mobility&nbsp;</strong></li>\n<li><strong>No risk of esophageal or endobronchial intubation</strong></li>\n</ul>\n<p>Disadvantages:</p>\n<ul>\n<li><strong>Increased risk of gastrointestinal aspiration</strong></li>\n<li>Less safe in prone or jack-knife positions</li>\n<li>Less secure airway</li>\n<li>Greater risk of gas leak and pollution</li>\n<li>Can cause gastric distention</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/97cdb2f1bdf745f989e73c326cc348e7.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which is the most commonly used confirmatory test for HIV?",
    "choices": [
      {
        "id": 1,
        "text": "Enzyme-linked immunosorbent assay"
      },
      {
        "id": 2,
        "text": "Western blot"
      },
      {
        "id": 3,
        "text": "DNA polymerase chain reaction"
      },
      {
        "id": 4,
        "text": "p24 antigen assay"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The most commonly used <strong>confirmatory test</strong> for HIV is the&nbsp;<strong>Western blot</strong>.&nbsp;</p>\n<p>Western blot demonstrating antibodies to products of all three of the major genes of HIV (gag, pol, and env) is&nbsp;conclusive evidence of infection with HIV. It is considered positive if it shows antibodies against at least two of the following gene products: p24, gp41, gp120/ 160.&nbsp;</p>\n<p>Other options:</p>\n<p>Option A:<strong> ELISA</strong>&nbsp;<strong>(Enzyme-linked immunosorbent assay)</strong> is the most commonly used <strong>screening</strong> test for HIV. It&nbsp;is a simple, relatively inexpensive screening test for HIV.</p>\n<p>Option C: DNA PCR (Polymerase chain reaction) is a specific test for the detection of HIV infection where proviral DNA from the peripheral lymphocytes of the patient's samples is amplified and identified. When performed correctly, this test has a high specificity and sensitivity.</p>\n<p>Option D: p24 which is the core antigen of the virus is the earliest to occur and is employed for early diagnosis. A <strong>p24 antigen capture assay</strong> where anti-p24 antibodies bound with p24 is used with ELISA to demonstrate HIV. This test is useful in the following scenarios -&nbsp;</p>\n<ul>\n<li>Newly exposed to the risk of infection</li>\n<li>People who test negative for the antibody</li>\n<li>The terminal phase of infection</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the condition based on the image given below.",
    "choices": [
      {
        "id": 1,
        "text": "Acrodermatitis enteropathica"
      },
      {
        "id": 2,
        "text": "Ichthyosis"
      },
      {
        "id": 3,
        "text": "Atopic dermatitis"
      },
      {
        "id": 4,
        "text": "Kaposi sarcoma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above image with fish-like scales is suggestive of <strong>ichthyosis</strong>. It is a family of genetic disorders characterized by the presence of excessive amounts of <strong>dry thickened scaly skin.</strong> &nbsp;</p>\n<p>The commonest form of&nbsp;<strong>ichthyosis vulgaris</strong> is due to a genetic defect in the gene FLG coding for <strong>filaggrin</strong> protein. Ichthyosis usually develops during the first months of life.&nbsp;</p>\n<div class=\"page\" title=\"Page 1695\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The patients present with light grey scales mainly on the <strong>extensor surfaces</strong> of the extremities and the trunk. The scaling may disappear or reduce in the summer and when there is increased humidity. They usually have <strong>accentuated palmar creases</strong>.</p>\n<p>The condition is managed with ointments like glycerol-containing creams&nbsp;that hydrate the stratum corneum.</p>\n<p>Other options:</p>\n<p>Option A: <strong>Acrodermatitis enteropathica</strong> is caused by a defect in the absorption of <strong>zinc</strong>. It presents as eczematous plaques that are usually <strong>periorificial</strong> on the face or the anogenital area. They may become vesicular, bullous, pustular, or erosive with crusting at the edges. It is shown below.</p>\n<p>&nbsp;</p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5500b8ede482462aa1642e2b6d8cbe9b.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d35d13af3fc442c4ba42c2780c0216dex720x1022.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b7e442b54f764ae193d9eb7b023cce7fx720x540.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b1d767fb53f942db8912494c355eeb6ax720x480.JPEG"
    ]
  },
  {
    "text": "A 32-year-old female patient came with complaints of progressive hearing loss. On thorough workup, it was diagnosed to be a clean case of otosclerosis. What would be the tympanic membrane finding in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Normal"
      },
      {
        "id": 2,
        "text": "Retracted"
      },
      {
        "id": 3,
        "text": "Perforated"
      },
      {
        "id": 4,
        "text": "Bulging"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In otosclerosis, the <strong>tympanic membrane is normal</strong> unless there is another co-existing pathology.</p>\n<div class=\"page\" title=\"Page 110\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Otosclerosis is a primary disease of the bony labyrinth where one or more foci of irregularly spongy bone replace part of the normal bony otic capsule. Patients present with painless and progressive hearing loss, often the bilateral conductive type. They may hear better in noisy than in quiet environments (paracusis willisii).</p>\n<p>The tympanic membrane is normal and mobile. A reddish hue may be seen on the promontory through the tympanic membrane (<strong>Schwartze sign</strong>). This is indicative of an active focus with <strong>increased vascularity</strong>.&nbsp;Eustachian tube function is normal.</p>\n<div class=\"page\" title=\"Page 111\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Pure tone audiometry shows a loss of air conduction, more for lower frequencies. Bone conduction is normal. In some cases, there may be a dip in the bone conduction curve. It is different at different frequencies but greatest at 2000 Hz and is called <strong>Carhart&rsquo;s notch</strong>. It is shown in the image below.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/73cbd19b4e354c55bb17600ae2c1e102x1280x918.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/24b868193cdc459a9b0344580e1beca7x1280x2215.JPEG"
    ]
  },
  {
    "text": "Which of the following is not an orphan drug?",
    "choices": [
      {
        "id": 1,
        "text": "Acetaminophen"
      },
      {
        "id": 2,
        "text": "Miltefosine"
      },
      {
        "id": 3,
        "text": "Succimer"
      },
      {
        "id": 4,
        "text": "Sodium nitrite"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Acetaminophen</strong> is not an orphan drug. It is an essential drug.</p>\n<p>Orphan drugs are <strong>drugs for rare diseases</strong>.</p>\n<p>Orphan drugs are for the treatment or prevention of rare diseases with little commercial value for pharmaceutical companies. Therefore, special incentives are given by the government for the pharmaceutical companies for the development and marketing of orphan drugs.</p>\n<p>Few examples of orphan drugs:</p>\n<ul>\n<li>Miltefosine</li>\n<li>Sodium nitrite</li>\n<li>Succimer</li>\n<li>Rifabutin</li>\n<li>Liposomal amphotericin B</li>\n<li>Fomepizole</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A female child is being evaluated for primary amenorrhea and short stature. An ultrasound was done, and it showed a small uterus and streak ovaries. Which of the following cardiac anomaly is most likely to be associated with this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Tricuspid stenosis"
      },
      {
        "id": 2,
        "text": "Atrioventricular septal defect"
      },
      {
        "id": 3,
        "text": "Tetralogy of Fallot"
      },
      {
        "id": 4,
        "text": "Bicuspid aortic valve"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The clinical presentation of primary amenorrhea and short stature along with streak ovaries in the ultrasound is suggestive of <strong>Turner syndrome.</strong>\u00a0It is frequently associated with left-sided cardiovascular anomalies<strong>\u00a0</strong>like<strong> bicuspid aortic valves.</strong></p>\n<p>Turner syndrome occurs due to <strong>complete or partial monosomy of X-chromosomes</strong>. It produces hypogonadism in phenotypic females.</p>\n<div class=\"page\" title=\"Page 1048\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Clinical findings</strong> include webbing of the neck, protruding ears, and lymphedema of the hands and feet, short stature. The gonads are streaks of fibrous tissue, known as gonadal dysgenesis. There is primary amenorrhea and a lack of secondary sex characteristics. Congenital heart anomalies and structural renal anomalies are common.</p>\n<p><strong>Cardiac anomalies</strong> in Turner syndrome: Common defects are <strong>bicuspid aortic valves, coarctation of the aorta, aortic\u00a0stenosis</strong>, and <strong>mitral valve prolapse.\u00a0</strong>Cardiovascular abnormalities are the most important cause of mortality.</p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c8d432cd79b745aa95cde7befcaa4404x1280x1769.JPEG"
    ]
  },
  {
    "text": "A 52-year-old diabetic male patient was found to have a bilateral loss of peripheral visual fields. On tonometry, intraocular pressure was raised. Fundoscopy showed cupping and pallor of the optic disc. Iridocorneal angle was normal on gonioscopy. He is started on a topical drug that reduces the intraocular pressure by increasing the uveoscleral flow. Identify the drug.",
    "choices": [
      {
        "id": 1,
        "text": "Dorzolamide"
      },
      {
        "id": 2,
        "text": "Latanoprost"
      },
      {
        "id": 3,
        "text": "Mannitol"
      },
      {
        "id": 4,
        "text": "Pilocarpine"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The topical drug<strong>&nbsp;</strong>started<strong>&nbsp;</strong>that<strong>&nbsp;</strong>reduces intraocular pressure by increasing the uveoscleral flow<strong>&nbsp;</strong>is<strong>&nbsp;latanoprost, </strong>a<strong> prostaglandin</strong> <strong>analog</strong>.<strong>&nbsp;</strong>It<strong>&nbsp;</strong>is used in the treatment of open-angle glaucoma.&nbsp;</p>\n<p>This patient's findings of peripheral vision loss, increased intraocular pressure (IOP) with optic disc cupping, and a normal iridocorneal angle is suggestive of <strong>open-angle glaucoma.</strong></p>\n<p><strong>Topical prostaglandins</strong> like latanoprost, travoprost, bimatoprost, and tafluprost are now used as <strong>first-line agents</strong> to lower IOP. The major mechanism of action is by&nbsp;enhancing the <strong>uveoscleral outflow </strong>though they also increase <strong>trabecular outflow</strong>.</p>\n<p>The most common ocular side effects are conjunctival hyperemia, eyelash thickening, <strong>iris hyperpigmentation</strong>, and loss of periorbital fat. These drugs are administered <strong>once every day</strong> at <strong>bedtime</strong> and are used with caution in inflamed eyes.</p>\n<p>The systemic side effects are uncommon and include occasional headaches, malaise, myalgia, skin rash, and mild upper respiratory infections. <strong>Latanoprost</strong> is preferred as the first-line due to <strong>fewer</strong> ocular <strong>side effects</strong>.</p>\n<p>Other options:</p>\n<p>Option A: <strong>Dorzolamide</strong> is a <strong>carbonic anhydrase inhibitor</strong>. It reduces IOP by <strong>decreasing aqueous production</strong>.&nbsp;</p>\n<p>Option C: <strong>Mannitol</strong> is an <strong>osmotic agent</strong>, which lowers IOP by creating an osmotic gradient so that water is pulled from the vitreous into the blood vessels. It is used as a <strong>short-term treatment</strong> to reduce IOP in <strong>acute</strong> angle-closure glaucoma or prior to intraocular surgery.</p>\n<p>Option D: <strong>Pilocarpine</strong> is a <strong>miotic</strong> that acts as a <strong>cholinergic agonist</strong>. In <strong>angle-closure glaucoma</strong>, cholinergic agents open the angle by contraction of the sphincter pupillae, pulling the iris away from the trabecula.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 20-year-old medical student presented with 6 months of generalized body ache, which increases with stress and does not respond to NSAIDs. She also complains of sleep disturbances and low mood. On examination, there is increased pain sensitivity and tender bony prominences. Investigations are given below. The most probable diagnosis is:",
    "choices": [
      {
        "id": 1,
        "text": "Rheumatoid arthritis"
      },
      {
        "id": 2,
        "text": "Ankylosing spondylitis"
      },
      {
        "id": 3,
        "text": "Hepatitis B infection"
      },
      {
        "id": 4,
        "text": "Fibromyalgia"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>most probable diagnosis</strong> for the given clinical scenario is <strong>fibromyalgia.</strong></p>\n<p>The examination findings of <strong>tender bony prominences</strong> and <strong>increased pain sensitivity</strong> with associated low mood favour the diagnosis of fibromyalgia. Flaring up symptoms during stress and not having pain relief with NSAIDs also support the diagnosis of fibromyalgia.</p>\n<p>Fibromyalgia is a diagnosis of exclusion. Other possible conditions like anemia, TB, infections like UTI, rheumatoid arthritis, etc. have to be excluded.</p>\n<p>Fibromyalgia is characterized by chronic musculoskeletal pain and tenderness. It is more common in\u00a0<strong>females.</strong>\u00a0Patients with fibromyalgia have an increased prevalence of other syndromes\u00a0<strong>associated</strong>\u00a0with pain and fatigue, including\u00a0<strong>chronic fatigue syndrome</strong>, chronic headaches,\u00a0<strong>irritable bowel syndrome</strong>, interstitial cystitis/painful bladder syndrome, and other pelvic pain syndromes.</p>\n<p>Treatment strategies include physical conditioning, strength training, exercise programs, and cognitive-behavioral strategies</p>\n<p>Other options:\u00a0</p>\n<p>Option A: <strong>Normal levels</strong> of <strong>ESR</strong> and <strong>anti-CCP antibodies</strong> (Anti-cyclic citrullinated peptide) exclude the diagnosis of <strong>rheumatoid arthritis</strong>.</p>\n<p>Option B: <strong>Ankylosing spondylitis</strong> improves with exercise, unlike this case. Moreover, it might show <strong>sacroiliitis</strong> on the pelvic radiographs and responds well to NSAIDs.\u00a0</p>\n<p>Option C: <strong>Hepatitis B</strong> infection is included in the differential diagnosis of fibromyalgia but the presence of <strong>IgG</strong> against <strong>HbsAg</strong> points towards vaccination rather than active infection which would show IgM antibodies against various antigens of Hep B.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 55-year-old man with ischemic heart disease and atrial fibrillation presents with sudden, severe, generalized abdominal pain and multiple episodes of vomiting. On examination, the pulse rate is 118 bpm, rhythm is irregularly irregular, and BP is 92/58 mm Hg. The abdomen appears soft, and non-distended, and bowel sounds are absent. Which of the following is the gold standard investigation for the diagnosis in this case?",
    "choices": [
      {
        "id": 1,
        "text": "Barium studies"
      },
      {
        "id": 2,
        "text": "Magnetic resonance cholangiopancreatography (MRCP)"
      },
      {
        "id": 3,
        "text": "Angiography"
      },
      {
        "id": 4,
        "text": "Exploratory laparotomy"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical scenario is suggestive of <strong>acute mesenteric ischemia. </strong>For an acute arterial occlusive disease, the<strong>&nbsp;gold standard&nbsp;</strong>for diagnosis is <strong>angiography&nbsp;</strong>and that for management is<strong> laparotomy.</strong></p>\n<p>An <strong>embolus is the most common</strong> <strong>cause</strong> of acute mesenteric ischemia. Risk factors for acute mesenteric ischemia/embolus in the given clinical scenario are as follows:</p>\n<ul>\n<li>Presence of an irregularly irregular pulse is suggestive of <strong>atrial fibrillation.&nbsp;</strong></li>\n<li>Previous history of<strong> ischemic heart disease</strong></li>\n</ul>\n<p class=\"p1\">The most important clue to an early diagnosis of acute mesenteric ischemia is the <strong>sudden onset</strong> of severe abdominal pain in a patient with atrial fibrillation or atherosclerosis. The pain is typically in the central abdomen and out of proportion to the physical findings. Associated symptoms can include nausea, vomiting, and diarrhea.&nbsp;With the onset of bowel infarction, abdominal distension, peritonitis, and passage of bloody stools occur.</p>\n<p class=\"p1\">The gold standard for the diagnosis of an acute arterial occlusive disease is angiography and that for management is laparotomy.&nbsp;The goal of operative exploration is to resect the compromised bowel and restore blood supply via&nbsp;embolectomy.</p>\n<p class=\"p1\">Note:</p>\n<p class=\"p1\">A pulsatile abdominal mass is seen in the case of an abdominal aortic aneurysm.&nbsp;Acute pain and hypotension occur with rupture of the aneurysm, which requires an emergency operation.</p>\n<p class=\"p1\">Acute severe pancreatitis and peptic ulcer perforation have no association with atrial fibrillation. They usually present with pain over the upper abdomen, associated with guarding and rigidity on examination.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the instrument given below. Which of the following structures is not cut during the procedure most commonly carried out by this instrument?",
    "choices": [
      {
        "id": 1,
        "text": "Transverse perineal  muscles"
      },
      {
        "id": 2,
        "text": "Obturator muscle"
      },
      {
        "id": 3,
        "text": "Bulbospongiosus"
      },
      {
        "id": 4,
        "text": "Transverse perineal branches of pudendal  nerves"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The instrument in the given image is an <strong>episiotomy scissors.</strong> The <strong>obturator muscle</strong> is not cut during <strong>mediolateral episiotomy</strong> which is the most commonly done procedure using this instrument.</p>\n<p>A surgically planned incision on the perineum and the posterior vaginal wall during&nbsp;the second stage of labour is called an episiotomy. In mediolateral episiotomy,<em>&nbsp;</em>the incision is made downwards and outwards from the midpoint of the fourchette&nbsp;either to the right or to the left.</p>\n<p><strong>Structures cut</strong> in mediolateral&nbsp;episiotomy:</p>\n<ul>\n<li>Posterior vaginal wall</li>\n<li>Superficial and deep transverse perineal muscles</li>\n<li>Bulbospongiosus and part of levator ani</li>\n<li>Fascia covering these muscles</li>\n<li>Transverse perineal branches of&nbsp;pudendal vessels and nerves</li>\n<li>Subcutaneous tissue and skin</li>\n</ul>\n<p>The other types of episiotomy include median, lateral, and J shaped episiotomy.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/6874b5e67a884ab1bc0ee3b13c20a40a.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 7-month-old child with acute diarrhea is being treated with oral rehydration solution (ORS).  Which of the following is correct regarding zinc supplementation in this child?",
    "choices": [
      {
        "id": 1,
        "text": "10 mg/day for 7 days"
      },
      {
        "id": 2,
        "text": "10 mg/day for 14 days"
      },
      {
        "id": 3,
        "text": "20 mg/day for 7 days"
      },
      {
        "id": 4,
        "text": "20 mg/day for 14 days"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>A 7-month-old child being treated for acute diarrhea should be supplemented with<strong>&nbsp;oral zinc</strong>&nbsp;at <strong>20 mg/day </strong>for<strong> 10-14 days.</strong></p>\n<p>Zinc administration for diarrhea management can significantly <strong>reduce mortality </strong>and hospital admission. In addition, it improves diarrhea recovery rates and reduces the inappropriate use of <strong>antimicrobials.</strong></p>\n<p><strong>Zinc supplementation</strong>&nbsp;is usually done for 10 to 14 days. The dosage is age-dependent as follows:</p>\n<p>Age &lt;6 months: 10 mg/day</p>\n<p>Age &gt;6 months:&nbsp; 20 mg/day</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 24-year-old man presented with progressive swelling and pain in his right lower limb. X-ray shows findings seen in the image below and a CT scan of the chest reveals osteoblastic metastases. What is the most common location of this underlying condition?",
    "choices": [
      {
        "id": 1,
        "text": "Diaphysis of femur"
      },
      {
        "id": 2,
        "text": "Proximal femoral epiphysis"
      },
      {
        "id": 3,
        "text": "Distal femoral metaphysis"
      },
      {
        "id": 4,
        "text": "Diaphysis of tibia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The clinical vignette describes a case of <strong>bone swelling and pain</strong> with imaging revealing <strong>Codman's triangle</strong> is suggestive of <strong>osteosarcoma</strong>. The <strong>most common location</strong> of this disease is the <strong>distal femoral metaphysis.</strong></p>\n<p>Osteosarcoma is the most common primary malignant bone tumor. It is characterized by osteoid production by malignant cells. It has a bimodal age distribution, occurring in adolescence (10\u201314 years) and again in the 7th decade of life.</p>\n<p>Patients present with localized pain and a soft tissue mass. Most times metastasis is already present at diagnosis such as in this patient. Night pain may be seen in some patients.</p>\n<p>Diagnosis involves an X-ray initially. The X-ray shows the destruction of the normal trabecular bone pattern, indistinct margins, and no endosteal bone response. Periosteal new bone formation presents as the formation of <strong>Codman's triangle</strong>. It refers to the part where new bone forms in response to periosteal elevation. A\u00a0<strong>sunburst pattern </strong>may be seen and\u00a0it occurs when the periosteum does not have time to lay down a new layer. Instead, the Sharpey\u2019s fibers stretch perpendicular to the periosteum causing this pattern.</p>\n<div class=\"page\" title=\"Page 1129\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>MRI is the best imaging modality to measure the extent of the spread of the tumor into the bone and adjacent structures. A bone scan is used to detect skeletal metastases, and a CT of the chest is done to search for lung metastases. This is because the lungs are the most common site of metastases.\u00a0</p>\n<p>\u00a0</p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a5441591cb4a431a9230ea0a36e56fe9.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1e8b0622e70345e68234e9178bdcad08x570x570.PNG"
    ]
  },
  {
    "text": "During a psychiatric assessment, a patient was shown a series of pictures to assess his personality. One of those pictures is given below. Identify the personality test.",
    "choices": [
      {
        "id": 1,
        "text": "Rorschach test"
      },
      {
        "id": 2,
        "text": "Thematic apperception test"
      },
      {
        "id": 3,
        "text": "Holtzman technique"
      },
      {
        "id": 4,
        "text": "Make a picture story (MAPS)"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image shows one of the cards from the <strong>thematic apperception test</strong> (TAT). It is a <strong>projective personality test</strong> intended to evaluate a person's personality through their responses to ambiguous\u00a0pictures.</p>\n<p class=\"p1\">The TAT consists of a series of pictures that depict individuals of both sexes and of different age groups involved in different activities.\u00a0The stories that the patient makes up concerning the pictures reflect the patient's own needs, thoughts, feelings, stresses, wishes, and views of the future. A sample picture from the TAT series of cards is shown below.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a0cd4837c7c442be9c5d7def942e4c5e.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/895d78bca46f467dab0966a77a642530x308x400.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ccfc1751163b4b25beefa66dfb3f88a2x736x482.JPEG"
    ]
  },
  {
    "text": "A patient presented with a 3-week history of dry cough and dyspnea on exertion. Gallium-67 nuclear scan of this patient showed the lambda sign. This sign involves all the following structures except:",
    "choices": [
      {
        "id": 1,
        "text": "Right hilar nodes"
      },
      {
        "id": 2,
        "text": "Left hilar nodes"
      },
      {
        "id": 3,
        "text": "Left paratracheal nodes"
      },
      {
        "id": 4,
        "text": "Right paratracheal nodes"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The<strong>\u00a0</strong>given clinical scenario and the <strong>lambda sign</strong> on the gallium-67 scan suggest that the patient has <strong>sarcoidosis</strong>. Gallium-67 scan does not involve the <strong>left paratracheal nodes</strong>.</p>\n<p>The image given below shows the panda sign (A) and the lambda sign (B) on the gallium-67 scan seen in sarcoidosis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cc00f738a7a44d5fb5b68d2f7084d94bx491x507.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/83a10567b9af4116b803084a66895cacx616x562.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/046ce7ca126e4b17bcf758c665420929x1280x5233.JPEG"
    ]
  },
  {
    "text": "A pregnant woman's blood investigations reveal iron deficiency anemia. She is prescribed nutritional supplements and albendazole under the Anemia Mukt Bharat program. Albendazole would be given to her preferably during:",
    "choices": [
      {
        "id": 1,
        "text": "Puerperal period"
      },
      {
        "id": 2,
        "text": "First trimester"
      },
      {
        "id": 3,
        "text": "Third trimester"
      },
      {
        "id": 4,
        "text": "Second trimester"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Under the <strong>Anemia Mukt Bharat</strong> program, <strong>deworming</strong> treatment for pregnant women is provided preferably during the <strong>second</strong> <strong>trimester</strong>.</p>\n<p>The table reiterates the deworming dose and regime to be followed according to the <strong>Anemia Mukt Bharat program:</strong></p>\n<div class=\"module module-text text-5855-6-0-2  repeat   tb_j5f238\">\n<div class=\"tb_text_wrap\">\n<div class=\"bootstrap-table bootstrap4\">\n<div class=\"fixed-table-container\">\n<div class=\"fixed-table-body\">\n<table style=\"border-collapse: collapse; width: 37.2051%; height: 539px;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"width: 37.1365%; text-align: center;\"><strong>Age group</strong></td>\n<td style=\"width: 62.8635%; text-align: center;\"><strong>Deworming</strong></td>\n</tr>\n<tr>\n<td style=\"width: 37.1365%;\">\n<p>Children:<br /><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">6-59 months of age</span></p>\n</td>\n<td style=\"width: 62.8635%;\">A biannual dose of 400 mg Albendazole <br />(\u00bd tablet for children 12-24 months and 1 tablet for children 24-59 months).</td>\n</tr>\n<tr>\n<td style=\"width: 37.1365%;\">Children:<br />5-9 years of age</td>\n<td style=\"width: 62.8635%;\">Biannual dose of 400 mg Albendazole (1 tablet).</td>\n</tr>\n<tr>\n<td style=\"width: 37.1365%;\">School-going adolescents and<br />Out-of-school adolescent girls-<br />10-19 years of age</td>\n<td style=\"width: 62.8635%;\">Biannual dose of 400 mg Albendazole (1 tablet).</td>\n</tr>\n<tr>\n<td style=\"width: 37.1365%;\">Women of reproductive age <br />(non-pregnant, non-lactating)-<br />20-49 years of age</td>\n<td style=\"width: 62.8635%;\">Biannual dose of 400 mg Albendazole (1 tablet).</td>\n</tr>\n<tr>\n<td style=\"width: 37.1365%;\">Pregnant women and <br />Lactating mothers (0-6 months)</td>\n<td style=\"width: 62.8635%;\">One dose of 400 mg Albendazole (1 tablet), after the first trimester, preferably during the <strong>second trimester</strong></td>\n</tr>\n</tbody>\n</table>\n<p>\u00a0</p>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 10-month-old male baby presents with vomiting, lethargy, and severe jaundice when weaning was started with fruit juice. Which of the following can give a positive reaction in this patient's condition?",
    "choices": [
      {
        "id": 1,
        "text": "Pauly's reagent"
      },
      {
        "id": 2,
        "text": "Seliwanoff's reagent"
      },
      {
        "id": 3,
        "text": "Sakaguchi's reagent"
      },
      {
        "id": 4,
        "text": "Millon's reagent"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The appearance of the above clinical features after the initiation of<strong> fruit juice</strong>\u00a0(rich in fructose) suggests a<strong> disorder of fructose metabolism</strong>.\u00a0<strong>Seliwanoff's reagent</strong> gives a positive reaction in this condition.</p>\n<p><strong>Hereditary fructose intolerance (HFI)</strong>\u00a0is due to a\u00a0<strong>deficiency </strong>of the enzyme<strong>\u00a0aldolase</strong> <strong>B</strong>. It is an <strong>autosomal recessive</strong> inborn error of metabolism. Defective aldolase B causes the accumulation of fructose-1-phosphate. This will inhibit glycogen phosphorylase and cause glycogen accumulation in the liver and associated hypoglycemia.</p>\n<p>Symptoms occur when sucrose (fructose+glucose) is introduced into the diet of infants, usually around 6 months of age. Patients will present with vomiting, loss of appetite, and failure to thrive. Hepatomegaly and <strong>jaundice</strong> may occur. If liver damage progresses, death will occur.\u00a0</p>\n<p>Fructose is also excreted in the urine. This gives a positive reducing sugar test (<strong>Benedict's test</strong>), a positive test for <strong>furfural derivatives</strong>, and specifically a positive <strong>Seliwanoff's test </strong>(for fructose).<strong>\u00a0</strong>Withdrawal of fructose from the diet will immediately relieve the symptoms</p>\n<p><strong>Seliwanoff's test</strong> will <strong>distinguish glucose</strong> and <strong>fructose</strong>. The reagent is resorcinol in HCl. 3 ml of the reagent and 0.5 ml of urine are heated for 30 seconds up to a boiling point. A red color indicates the presence of fructose.</p>\n<p><strong>Benedict's test </strong>detects the excretion of<strong> reducing substances </strong>in the urine. About 0.5 ml of urine is boiled with 5 ml of Benedict's reagent for 2 minutes. The formation of a precipitate is observed on cooling. The test is semi-quantitative and the color of the precipitate roughly parallels the concentration of reducing sugar. The blue color indicates the absence of sugar in the urine. The green precipitate means 0.5%, yellow (1%), orange (1.5%) and red indicates 2% or more sugar (1% means 1 g per 100 ml).\u00a0</p>\n<p><strong>Furfural test:\u00a0Monosaccharides</strong> when treated with concentrated sulphuric acid undergo dehydration with the removal of 3 molecules of water. Hexoses give hydroxymethylfurfural and pentoses give furfural. The furfural derivative can condense with phenolic compounds to give colored products. This forms the basis of the <strong>Molisch test</strong>. It is a general test for carbohydrates.\u00a0</p>\n<p>The image summarizes the metabolic pathways involved in the metabolism of fructose:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5f39f85ceb46421fbc5a2811f429bb43x1280x1703.JPEG"
    ]
  },
  {
    "text": "Which of the following events is not likely to be seen in a normal ECG?",
    "choices": [
      {
        "id": 1,
        "text": "Atrial depolarization"
      },
      {
        "id": 2,
        "text": "Conduction through AV node"
      },
      {
        "id": 3,
        "text": "Atrial repolarization"
      },
      {
        "id": 4,
        "text": "Ventricular repolarization"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Atrial repolarization</strong> is not likely to be seen on a normal ECG.</p>\n<p>Atrial repolarization occurs during ventricular depolarization. However, the voltage of the atrial repolarization is very low and is <strong>masked by the QRS complex</strong> representing ventricular depolarization.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient who presented with acute confusion and vomiting was diagnosed to have SIADH. This condition can be best treated by which of the following methods?",
    "choices": [
      {
        "id": 1,
        "text": "Infusion of hypertonic (3%) saline"
      },
      {
        "id": 2,
        "text": "Infusion of hypotonic (0.45%) saline"
      },
      {
        "id": 3,
        "text": "Infusion of normal (0.9%) saline"
      },
      {
        "id": 4,
        "text": "Administration of DDAVP"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given scenario is suggestive of <strong>acute symptomatic SIADH</strong> and this condition is best treated by the<strong> infusion of hypertonic (3%) saline.&nbsp;</strong>This mode of treatment also helps in the&nbsp;correction of sodium deficiency that is partly responsible for hyponatremia.</p>\n<p>The other form of treatment is to help reduce the concentration of body water by giving an AVP receptor-2 antagonist,&nbsp;conivaptan. Conivaptan blocks the antidiuretic effect of AVP and increases urine output.</p>\n<p>DDAVP is a synthetic analog of AVP and should not be used as it will further increase water retention.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "During an autopsy, you notice that the body is in a pugilistic attitude. The cause behind this is?",
    "choices": [
      {
        "id": 1,
        "text": "Depletion of ATP"
      },
      {
        "id": 2,
        "text": "Fractures"
      },
      {
        "id": 3,
        "text": "Exposure to heat"
      },
      {
        "id": 4,
        "text": "Oxygen depletion"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Pugilistic attitude&nbsp;</strong>(boxing, fencing, or defense attitude ): The posture of a body which has been exposed to high amount of heat e.g. in case of burns.</p>\n<p>This occurs due to the coagulation of the muscle proteins and dehydration. It is more marked in the flexors than extensors.</p>\n<ul>\n<li>The legs are flexed at the hips and knees,</li>\n<li>The arms are flexed at the elbows and wrists</li>\n<li>Fingers are clawed</li>\n<li>Head slightly extended</li>\n<li>Marked opisthotonus</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Mini Test 30';
        let hierarchy = ["Marrow", "NEET PG Mini Test Series", "2021-22"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>