<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>275 Obstetrics And Gynecology Neet 2018 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / PYQs / Obstetrics & Gynecology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">25</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "In which trimester does acute fatty liver manifest most commonly during pregnancy?",
    "choices": [
      {
        "id": 1,
        "text": "First trimester"
      },
      {
        "id": 2,
        "text": "Second trimester"
      },
      {
        "id": 3,
        "text": "Third trimester"
      },
      {
        "id": 4,
        "text": "Both (a) and (b)"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Acute fatty live</strong>r of pregnancy (AFLP) occurs most commonly in the&nbsp;<strong>third&nbsp;trimester</strong>&nbsp;or early postpartum period.</p>\n<p>Risk factors include <strong>Pre-eclampsia/HELLP</strong> syndrome, <strong>male</strong> fetus, <strong>previous</strong> history of <strong>AFLP,</strong> and <strong>multiple</strong> gestations.</p>\n<p><strong>AFLP</strong> (acute yellow atrophy or acute fatty metamorphosis) is the most common cause of <strong>acute liver failure</strong> in pregnancy. It usually occurs in the&nbsp;<strong>later stages of pregnancy,&nbsp;</strong>particularly in the&nbsp;<strong>third</strong>&nbsp;trimester.&nbsp;It occurs due to&nbsp;<strong>fetal deficiency&nbsp;</strong>of<strong>&nbsp;long-chain acyl-coenzyme A dehydrogenase</strong>&nbsp;(LCHAD) or poor placental mitochondrial function.</p>\n<p>The patients present with persistent nausea and&nbsp;vomiting,&nbsp;<strong>progressive&nbsp;jaundice</strong>, and epigastric pain. Features like acute hemolysis,&nbsp;<strong>hypoglycemia</strong>, hypertension, proteinuria, thrombocytopenia, and edema can also be present. Symptoms may progress to<strong> fulminant hepatic failure</strong> with encephalopathy, <strong>disseminated intravascular coagulation</strong>, and death.</p>\n<p>Liver function tests such as <strong>AST, ALT</strong>, and serum bilirubin levels are <strong>raised</strong>. <strong>Hypofibrinogenemia</strong>, <strong>hypocholesterolemia</strong>, and <strong>prolonged clotting time</strong> can be seen. An <strong>elevated d-dimer</strong> is seen.&nbsp;Microscopy reveals a characteristic<strong>&nbsp;microvesicular fatty infiltration</strong>.</p>\n<p>The condition worsens till delivery after which the hepatic dysfunction resolves. A <strong>trial of labor</strong> by induction or delivery by<strong> Cesarean</strong> is done. Intensive <strong>supportive measures</strong> including blood transfusion should be provided.</p>\n<div class=\"page\" title=\"Page 281\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 281\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The clinical and laboratory findings of acute liver diseases in pregnancy are as follows:</p>\n<table style=\"height: 538px; width: 407px;\">\n<tbody>\n<tr style=\"height: 7.74133px;\">\n<td style=\"width: 84.0712px; text-align: center; height: 7.74133px;\"><strong>Disorders&nbsp;</strong></td>\n<td style=\"width: 77.8646px; text-align: center; height: 7.74133px;\"><strong>HELLP syndrome</strong></td>\n<td style=\"width: 87.3438px; text-align: center; height: 7.74133px;\"><strong>Obstetric cholestasis</strong></td>\n<td style=\"width: 82.4826px; text-align: center; height: 7.74133px;\"><strong>Acute fatty liver of pregnancy</strong></td>\n<td style=\"width: 69.0451px; text-align: center; height: 7.74133px;\"><strong>Viral hepatitis</strong></td>\n</tr>\n<tr style=\"height: 19px;\">\n<td style=\"width: 84.0712px; height: 19px;\"><strong>Onset in pregnancy</strong></td>\n<td style=\"width: 77.8646px; height: 19px; text-align: center;\">Mid to late</td>\n<td style=\"width: 87.3438px; height: 19px; text-align: center;\">Late</td>\n<td style=\"width: 82.4826px; height: 19px; text-align: center;\">Late</td>\n<td style=\"width: 69.0451px; height: 19px; text-align: center;\">Variable</td>\n</tr>\n<tr style=\"height: 19px;\">\n<td style=\"width: 84.0712px; height: 19px;\"><strong>Differentiating features&nbsp;</strong></td>\n<td style=\"width: 77.8646px; height: 19px; text-align: center;\">\n<p><strong>Epigastric pain</strong>, hypertension,</p>\n<p>elevated <strong>indirect bilirubin&nbsp;</strong></p>\n</td>\n<td style=\"width: 87.3438px; height: 19px; text-align: center;\">\n<p><strong>Pruritus&nbsp;</strong>&nbsp;</p>\n<p>elevated <strong>direct bilirubin</strong></p>\n</td>\n<td style=\"width: 82.4826px; height: 19px; text-align: center;\">Signs of<strong> liver failure</strong>&nbsp;like <strong>hypoglycemia</strong></td>\n<td style=\"width: 69.0451px; height: 19px; text-align: center;\"><strong>Fever</strong></td>\n</tr>\n<tr style=\"height: 23px;\">\n<td style=\"width: 84.0712px; height: 23px;\"><strong>AST (U/L)</strong></td>\n<td style=\"width: 77.8646px; height: 23px; text-align: center;\">&nbsp;&le;300</td>\n<td style=\"width: 87.3438px; height: 23px; text-align: center;\">&nbsp;&le;200</td>\n<td style=\"width: 82.4826px; height: 23px; text-align: center;\"><strong>200-800</strong></td>\n<td style=\"width: 69.0451px; height: 23px; text-align: center;\"><strong>2000+</strong></td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"width: 84.0712px; height: 13px;\"><strong>Bilirubin (mg/dL)</strong></td>\n<td style=\"width: 77.8646px; height: 13px; text-align: center;\">1-4</td>\n<td style=\"width: 87.3438px; height: 13px; text-align: center;\">1-5</td>\n<td style=\"width: 82.4826px; height: 13px; text-align: center;\"><strong>4-10</strong></td>\n<td style=\"width: 69.0451px; height: 13px; text-align: center;\"><strong>5-20</strong></td>\n</tr>\n<tr style=\"height: 26px;\">\n<td style=\"width: 84.0712px; height: 26px;\"><strong>Platelets</strong></td>\n<td style=\"width: 77.8646px; height: 26px; text-align: center;\">&darr;&darr;&nbsp;</td>\n<td style=\"width: 87.3438px; height: 26px; text-align: center;\"><strong>Normal</strong></td>\n<td style=\"width: 82.4826px; height: 26px; text-align: center;\">&darr;&darr;&nbsp;</td>\n<td style=\"width: 69.0451px; height: 26px; text-align: center;\">&darr;</td>\n</tr>\n<tr style=\"height: 26px;\">\n<td style=\"width: 84.0712px; height: 26px;\"><strong>Fibrinogen</strong></td>\n<td style=\"width: 77.8646px; height: 26px; text-align: center;\"><strong>Normal</strong></td>\n<td style=\"width: 87.3438px; height: 26px; text-align: center;\"><strong>Normal</strong></td>\n<td style=\"width: 82.4826px; height: 26px; text-align: center;\"><strong>&darr;&darr;&darr;&nbsp;</strong></td>\n<td style=\"width: 69.0451px; height: 26px; text-align: center;\"><strong>Normal</strong></td>\n</tr>\n<tr style=\"height: 26px;\">\n<td style=\"width: 84.0712px; height: 26px;\"><strong>D-dimer</strong></td>\n<td style=\"width: 77.8646px; height: 26px; text-align: center;\">&uarr;</td>\n<td style=\"width: 87.3438px; height: 26px; text-align: center;\"><strong>Normal</strong></td>\n<td style=\"width: 82.4826px; height: 26px; text-align: center;\"><strong>&uarr;</strong></td>\n<td style=\"width: 69.0451px; height: 26px; text-align: center;\"><strong>Normal</strong></td>\n</tr>\n<tr style=\"height: 26px;\">\n<td style=\"width: 84.0712px; height: 26px;\"><strong>Prothrombin time</strong></td>\n<td style=\"width: 77.8646px; height: 26px; text-align: center;\"><strong>Normal</strong></td>\n<td style=\"width: 87.3438px; height: 26px; text-align: center;\"><strong>Normal</strong></td>\n<td style=\"width: 82.4826px; height: 26px; text-align: center;\"><strong>&uarr;</strong><strong>&uarr;</strong></td>\n<td style=\"width: 69.0451px; height: 26px; text-align: center;\">&nbsp;&uarr;</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 84.0712px; height: 18px;\"><strong>Hemolysis</strong></td>\n<td style=\"width: 77.8646px; height: 18px; text-align: center;\">&nbsp;&uarr;&uarr;</td>\n<td style=\"width: 87.3438px; height: 18px; text-align: center;\"><strong>No</strong></td>\n<td style=\"width: 82.4826px; height: 18px; text-align: center;\">&uarr;&uarr;&uarr;</td>\n<td style=\"width: 69.0451px; height: 18px; text-align: center;\">&nbsp;<strong>No</strong></td>\n</tr>\n</tbody>\n</table>\n<p>The condition <strong>worsens</strong> till delivery after which the hepatic dysfunction resolves. Appropriate management is immediate termination of pregnancy irrespective of gestational age by induction or delivery by Cesarean (for obstetric reasons) is done. Intensive supportive measures including blood transfusion should be provided.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 55-year-old lady comes with abnormal uterine bleeding. A hysterectomy was performed and the following specimen was retrieved. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Leiomyoma"
      },
      {
        "id": 2,
        "text": "Endometrial carcinoma"
      },
      {
        "id": 3,
        "text": "Endometrial polyp"
      },
      {
        "id": 4,
        "text": "Adenomyosis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Sub-mucous fibroids are the most symptomatic type and intra-mural fibroids are the most common type of uterine fibroids.</p>\n<p>Other options:</p>\n<p>Option B: Endometrial cancer&nbsp;presents as a <strong>polypoid</strong> mass protruding into the uterine cavity or as a <strong>diffuse thickening</strong> of the endometrium. The cut surface may appear <strong>white</strong> to <strong>yellow</strong> and may show <strong>areas</strong> of <strong>necrosis</strong> or <strong>hemorrhage.</strong></p>\n<p>Option C: Endometrial polyps are usually small and may be single or multiple. Grossly, they appear as soft, <strong>red to pink</strong>, often <strong>pedunculated</strong> (attached by a stalk) masses <strong>protruding</strong> into the uterine <strong>cavity.&nbsp;</strong>It presents with <strong>heavy cyclic</strong> or<strong> intermenstrual bleeding</strong>, or without complaints as an<strong> incidental</strong> finding on imaging.&nbsp;<strong>Estrogen</strong> and<strong> progesterone </strong>have been implicated in the <strong>growth</strong> of endometrial<strong> polyps</strong>, and higher receptor levels are seen compared with the normal endometrium.</p>\n<p>Option D: In Adenomyosis (Endometriosis interna),&nbsp;the uterus may appear <strong>bulky</strong> and symmetrically&nbsp;<strong>enlarged.</strong> On the cut section, the myometrium may appear <strong>thickened</strong> and may show tiny <strong>cystic</strong> spaces filled with <strong>old blood</strong> (chocolate cysts). The preferred treatment is hysterectomy. Localised excision or levonorgestrel IUCD is tried in younger women.</p>\n<p>The image below shows both the gross and histologic appearances of adenomyosis:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/be7abfd8ec1740d6bba3fefd5efbc24b.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c9c5a24cfd6545e49fd479455b302edcx1280x1415.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/25e1ad9b1ba54dbfb796a7ee6617e471x1280x1698.PNG"
    ]
  },
  {
    "text": "The ligament that maintains anteversion of the uterus during pregnancy is:",
    "choices": [
      {
        "id": 1,
        "text": "Round ligament"
      },
      {
        "id": 2,
        "text": "Cardinal ligament"
      },
      {
        "id": 3,
        "text": "Uterosacral ligament"
      },
      {
        "id": 4,
        "text": "Pubocervical ligament"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The <strong>round ligament</strong> helps maintain the <strong>anteversion</strong> of the uterus <strong>during pregnancy.&nbsp;</strong></p>\n<p>However, the <strong>anteversion</strong> in the <strong>non-pregnant uterus</strong> is maintained by both the <strong>uterosacral</strong> ligament and <strong>round</strong> ligament.</p>\n<p>Anteflexion of uterus is at the level of <strong>i</strong><strong>nternal os</strong>.&nbsp;</p>\n<table style=\"width: 535px;\">\n<tbody>\n<tr>\n<td style=\"width: 255.172px; text-align: center;\"><strong>Angle of anteversion</strong></td>\n<td style=\"width: 265.828px; text-align: center;\"><strong>Angle of anteflexion</strong></td>\n</tr>\n<tr>\n<td style=\"width: 255.171875px;\">Angle between the <strong>cervix and vagina</strong></td>\n<td style=\"width: 265.828125px;\">Angle between <strong>cervix and uterus</strong></td>\n</tr>\n<tr>\n<td style=\"width: 255.171875px;\"><strong>90<sup>o</sup></strong></td>\n<td style=\"width: 265.828125px;\"><strong>120<sup>o</sup></strong></td>\n</tr>\n</tbody>\n</table>\n<p>(Mnemonic -&nbsp;V for <strong>v</strong>ersion, V for <strong>v</strong>agina)</p>\n<p>The uterus normally lies in a position of anteversion and anteflexion.</p>\n<p>In&nbsp;<strong>anteversion</strong>, the external os is directed&nbsp;<strong>downward and backward</strong>, so that on vaginal examination, the fingers find that the&nbsp;<strong>lowest part&nbsp;</strong>of the<strong>&nbsp;cervix</strong>&nbsp;is the<strong>&nbsp;anterior lip</strong>.</p>\n<p>When the uterus is&nbsp;<strong>retroverted</strong>, the cervix is directed&nbsp;<strong>downward and forward</strong>, and the<strong>&nbsp;lowest part&nbsp;</strong>of the<strong>&nbsp;cervix</strong>&nbsp;is either&nbsp;<strong>the external os&nbsp;</strong>or its&nbsp;<strong>posterior lip</strong>.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3496d516cab2478d8dd2078efe928615x600x656.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8e46af91bf6c439c8660287ef610c30cx1280x2450.JPEG"
    ]
  },
  {
    "text": "Quadruple testing is done during:",
    "choices": [
      {
        "id": 1,
        "text": "9-11 weeks"
      },
      {
        "id": 2,
        "text": "12-14 weeks"
      },
      {
        "id": 3,
        "text": "15-20 weeks"
      },
      {
        "id": 4,
        "text": "22-28 weeks"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The <strong>quadruple screening test</strong> is ideally done in the second trimester, during <strong>15-20 weeks</strong> of gestation. The most <strong>accurate</strong> values are seen during <strong>16-18 weeks</strong> of gestation.&nbsp;</p>\n<p>It is the measurement of maternal serum alpha-fetoprotein (MSAFP), unconjugated estriol, hCG, and inhibin-A.&nbsp;</p>\n<p>In Down's syndrome (trisomy 21) or Edward's syndrome (trisomy 18), quadruple-marker screenings do not provide any added benefit over first-trimester screenings. It is generally used as a stand-alone test if screening is done for the first time in the second trimester or if first-trimester screening is not available.</p>\n<table style=\"width: 410px;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"width: 105px;\"><strong>&nbsp;</strong></td>\n<td style=\"width: 93px; text-align: center;\"><strong>Trisomy 21</strong></td>\n<td style=\"width: 100px; text-align: center;\"><strong>Trisomy 18</strong></td>\n<td style=\"width: 94px; text-align: center;\"><strong>Neural tube defect or abdominal wall defect</strong></td>\n<td style=\"width: 94px; text-align: center;\"><strong>Trisomy 13/ Patau syndrome</strong></td>\n</tr>\n<tr>\n<td style=\"width: 105px;\"><strong>MSAFP</strong></td>\n<td style=\"width: 93px;\">Low</td>\n<td style=\"width: 100px;\">Low</td>\n<td style=\"width: 94px;\"><strong>High</strong></td>\n<td style=\"width: 94px;\">&nbsp;Normal</td>\n</tr>\n<tr>\n<td style=\"width: 105px;\"><strong>&beta; hCG</strong></td>\n<td style=\"width: 93px;\"><strong>High</strong></td>\n<td style=\"width: 100px;\">Low</td>\n<td style=\"width: 94px;\">Normal</td>\n<td style=\"width: 94px;\">&nbsp;Normal</td>\n</tr>\n<tr>\n<td style=\"width: 105px;\"><strong>Unconjugated estriol</strong></td>\n<td style=\"width: 93px;\">Low</td>\n<td style=\"width: 100px;\">Low</td>\n<td style=\"width: 94px;\">Normal</td>\n<td style=\"width: 94px;\">&nbsp;Normal</td>\n</tr>\n<tr>\n<td style=\"width: 105px;\"><strong>Inhibin A</strong></td>\n<td style=\"width: 93px;\"><strong>High</strong></td>\n<td style=\"width: 100px;\">Normal/Low</td>\n<td style=\"width: 94px;\">Normal</td>\n<td style=\"width: 94px;\">&nbsp;<strong>High</strong></td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the ideal number of antenatal visits?",
    "choices": [
      {
        "id": 1,
        "text": "12-14"
      },
      {
        "id": 2,
        "text": "6-8"
      },
      {
        "id": 3,
        "text": "7-9"
      },
      {
        "id": 4,
        "text": "10-11"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The ideal number of antenatal visits is <strong>12-14</strong>.</p>\n<p>The antenatal visits should ideally be: <strong>monthly once</strong> up to <strong>28</strong> weeks, <strong>once</strong> in <strong>two</strong> weeks&nbsp;between <strong>28-36</strong> weeks, and <strong>once weekly</strong> visits from <strong>36 weeks</strong> onwards.</p>\n<p>This translates to a total of <strong>12-15 visits</strong>.</p>\n<p>The&nbsp;<strong>WHO</strong>&nbsp;increased the&nbsp;<strong>minimum</strong> number of antenatal visits from 4 to&nbsp;<strong>8</strong>&nbsp;visits&nbsp;to reduce perinatal mortality.</p>\n<p>In the <strong>Indian scenario</strong>, the earlier minimum of 4 visits were implemented as follows:</p>\n<ul>\n<li>1st&nbsp;visit: within 12 weeks (preferably as soon as pregnancy is suspected)</li>\n<li>2nd&nbsp;visit: between 14-26 weeks</li>\n<li>3rd&nbsp;visit: between 28-34 weeks</li>\n<li>4th&nbsp;visit: between 36 weeks and term</li>\n</ul>\n<p>A <strong>booked case</strong> is one that has <strong>at least</strong> <strong>3 antenatal visits</strong> with two visits in the third trimester.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A woman is diagnosed to be positive for HIV in her first trimester. What is the appropriate management?",
    "choices": [
      {
        "id": 1,
        "text": "Start ART immediately and continue till 6 weeks after delivery"
      },
      {
        "id": 2,
        "text": "Start ART after 1st trimester and continue life-long"
      },
      {
        "id": 3,
        "text": "Start ART immediately and continue life-long"
      },
      {
        "id": 4,
        "text": "Start ART after 1st trimester and continue till 6 weeks after delivery"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>ART</strong> should be <strong>initiated immediately and&nbsp;continued lifelong</strong> in<strong>&nbsp;</strong>all <strong>pregnant </strong>and<strong> breastfeeding </strong>women with <strong>HIV. </strong>This is&nbsp;regardless of their WHO clinical stage and CD4 cell count.</p>\n<p>*Note: Pearl attached below has been updated according to the NACO ART guidelines 2021. Efavirenz has been replaced by <strong>Dolutegravir</strong> as per the new guidelines.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The fate of the Mullerian duct is determined by the:",
    "choices": [
      {
        "id": 1,
        "text": "X chromosome"
      },
      {
        "id": 2,
        "text": "Y chromosome"
      },
      {
        "id": 3,
        "text": "1st chromosome"
      },
      {
        "id": 4,
        "text": "2nd chromosome"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The <strong>fate</strong> of the <strong>Mullerian duct</strong> is determined by the presence or absence of the <strong>Y chromosome&nbsp;</strong>as follows:</p>\n<ul>\n<li>In <strong>presence</strong> of the Y chromosome, the&nbsp;<strong>SRY gene&nbsp;</strong>(<strong><u>S</u></strong>ex-determining<strong>&nbsp;<u>R</u></strong>egion of the&nbsp;<strong><u>Y</u>&nbsp;</strong>chromosome) produces the protein called the&nbsp;<strong>t</strong><strong>estis determining factor&nbsp;</strong>which leads to the gonads developing as the testes. The&nbsp;<strong>Sertoli cells </strong>of the<strong> testis</strong>&nbsp;will then<strong>&nbsp;</strong>produce a peptide hormone, the&nbsp;<strong>M&uuml;llerian inhibiting substance&nbsp;</strong>(<strong>MIS</strong>),&nbsp;also known as Anti-M&uuml;llerian hormone (AMH), and cause the M&uuml;llerian ducts to regress.</li>\n<li>In <strong>absence</strong> of the Y chromosome and the SRY gene consequently, the gonads will develop as <strong>ovaries</strong> and the Mullerian duct will differentiate into the fallopian tubes and the upper part of the vagina. The&nbsp;<strong>WNT4</strong>&nbsp;gene on the 1st chromosome promotes female sex development<strong>.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is the first step after fitting the pessary to check if the pessary is adequately retained?",
    "choices": [
      {
        "id": 1,
        "text": "Asking the patient to void and see if the pessary is in place"
      },
      {
        "id": 2,
        "text": "Seeing if the patient feels any discomfort, which means that the pessary is retained"
      },
      {
        "id": 3,
        "text": "Asking the patient to perform the Valsalva manouvre and see if the pessary is in place"
      },
      {
        "id": 4,
        "text": "Being able to admit two fingers between the ring and the pessary."
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The first step after fitting the pessary to check if the pessary is adequately retained is to ask the patient to perform<strong> Valsalva's maneuver</strong> or&nbsp;<strong>cough</strong> and see if the pessary is in place.</p>\n<p>There is some level of&nbsp;<strong>descent</strong> of the pessary with these maneuvers is to be <strong>expected,</strong> but the pessary should <strong>return</strong> to its <strong>normal</strong> position when these efforts are&nbsp;<strong>stopped.</strong>&nbsp;If the <strong>pessary descends</strong> to the <strong>introitus</strong> with these maneuvers, then a <strong>larger size</strong> pessary should be <strong>tried.</strong>&nbsp;</p>\n<p>The pessary is well-fitted if you are able to&nbsp;<strong>slide </strong>the <strong>ring</strong> of the pessary up and down along the vaginal sidewall. It is well-fitted if you are able to insert <strong>one finger</strong> between the<strong> vaginal sidewall</strong> and the edge of the pessary. When&nbsp;the labia are separated, a well-supported pessary is not usually visible.</p>\n<p>The patient should be comfortable, and able to <strong>void urine</strong> with the <strong>pessary</strong> in place before leaving the clinic.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3a6f746115c940c094d1e65fbc17d9e3x1280x2797.JPEG"
    ]
  },
  {
    "text": "A pregnant woman presents with obstructed labor and is grossly dehydrated. Investigations reveal fetal demise. What will be the management?",
    "choices": [
      {
        "id": 1,
        "text": "Craniotomy"
      },
      {
        "id": 2,
        "text": "Decapitation"
      },
      {
        "id": 3,
        "text": "Cesarean section"
      },
      {
        "id": 4,
        "text": "Forceps extraction"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The best management in the given clinical scenario<strong> </strong>is <strong>cesarean section</strong>.</p>\n<p>Obstructive labor management involves administering <strong>intravenous fluids</strong> to correct dehydration, providing <strong>antibiotics</strong> to prevent infection, and promptly performing a <strong>cesarean</strong> section to <strong>relieve</strong> the <strong>obstruction</strong>. If the <strong>fetus</strong> is <strong>alive,</strong> an <strong>immediate</strong> cesarean section is typically performed. Management of obstructed labor&nbsp;<strong>never</strong> involves a wait-and-watch&nbsp;approach or augmenting with oxytocin.</p>\n<p><strong>Clinical features</strong> of obstructed labor include maternal exhaustion, <strong>dehydration,</strong> tachycardia, tachypnea, <strong>genital sepsis</strong>, postpartum hemorrhage, and <strong>shock</strong>.<br />On <strong>P/A examination</strong> the <strong>upper </strong>uterine segment is <strong>tender</strong> and tonically <strong>contracted</strong>. The <strong>lower</strong> uterine segment is <strong>thin</strong> and<strong> stretched</strong>. A <strong>groove</strong>/depression is felt <strong>between </strong>the <strong>upper</strong> uterine segment and the <strong>lower</strong> uterine segment. This is called a <strong>Bandls ring.</strong></p>\n<p>Complications of obstructed labor include <strong>rupture</strong> of the <strong>uterus</strong> and <strong>vesicovaginal fistula.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The best time to identify the type of twin pregnancy on ultrasound is:",
    "choices": [
      {
        "id": 1,
        "text": "18-22 weeks"
      },
      {
        "id": 2,
        "text": "24-28 weeks"
      },
      {
        "id": 3,
        "text": "11-14 weeks"
      },
      {
        "id": 4,
        "text": "14-18 weeks"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The best time to <strong>identify</strong> the<strong> type of twin</strong> pregnancy on ultrasound is <strong>11-14 weeks.</strong></p>\n<p>Twin pregnancies should ideally be dated when the <strong>crown&ndash;rump length</strong> (CRL) measurement is <strong>between 45 and 84 mm</strong> (i.e. 11 + 0 to 13 + 6 weeks of gestation).</p>\n<p>Chorionicity should be ideally determined between <strong>11 + 0</strong> and<strong> 13 + 6 weeks</strong> of gestation (the earliest time to identify chorionicity is 7 weeks). This is done using the membrane thickness at the site of insertion of the amniotic membrane into the placenta. The T\u2010sign (in monochorionic twins) or lambda sign (in dichorionic twins) can be seen here. As the determination of <strong>chorionicity</strong> is most accurate when the amnion and chorion have not yet been fused, the<strong> first\u2010trimester scan</strong> in twin pregnancy is highly important.</p>\n<p>Markers of <strong>dichorionicity</strong> include <strong>4 layers</strong> of membranes between the twins, membrane <strong>thickness <span style=\"text-decoration: underline;\">&gt;</span>2mm</strong>, <strong>different sex </strong>of twins, <strong>2</strong> different <strong>placentas,</strong> and <strong>positive twin peak</strong> sign.</p>\n<p>Women with an uncomplicated dichorionic twin pregnancy should have a first\u2010trimester scan, a detailed second\u2010trimester scan, and scans every 4 weeks thereafter.&nbsp;</p>\n<p>Women with uncomplicated monochorionic twins should have a first\u2010trimester scan and then scans every 2 weeks from 16 weeks onwards. This is done in order to detect TTTS and TAPS in a timely manner.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is false about the umbilical cord?",
    "choices": [
      {
        "id": 1,
        "text": "It has one artery and two veins"
      },
      {
        "id": 2,
        "text": "It contains a gelatinous substance called Wharton's jelly"
      },
      {
        "id": 3,
        "text": "Presence of a single umbilical artery is associated with congenital anomalies"
      },
      {
        "id": 4,
        "text": "Normal average umbilical cord length is 50-60 cms"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The umbilical cord normally has <strong>two arteries</strong> and <strong>one vein.</strong>&nbsp;The presence of a&nbsp;<strong>single&nbsp;umbilical artery</strong>&nbsp;is the most common vascular anomaly of the cord. It is associated with <strong>congenital anomalies </strong>such as genitourinary and cardiac anomalies.</p>\n<p>The umbilical cord is a tube that connects the fetus to the placenta. It contains&nbsp;umbilical vessels and an obliterated allantois duct, all surrounded by <strong>Wharton's jelly</strong> and contained within an outer layer of amnion. Maternal blood enters the fetus through the umbilical vein, and blood exits the fetus via the two umbilical arteries.&nbsp;Wharton's jelly&nbsp;is a <strong>gelatinous mucopolysaccharide</strong> that protects the umbilical vessels. <strong>Local collections </strong>of Wharton's jelly produce&nbsp;<strong>false knots</strong> in the cord.&nbsp;</p>\n<p>The <strong>average length</strong> of the umbilical cord is between <strong>40-70</strong> cm at term. A <strong>long</strong> cord can form a loop around the fetus' neck and can cause <strong>asphyxia.</strong> A <strong>short</strong> cord can result in cord <strong>rupture</strong> during labor.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is false about non-invasive prenatal testing?",
    "choices": [
      {
        "id": 1,
        "text": "It uses cell-free circulating fetal DNA in the maternal serum"
      },
      {
        "id": 2,
        "text": "It is used for the diagnosis of trisomy 13, 18 and 21"
      },
      {
        "id": 3,
        "text": "It can be performed after 10 weeks of gestation"
      },
      {
        "id": 4,
        "text": "It is done after the routine first trimester ultrasound assessment"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Non-invasive prenatal testing (<strong>NIPT</strong>) is used for the <strong>screening</strong> of <strong>trisomy 13, 18</strong> and <strong>21</strong> and <strong>Turner's</strong> syndrome. It is not a diagnostic test.</p>\n<p>It is a novel genetic test that uses\u00a0<strong>cell-free circulating fetal DNA </strong>in the<strong> maternal serum</strong> for screening of chromosomal anomalies.\u00a0</p>\n<p>DNA from the fetus is found circulating in the maternal blood in two forms - either inside the intact fetal cells or as cell-free DNA from the breakdown of placental fetal cells.\u00a0In NIPT, the cell-free chromosome fragments are measured and the quantitative differences from normal fetuses are noted.</p>\n<p>NIPT can be performed <strong>after 10 weeks</strong> of gestation and is recommended after the routine first-trimester ultrasound assessment in <strong>high-risk pregnancies</strong> or if either <strong>1st or 2nd-trimester</strong> screening becomes <strong>positive.</strong> Its disadvantage is that it is very <strong>expensive</strong> and it can be used for screening of only a few chromosomal anomalies such as trisomy 13, 18, and 21 and it doesn't analyse the entire karyotype.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not a cause of secondary PPH?",
    "choices": [
      {
        "id": 1,
        "text": "Retained cotyledon"
      },
      {
        "id": 2,
        "text": "Endometritis"
      },
      {
        "id": 3,
        "text": "Placental polyp"
      },
      {
        "id": 4,
        "text": "Placenta previa"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Placenta</strong> <strong>previa</strong> does not cause secondary postpartum hemorrhage. It causes <strong>primary</strong> postpartum hemorrhage.</p>\n<p><strong>Types</strong> of PPH:</p>\n<p><strong>Primary</strong>/early: Hemorrhage occurring within 24 hours of childbirth.</p>\n<p><strong>Secondary</strong>/ late: Hemorrhage occurring after 24 hours and up to 12 weeks postpartum.</p>\n<p><strong>Causes and risk</strong>&nbsp;<strong>f</strong><strong>actors for PPH</strong>:</p>\n<table style=\"height: 383px; width: 688.764px;\">\n<tbody>\n<tr style=\"height: 28px;\">\n<td style=\"width: 531px; text-align: center; height: 28px;\" colspan=\"3\"><strong>Primary PPH</strong></td>\n<td style=\"width: 315.764px; text-align: center; height: 36.9844px;\" rowspan=\"2\"><strong>Secondary PPH</strong></td>\n</tr>\n<tr style=\"height: 8.98438px;\">\n<td style=\"width: 177px; text-align: center; height: 8.98438px;\"><strong>Atonic PPH</strong></td>\n<td style=\"width: 177px; text-align: center; height: 8.98438px;\"><strong>Traumatic PPH</strong></td>\n<td style=\"width: 177px; text-align: center; height: 8.98438px;\"><strong>Coagulopathy</strong></td>\n</tr>\n<tr style=\"height: 25px;\">\n<td style=\"width: 177px; height: 25px;\">\n<p>Primiparity or grand multiparity</p>\n</td>\n<td style=\"width: 177px; height: 25px;\">\n<p>Instrumental delivery</p>\n</td>\n<td style=\"width: 177px; height: 25px;\">\n<p>Sepsis</p>\n</td>\n<td style=\"width: 315.764px; height: 25px;\">Retained bits of cotyledon or membranes</td>\n</tr>\n<tr style=\"height: 25px;\">\n<td style=\"width: 177px; height: 25px;\">\n<p>Placental abnormalities like placenta previa/accreta/increta/percreta/abruptio placenta</p>\n</td>\n<td style=\"width: 177px; height: 25px;\">\n<p>Precipitate labour</p>\n</td>\n<td style=\"width: 177px; height: 25px;\">HELLP syndrome</td>\n<td style=\"width: 315.764px; height: 25px;\">Secondary haemorrhage from Caesarean section wound</td>\n</tr>\n<tr style=\"height: 25px;\">\n<td style=\"width: 177px; height: 25px;\">\n<p>Overdistended uterus as in multi-gestational pregnancy, hydramnios, macrosomia</p>\n</td>\n<td style=\"width: 177px; height: 25px;\">Macrosomia</td>\n<td style=\"width: 177px; height: 25px;\">IUD</td>\n<td style=\"width: 315.764px; height: 25px;\">Puerperal uterine inversion</td>\n</tr>\n<tr style=\"height: 25px;\">\n<td style=\"width: 177px; height: 25px;\">\n<p>Induction of labour with prostaglandins or oxytocin</p>\n</td>\n<td style=\"width: 177px; height: 25px;\">Episiotomy</td>\n<td style=\"width: 177px; height: 25px;\">&nbsp;</td>\n<td style=\"width: 315.764px; height: 25px;\">Abnormal involution of placental site</td>\n</tr>\n<tr style=\"height: 25px;\">\n<td style=\"width: 177px; height: 25px;\">\n<p>Prolonged labour</p>\n</td>\n<td style=\"width: 177px; height: 25px;\">&nbsp;</td>\n<td style=\"width: 177px; height: 25px;\">&nbsp;</td>\n<td style=\"width: 315.764px; height: 25px;\">Infected fibroid&nbsp;</td>\n</tr>\n<tr style=\"height: 25px;\">\n<td style=\"width: 177px; height: 25px;\">\n<p>Precipitate labour</p>\n</td>\n<td style=\"width: 177px; height: 25px;\">&nbsp;</td>\n<td style=\"width: 177px; height: 25px;\">&nbsp;</td>\n<td style=\"width: 315.764px; height: 25px;\">Endometritis</td>\n</tr>\n<tr style=\"height: 25px;\">\n<td style=\"width: 177px; height: 25px;\">\n<p>Previous h/o PPH</p>\n</td>\n<td style=\"width: 177px; height: 25px;\">&nbsp;</td>\n<td style=\"width: 177px; height: 25px;\">&nbsp;</td>\n<td style=\"width: 315.764px; height: 25px;\">Placental polyp&nbsp;</td>\n</tr>\n<tr style=\"height: 25px;\">\n<td style=\"width: 177px; height: 25px;\">\n<p>Obesity</p>\n</td>\n<td style=\"width: 177px; height: 25px;\">&nbsp;</td>\n<td style=\"width: 177px; height: 25px;\">&nbsp;</td>\n<td style=\"width: 315.764px; height: 25px;\">Carcinoma of cervix</td>\n</tr>\n<tr style=\"height: 25px;\">\n<td style=\"width: 177px; height: 25px;\">Age &gt;40 years</td>\n<td style=\"width: 177px; height: 25px;\">&nbsp;</td>\n<td style=\"width: 177px; height: 25px;\">&nbsp;</td>\n<td style=\"width: 315.764px; height: 25px;\">Uterine av fistula</td>\n</tr>\n</tbody>\n</table>\n<p>The image below shows the prevention and management of PPH:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cbb79d2f036d4ca097058a5c33d49794x1280x2569.JPEG"
    ]
  },
  {
    "text": "A 16-year-old girl with primary amenorrhea has the following features. What is the most probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Testicular feminizing syndrome"
      },
      {
        "id": 2,
        "text": "Gonadal dysgenesis"
      },
      {
        "id": 3,
        "text": "Kallmann syndrome"
      },
      {
        "id": 4,
        "text": "Turner syndrome"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The scenario of a 16-year-old girl with absent secondary sexual characters, normal stature, with XX karyotype and high FSH and LH is suggestive of&nbsp;<strong>pure&nbsp;</strong><strong>gonadal dysgenesis</strong>.</p>\n<p><strong>46 XX</strong> and 46 XY gonadal dysgenesis without the phenotype of Turner's syndrome (short stature, webbed neck) is described as pure gonadal dysgenesis. It is characterized by the presence of <strong>primary amenorrhea</strong> with or without normal secondary sexual characteristics.&nbsp;</p>\n<p>Option A: Testicular feminizing syndrome occurs in karyotype <strong>XY.&nbsp;</strong>Secondary sexual characters are present and the uterus is absent.</p>\n<div class=\"page\" title=\"Page 644\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Option C: Kallmann syndrome is a form of hypogonadotropic hypogonadism. GnRH synthesis is reduced, therefore <strong>FSH</strong> and <strong>LH</strong> are <strong>low,</strong>&nbsp;and secondary sexual characters are absent.</p>\n<p>Option D: Turner syndrome is associated with <strong>short stature</strong> and karyotype <strong>X0</strong>.&nbsp;Secondary sexual characters and the uterus is present, but the <strong>ovaries</strong> are <strong>streaked.</strong></p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4ce0d83565e9407da97052e03b4ca3f4x600x878.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8fdec7bb5c8340998669563695fd081fx1280x2558.JPEG"
    ]
  },
  {
    "text": "Fimbriectomy is also known as:",
    "choices": [
      {
        "id": 1,
        "text": "Pomeroy technique"
      },
      {
        "id": 2,
        "text": "Uchida's procedure"
      },
      {
        "id": 3,
        "text": "Kroener's procedure"
      },
      {
        "id": 4,
        "text": "Irving's procedure"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Madlener's </strong>procedure<strong> -</strong>&nbsp;A loop of the fallopian <strong>tube is&nbsp;crushed</strong>&nbsp;and then ligated with a nonabsorbable suture.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4caec47b20a04233891a5a2610e280aax1280x992.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8de23c3cf2764095b9cc139758f29e4ax1280x973.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a95b458acaae46e5bd94ba5828801655x1280x1852.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/459d8d4c6f1141a484d36daa5544d18ax1280x991.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/13030913f5e542d3ac44667d89b41702x1280x973.JPEG"
    ]
  },
  {
    "text": "Which of the following cannot cross the placenta?",
    "choices": [
      {
        "id": 1,
        "text": "1 and 2"
      },
      {
        "id": 2,
        "text": "Only 3"
      },
      {
        "id": 3,
        "text": "2 and 3"
      },
      {
        "id": 4,
        "text": "3 and 4"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Albumin and IgM cannot cross the placenta.</p>\n<p><strong>High molecular weight</strong> substances such as proteins (e.g., albumin, IgM, IgA) <strong>cannot cross</strong> the placenta, except IgG.</p>\n<p>Substances which can cross the placenta are as follows:</p>\n<table style=\"width: 457px;\">\n<tbody>\n<tr>\n<td style=\"width: 217px; text-align: center;\">\n<p><strong>Substances</strong></p>\n</td>\n<td style=\"width: 217px; text-align: center;\">\n<p><strong>&nbsp;Mechanism</strong></p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 217px; text-align: left;\">\n<p>O<sub>2&nbsp;<br /></sub>CO<sub>2<br /></sub>Water<br />Electrolytes<br />Anesthetic agents&nbsp;</p>\n</td>\n<td style=\"width: 217px; text-align: left;\">Simple diffusion</td>\n</tr>\n<tr>\n<td style=\"width: 217px; text-align: left;\">\n<p>Immunoglobulin G&nbsp;<br />(molecular weight 160,000 Da)</p>\n</td>\n<td style=\"width: 217px; text-align: left;\">Endocytosis via Fc receptors in the trophoblast&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 217px; text-align: left;\">Glucose&nbsp;&nbsp;</td>\n<td style=\"width: 217px; text-align: left;\">Facilitated diffusion via glucose transport proteins (GLUTs)</td>\n</tr>\n<tr>\n<td style=\"width: 217px; text-align: left;\">Amino acids</td>\n<td style=\"width: 217px; text-align: left;\">Transport-protein-mediated active transport</td>\n</tr>\n<tr>\n<td style=\"width: 217px; text-align: left;\">\n<p>Lipids:</p>\n<p>Glycerol<br />Essential fatty acids&nbsp;<br />LDL</p>\n</td>\n<td style=\"width: 217px; text-align: left;\">Endocytosis via specific receptors&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 217px; text-align: left;\">\n<p>Minerals:</p>\n<p>Iodine&nbsp;<br />Iron (unidirectional from mother to fetus)<br />Calcium<br />Phosphorus</p>\n</td>\n<td style=\"width: 217px; text-align: left;\">Carrier-mediated active transport&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 217px; text-align: left;\">\n<p>Vitamins:</p>\n<p>Vit A&nbsp;<br />Vit C<br />Vit D</p>\n</td>\n<td style=\"width: 217px; text-align: left;\">Carrier-mediated active transport&nbsp;</td>\n</tr>\n</tbody>\n</table>\n<p>Note: Maternal hormones like <strong>insulin, steroid</strong> hormones, and <strong>thyroid</strong> hormones <strong>cross</strong> the placenta<strong> very slowly</strong>, and only in amounts enough to support fetal development. However, calcitonin and parathormone do not cross the placenta.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "When is dilatation and curettage contraindicated?",
    "choices": [
      {
        "id": 1,
        "text": "Pelvic inflammatory disease"
      },
      {
        "id": 2,
        "text": "Ectopic pregnancy"
      },
      {
        "id": 3,
        "text": "Menstrual irregularities"
      },
      {
        "id": 4,
        "text": "Endometriosis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Dilatation and curettage (D&amp;C) is contraindicated in <strong>pelvic inflammatory disease</strong>&nbsp;(PID) as it increases the risk of ascending genital infection.</p>\n<p>D&amp;C is a minor gynecological procedure of dilating the cervix and curetting the endometrial tissue from the uterine cavity. Diagnostic indications of D&amp;C include AUB, secondary amenorrhea&nbsp;to detect tubercular endometritis, postmenopausal bleeding to rule out endometrial cancer or hyperplasia, and infertility due to genital TB.</p>\n<p>Therapeutic indications of D&amp;C include missed abortion, incomplete abortion, retained products of conception, and endometrial polypectomy.</p>\n<p><strong>Absolute contraindication</strong> of D&amp;C includes&nbsp;Suspected/ desired <strong>pregnancy</strong> and <strong>lower genital</strong> tract <strong>infection.</strong> However, D&amp;C is performed in some cases with genital infections like septic abortion (where retained pieces of placenta act as a nidus and need to be removed) and pyometra (as there is cervical obstruction with superinfection of menstrual blood and cellular debris, D&amp;C is appropriate to remove the obstruction as well as the source of infection)</p>\n<p>Complications of D&amp;C include ascending infection, cervical tear with bleeding, incompetent os, uterine perforation, and ashermann syndrome.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b93a57fa46a74483919fa882c10bc6f1x1280x4487.JPEG"
    ]
  },
  {
    "text": "A 45-year-old lady complains of post-coital bleeding. She has a positive pap smear. What is the next line of management?",
    "choices": [
      {
        "id": 1,
        "text": "Colposcopy directed biopsy"
      },
      {
        "id": 2,
        "text": "Cone biopsy"
      },
      {
        "id": 3,
        "text": "Repeat pap smear"
      },
      {
        "id": 4,
        "text": "Hysterectomy"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The appropriate management of a 45-year-old with a <strong>positive pap</strong> smear and post-coital bleeding is a&nbsp;<strong>colposcopy-directed biopsy.</strong></p>\n<p>A&nbsp;<strong>per speculum examination </strong>must be done whenever a female comes with<strong> post-coital bleeding</strong> in order to evaluate for carcinoma of the cervix. If growth is visible, a punch biopsy should be done, and else if no growth is visible, then a pap smear is done. A pap smear is a <strong>screening test</strong> for cervical <strong>cancer</strong>. The presence of abnormal cells/ a positive test requires further evaluation by <strong>colposcopy,</strong> cervical biopsy, or fractional curettage.</p>\n<p>Cervical cancer<strong> screening</strong> should start at <strong>age 21</strong>. Women aged<strong> 21-29</strong> should have a<strong>&nbsp;pap smear every 3 years</strong>, while women aged<strong> 30-65</strong> should have both <strong>HPV and pap co-test</strong> every <strong>5 years</strong>.&nbsp;Women should stop having cervical cancer screening after the age of <strong>65 years</strong>. If a pap smear is suspicious, then screening is continued till 75 years. HIV+ve women should have annual checkups until three consecutive negative tests followed by testing every 3 years for life.</p>\n<p>Pap testing should be done <strong>prior</strong> to <strong>vaginal examination.&nbsp;</strong>Lubricants should not be used and the&nbsp;patient should not be menstruating during the pap test. The patient should not have intercourse 24hrs prior to the test. The ideal <strong>time</strong> is around <strong>ovulation.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In superfecundation, which of the following is seen?",
    "choices": [
      {
        "id": 1,
        "text": "Fertilisation of 2 ova released at the same time by sperms released at single intercourse"
      },
      {
        "id": 2,
        "text": "Fertilisation of 2 ova released in the same cycle by sperms released at intercourse on 2 different occasion"
      },
      {
        "id": 3,
        "text": "Both of the above"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Superfecundation </strong>is the fertilization of<strong> two</strong> different <strong>ova</strong> released in the <strong>same cycle</strong>, by two&nbsp;<strong>separate acts of coitus</strong> within a short period of time.</p>\n<p>Superfecundation is the fertilization of&nbsp;<strong>two different ova</strong>&nbsp;in the&nbsp;<strong>same menstrual cycle </strong>(as suggested by the same gestational age)<strong>&nbsp;</strong>by separate acts of coitus. It can occur even after <strong>artificial reproductive therapy.</strong> Hence, after embryo transfer, intercourse must be avoided. Heteropaternal superfecundation is used to refer to instances of two different males fathering fraternal twins. This leads to the possibility of twins also being half-siblings. This&nbsp;may give rise to the doubt of adultery and infidelity.&nbsp;</p>\n<p><strong>Superfetation </strong>is the fertilization of<strong> two ova</strong> released in <strong>different</strong> menstrual <strong>cycles</strong>. This is not seen in humans. The nidation and development of one fetus over another fetus is <strong>theoretically possible</strong> until the decidual space is obliterated by <strong>14-16 weeks of pregnancy.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All are true regarding peripartum cardiomyopathy except _____",
    "choices": [
      {
        "id": 1,
        "text": "Development of cardiac failure within 5 months of delivery"
      },
      {
        "id": 2,
        "text": "Left ventricular diastolic dysfunction"
      },
      {
        "id": 3,
        "text": "Absence of identifiable cause"
      },
      {
        "id": 4,
        "text": "Dilated left ventricle"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Left ventricular <strong>systolic dysfunction</strong> is a feature of peripartum cardiomyopathy (also known as postpartum cardiomyopathy) and <strong>not diastolic dysfunction</strong>.</p>\n<p>Peripartum cardiomyopathy (PPCM) is a type of <strong>dilated</strong> cardiomyopathy. It develops during the&nbsp;<strong>last</strong> <strong>month</strong> of pregnancy or <strong>within</strong> the first <strong>5 months</strong> following delivery.&nbsp;</p>\n<p>The predisposing factors&nbsp;include&nbsp;<strong>Cardiac gene mutations</strong>&nbsp;involving several genes like&nbsp;TTNC1, TTN, and STAT3,&nbsp;<strong>Twin pregnancy/ multifetal gestation,&nbsp;</strong><strong>Smoking,</strong> and<strong>&nbsp;</strong><strong>Preeclampsia.&nbsp;</strong>Other proposed causes include viral myocarditis, abnormal immune response to pregnancy, malnutrition, inflammation, etc.</p>\n<p class=\"p1\">PPCM is associated with <strong>increased</strong>&nbsp;secretion of <strong>prolactin</strong>&nbsp;by the pituitary and antiangiogenic molecule&nbsp;<strong>sFlt-1</strong> (soluble fms-like tyrosine kinase) by the <strong>placenta</strong> at term gestation.</p>\n<p class=\"p1\"><strong>Pearson&rsquo;s diagnostic criteria</strong> for PPCM:</p>\n<ul>\n<li>Development of cardiac failure in the <strong>last month </strong>of pregnancy or within <strong>5 months after delivery</strong></li>\n<li>Absence of an identifiable cause for the cardiac failure</li>\n<li>Absence of recognizable heart disease prior to the last month of pregnancy, and</li>\n<li>Left ventricular systolic dysfunction demonstrated by&nbsp;<strong>echocardiographic criteria</strong>, such as ejection fraction &lt;45% or fractional shortening &lt;30% along with a dilated left ventricle.</li>\n</ul>\n<p>Management involves treating the features of heart failure.<strong> Bromocriptine</strong> has been found useful in this condition. Many women recover within 6 months of delivery, while some continue to have residual effects.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not the mechanism of action of progesterone only pills?",
    "choices": [
      {
        "id": 1,
        "text": "Thicken the cervical mucus"
      },
      {
        "id": 2,
        "text": "Prevents ovulation"
      },
      {
        "id": 3,
        "text": "Kills the sperms in the cervical canal"
      },
      {
        "id": 4,
        "text": "Inhibits penetration of sperm"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Minipills or <strong>progesterone-only pills (POP)</strong> do not kill sperm in the cervical canal. Progesterone-only pills act by <strong>thickening</strong>\u00a0the <strong>cervical mucus</strong>\u00a0(the main mechanism of all POPs except cerazette) that inhibits penetration of sperms,<strong> inhibiting tubal motility</strong>, and <strong>suppressing ovulation</strong>.\u00a0</p>\n<p>Other advantages of POPs include a <strong>reduction</strong> in the incidence of <strong>pelvic inflammatory diseases</strong> and <strong>sexually transmitted diseases</strong> (due to thickened cervical mucus).</p>\n<p>Due to the <strong>inhibition</strong> of <strong>tubal motility,</strong> the <strong>absolute risk</strong> of all pregnancies including ectopic pregnancy <strong>decreases,</strong> while the <strong>relative risk</strong> of <strong>ectopic</strong> pregnancy <strong>increases.\u00a0</strong>But a previous history of ectopic pregnancy is not a contraindication for POP.</p>\n<p>POPs do not affect\u00a0<strong>clotting, lipid</strong> metabolism, and <strong>carbohydrate metabolism.</strong> So they can safely be used by women who are obese, breastfeeding, hypertensive, have SLE or a history of thromboembolism, diabetic with vascular disease. Significant <strong>adverse</strong> effects of POPs are <strong>irregular bleeding</strong> (mostly scanty), and <strong>secondary amenorrhea</strong> after longtime usage as it causes endometrial atrophy.</p>\n<p><strong>Contraindications</strong> for POPs include <strong>undiagnosed vaginal bleeding, pregnancy,</strong> known or suspected <strong>breast cancer,</strong> and benign or malignant <strong>liver tumors.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not considered as a factor for a high-risk pregnancy?",
    "choices": [
      {
        "id": 1,
        "text": "Obesity"
      },
      {
        "id": 2,
        "text": "Polyhydramnios"
      },
      {
        "id": 3,
        "text": "Anaemia"
      },
      {
        "id": 4,
        "text": "Previous manual removal of placenta"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Previous manual removal of the placenta does not indicate a high-risk pregnancy.</p>\n<p>The <strong>high-risk pregnancies</strong> according to the&nbsp;Pregnancy Risk Assessment Monitoring System by the CDC are<strong>:</strong></p>\n<table style=\"height: 446px; width: 615.283px;\">\n<tbody>\n<tr>\n<td style=\"width: 159px;\"><strong>Current pregnancy complications</strong></td>\n<td style=\"width: 153px;\"><strong>Obstetric history</strong></td>\n<td style=\"width: 132.283px;\">Other disorders</td>\n</tr>\n<tr>\n<td style=\"width: 159px;\">\n<p>Preterm labor (&lt;37 Wks) and Post-term (&gt;&nbsp;42 wk)</p>\n</td>\n<td style=\"width: 153px;\">\n<p>Intrauterine growth restriction</p>\n</td>\n<td style=\"width: 132.283px;\"><strong>Cardiovascular&nbsp; </strong>factors<strong>&nbsp;</strong>like chronic hypertension, severe heart failure,&nbsp;and<strong> renal</strong> disorders</td>\n</tr>\n<tr>\n<td style=\"width: 159px;\">Preterm premature rupture of membranes</td>\n<td style=\"width: 153px;\">Stillbirth</td>\n<td style=\"width: 132.283px;\"><strong>Metabolic </strong>disorders<strong>&nbsp;</strong>like&nbsp;Obesity,<br />Insulin-dependent diabetes, Previous endocrine ablation, Thyroid disorders</td>\n</tr>\n<tr>\n<td style=\"width: 159px;\">Moderate to severe preeclampsia</td>\n<td style=\"width: 153px;\">Late abortion (16&ndash;20 wk)</td>\n<td style=\"width: 132.283px;\"><strong>Hematological</strong> problems like sickle cell disease, severe anemia<br />Thrombophilia</td>\n</tr>\n<tr>\n<td style=\"width: 159px;\">Polyhydramnios (hydramnios) or oligohydramnios</td>\n<td style=\"width: 153px;\">Fetal exchange transfusion (Rh incompatibility)</td>\n<td style=\"width: 132.283px;\"><strong>Infections&nbsp;</strong>(malaria, HIV)&nbsp;and&nbsp;<strong>Autoimmune</strong> disorders</td>\n</tr>\n<tr>\n<td style=\"width: 159px;\">Uterine rupture</td>\n<td style=\"width: 153px;\">Multifetal pregnancy</td>\n<td style=\"width: 132.283px;\"><strong>Epilepsy</strong></td>\n</tr>\n<tr>\n<td style=\"width: 159px;\">Antepartum hemorrhage (Placenta previa, and Abruptio placenta)&nbsp;</td>\n<td style=\"width: 153px;\">Previous brachial plexus injury</td>\n<td style=\"width: 132.283px;\"><strong>Anatomic</strong> abnormalities<strong>&nbsp;</strong>like uterine malformation<br />and cervical incompetence</td>\n</tr>\n<tr>\n<td style=\"width: 159px;\">Fetal tachycardia or bradycardia for&nbsp;&nbsp;&gt;30 min</td>\n<td style=\"width: 153px;\">Abnormal fetal position</td>\n<td style=\"width: 132.283px;\">Exposure to<strong> teratogens&nbsp;</strong>like alcohol, drugs, smoking</td>\n</tr>\n<tr>\n<td style=\"width: 159px;\">Fetal weight&nbsp;&lt;&nbsp;2.5 kg or &gt;4kg</td>\n<td style=\"width: 153px;\">Previous h/o myomectomy, repair of complete perineal tear, vesicovaginal fistula,&nbsp;and stress incontinence</td>\n<td style=\"width: 132.283px;\"><strong>Family</strong> history of diabetes, hypertension or <br />multiple pregnancy and congenital malformation</td>\n</tr>\n<tr>\n<td style=\"width: 159px;\">Chorioamnionitis</td>\n<td style=\"width: 153px;\">&nbsp;</td>\n<td style=\"width: 132.283px;\"><strong>Low</strong> socioeconomic status</td>\n</tr>\n<tr>\n<td style=\"width: 159px;\">Prolapsed cord</td>\n<td style=\"width: 153px;\">&nbsp;</td>\n<td style=\"width: 132.283px;\">Abnormal cervical cytologic findings</td>\n</tr>\n<tr>\n<td style=\"width: 159px;\">Fetal acidosis pH&nbsp;&le;7</td>\n<td style=\"width: 153px;\">&nbsp;</td>\n<td style=\"width: 132.283px;\">&nbsp;</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Long-standing pelvic inflammation may lead to which of the following conditions?",
    "choices": [
      {
        "id": 1,
        "text": "Pyometra"
      },
      {
        "id": 2,
        "text": "Uterine polyposis"
      },
      {
        "id": 3,
        "text": "Pseudocyesis"
      },
      {
        "id": 4,
        "text": "Endometrial hyperplasia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Long-standing pelvic inflammation</strong> may lead to <strong>pyometra</strong>. This refers to the collection of <strong>pus</strong> in the uterine cavity.</p>\n<p>The initial infection involves the <strong>cervix uteri</strong> and <strong>urethra</strong> which may extend to Bartholin glands, skene glands, endometrium, and fallopian tubes. <strong>Unilateral pain</strong> and <strong>swelling</strong> over the labia may be caused by the inflammation of the Bartholin glands.</p>\n<p>Depending on the extent of tissue involved, PID can be classified into five stages</p>\n<ul>\n<li>Stage I - Acute salpingitis without peritonitis - No adhesions</li>\n<li>Stage II - Acute salpingitis with peritonitis - purulent discharge</li>\n<li>Stage III - Acute salpingitis with superimposed tubal occlusion or tubo ovarian complex</li>\n<li>Stage IV - Ruptured tubo-ovarian abscess</li>\n<li>Stage V - Tubercular salpingitis</li>\n</ul>\n<p>Long-standing pelvic inflammation may also lead to:</p>\n<ul>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Dyspareunia</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Infertility</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Ectopic pregnancy</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Formation of adhesions like hydrosalpinx, pyosalpinx, tubo-ovarian abscess</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Chronic pelvic pain</li>\n</ul>\n<p>Note: <strong>Chronic pelvic inflammation</strong> leads to <strong>dense adhesions</strong> between the uterus and the appendages. Thus, it becomes difficult to define the uterus from the pelvic masses. They form a hard mass which is called the <strong>frozen</strong> <strong>pelvis</strong>.</p>\n<p>The most <strong>common</strong> cause of the spread of PID: <strong>Ascending infection</strong> along with sperms<br />The only PID that <strong>does not spread</strong> with the sexual route is genital TB. It has a hematogenous spread.<br />The most common PID in virgin females is <strong>genital TB</strong>.<br />Investigation of choice in PID: <strong>Abdominal USG</strong><br />The surest sign of salpingitis is <strong>pus</strong> extruding from the fimbrial end of the tube.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which among the following is the most common presentation of postpartum nerve injury?",
    "choices": [
      {
        "id": 1,
        "text": "Facial palsy"
      },
      {
        "id": 2,
        "text": "Wrist drop"
      },
      {
        "id": 3,
        "text": "Foot drop"
      },
      {
        "id": 4,
        "text": "Claw hand"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The most common postpartum <strong>nerve injury</strong> is an injury to the <strong>peroneal nerve</strong> causing <strong>foot drop</strong>.</p>\n<p><strong>The lateral femoral cutaneous nerve</strong> is the most commonly injured nerve after vaginal delivery <strong>followed by femoral neuropathies</strong>.&nbsp;</p>\n<p><strong>Obstetrical neuropathies </strong>are due to the pressure on branches of the<strong> lumbosacral nerve plexus </strong>during labor. They can manifest as complaints of <strong>intense neuralgia or cramp-like pains</strong> extending down one or both legs as soon as the head descends into the pelvis. <strong>Footdrop</strong>&nbsp;can be secondary to injury at the level of the lumbosacral plexus, sciatic nerve, or common fibular (peroneal) nerve. Injury of the <strong>iliohypogastric and ilioinguinal nerves</strong> may occur with <strong>cesarean delivery,&nbsp;</strong>which may manifest as an <strong>inguinal hernia</strong> and <strong>loss</strong> of <strong>sensation</strong> at the <strong>pubic</strong> region respectively.<strong><br /></strong></p>\n<p>Note: Since there are no options relating to intense neuralgia in the lower limb, foot drop becomes the best possible answer.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is altered in thyroid profile throughout pregnancy?",
    "choices": [
      {
        "id": 1,
        "text": "Free T3 level"
      },
      {
        "id": 2,
        "text": "Free T4 level"
      },
      {
        "id": 3,
        "text": "Total T3 level"
      },
      {
        "id": 4,
        "text": "TSH level"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Total T3</strong> levels are <strong>altered</strong> <strong>throughout</strong> pregnancy.</p>\n<p>Total T3 and <strong>total T4</strong> <strong>increase</strong> due to stimulation of thyroid tissue by hCG&nbsp;<strong>(&alpha;-subunit</strong> of hCG is similar to TSH) during the <strong>early period of gestation</strong>. However, there is <strong>no change</strong> in <strong>free T3 and T4</strong> due to an increase in thyroid-binding globulin (TBG).</p>\n<p>This leads to a <strong>transient fall in TSH</strong> (but remains in the <strong>normal</strong> range) during the <strong>early weeks</strong> of gestation. The level of TSH becomes normal&nbsp;during the second and third trimesters.</p>\n<p>The hormonal changes during pregnancy are as follows:</p>\n<table style=\"width: 449px; height: 247px;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"text-align: center; width: 214px;\"><strong>Increased</strong></td>\n<td style=\"text-align: center; width: 140px;\"><strong>Decreased</strong></td>\n<td style=\"text-align: center; width: 124px;\"><strong>Unchanged</strong></td>\n</tr>\n<tr>\n<td style=\"width: 214px;\">Growth Hormone</td>\n<td style=\"width: 140px;\">LH (Luteinizing&nbsp;hormone)</td>\n<td style=\"width: 124px;\">&nbsp;<strong>Free</strong> <strong>T3, T4</strong></td>\n</tr>\n<tr>\n<td style=\"width: 214px;\"><strong>Insulin&nbsp;</strong>(due to <strong>insulin resistance</strong>)</td>\n<td style=\"width: 140px;\">FSH (Follicle-stimulating hormone)</td>\n<td style=\"width: 124px;\"><strong>&nbsp;TSH</strong></td>\n</tr>\n<tr>\n<td style=\"width: 214px;\"><strong>Prolactin&nbsp;</strong></td>\n<td style=\"width: 140px;\">DHEAS (Di-hydro epiandrosterone)</td>\n<td style=\"width: 124px;\">&nbsp;ADH (Anti-&nbsp; diuretic hormone)</td>\n</tr>\n<tr>\n<td style=\"width: 214px;\"><strong>Total</strong> <strong>T3, T4</strong></td>\n<td style=\"width: 140px;\">&nbsp;</td>\n<td style=\"width: 124px;\">&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 214px;\">Aldosterone</td>\n<td style=\"width: 140px;\">&nbsp;</td>\n<td style=\"width: 124px;\">&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 214px;\">Testosterone, Androstenedione, and cortisol</td>\n<td style=\"width: 140px;\">&nbsp;</td>\n<td style=\"width: 124px;\">&nbsp;</td>\n</tr>\n</tbody>\n</table>\n<div class=\"page\" title=\"Page 1\">&nbsp;</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = '275 Obstetrics And Gynecology Neet 2018';
        let hierarchy = ["Marrow", "PYQs", "Obstetrics & Gynecology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>