<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ophthalmology Test - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Test Series Subject Wise / Year 2024 - 25
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Match the following ocular examination findings with their pathology.",
    "choices": [
      {
        "id": 1,
        "text": "A-2, B-3, C-4, D-1"
      },
      {
        "id": 2,
        "text": "A-1, B-3, C-4, D-2"
      },
      {
        "id": 3,
        "text": "A-4, B-2, C-3, D-1"
      },
      {
        "id": 4,
        "text": "A-3, B-1, C-2, D-4"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The correct match is as follows:</p>\n<table style=\"border-collapse: collapse; width: 29.7641%; height: 134.391px;\" border=\"1\">\n<tbody>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 31.1897%; height: 22.3984px;\">Image A</td>\n<td style=\"width: 68.8103%; height: 22.3984px;\">Vossius ring</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 31.1897%; height: 22.3984px;\">Image B\u00a0</td>\n<td style=\"width: 68.8103%; height: 22.3984px;\">Arcus lipoides</td>\n</tr>\n<tr style=\"height: 44.7969px;\">\n<td style=\"width: 31.1897%; height: 44.7969px;\">Image C\u00a0</td>\n<td style=\"width: 68.8103%; height: 44.7969px;\">Kayser-Fleischer ring</td>\n</tr>\n<tr style=\"height: 44.7969px;\">\n<td style=\"width: 31.1897%; height: 44.7969px;\">Image D\u00a0</td>\n<td style=\"width: 68.8103%; height: 44.7969px;\">Wessely's immune ring</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Vossius ring</strong> is\u00a0a circular ring of faint or stippled opacity, seen on the<strong>\u00a0anterior surface</strong>\u00a0of the lens due to brown\u00a0<strong>amorphous granules of pigment</strong> lying <strong>on the capsule of the lens</strong>. It is usually seen after\u00a0<strong>blunt trauma</strong> to the eye and orbit. It usually has about the same diameter as the contracted pupil. The force of the blow drives the cornea and iris backwards, thus producing an impression of the iris on the lens as shown below. The resorption of the pigment results in discrete subcapsular opacities.</p>\n<p>It is shown in the image below:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/6f8763d871d54b9bbc3bfc915df94d3b.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9af034e2460549859ac6971d682ecf55x720x703.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2bc0dbf7d78b41bb86bafbb6fe381efdx720x478.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/63233cf8d58149e4a2ee7c0c349043fex288x191.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/02572dc69a73401a95a0610e9c72243bx688x514.PNG"
    ]
  },
  {
    "text": "A student is referred by the school nurse with complaints of recurrent headaches and inability to read from the classroom board. There is no diplopia. Examination shows a refractive error of -1D in the right eye and an error of -3D in the left eye. What is your diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Anisometropia"
      },
      {
        "id": 2,
        "text": "Aniseikonia"
      },
      {
        "id": 3,
        "text": "Irregular astigmatism"
      },
      {
        "id": 4,
        "text": "Emmetropia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The history of defective vision and 2 different refractive errors of the eyes suggests a diagnosis of <strong>anisometropia</strong>.</p>\n<p>Anisometropia occurs when the <strong>total refraction</strong> of <strong>both eyes</strong> are <strong>unequal</strong>. A difference of 1D in the two eyes causes a 2% difference in the size of retinal images formed. A <strong>difference</strong> up to <strong>2.5D</strong> is <strong>well-tolerated</strong>, but <strong>beyond 4D cannot</strong> be tolerated.&nbsp;Anisometropia can occur as a combination of emmetropia, myopia, hypermetropia, and astigmatism.</p>\n<p>It is diagnosed after <strong>retinoscopic examination</strong> and <strong>autorefractometry</strong>.&nbsp;</p>\n<p><strong>Treatment</strong> includes the usage of <strong>spectacles</strong> (it can be tolerated up to a <strong>maximum</strong> difference of <strong>4D</strong>), <strong>contact lenses</strong>, intraocular lenses (for uniocular aphakia), <strong>refractive corneal surgery</strong>, or refractive lens exchange methods (used in high degree anisometropia).</p>\n<p>Other options:&nbsp;</p>\n<p>Option B: <strong>Aniseikonia</strong> occurs when the<strong> images</strong> that are <strong>projected</strong> to the <strong>visual cortex</strong> are abnormally <strong>unequal </strong>in<strong> size</strong>. A high<strong>&nbsp;degree </strong>of<strong> anisometropia</strong> can also cause anisekonia. However, here the student has a refractive difference of only 2D.</p>\n<p>Option C: <strong>Irregular astigmatism</strong> is the <strong>irregular change of refractive power</strong> that occur in different meridians. Patients complain of <strong>polyopia</strong> (seeing multiple images), <strong>distortion of objects</strong> and defective vision. It is assosciated with <strong>corneal irregularities</strong> and <strong>keratoconus</strong>.</p>\n<p>Option D: <strong>Emmetropia</strong> is defined as an <strong>optically normal eye</strong> where the parallel rays of light coming from infinity <strong>focuses </strong>at the<strong> retina</strong> with <strong>accomodation at rest</strong>.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "From the given prescription of spectacles, which of the following are examples of simple, myopic with-the-rule astigmatism?",
    "choices": [
      {
        "id": 1,
        "text": "i and II"
      },
      {
        "id": 2,
        "text": "iv and v"
      },
      {
        "id": 3,
        "text": "ii and v"
      },
      {
        "id": 4,
        "text": "i, ii, and v"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Among the above options, ii and v are the correct examples for <strong>simple myopic astigmatism with-the-rule</strong>.&nbsp;&nbsp;</p>\n<p><strong>Simple myopic astigmatism</strong> is where the rays of light form two focal points one before the retina and one on the retina.&nbsp;When the&nbsp;two&nbsp;principal meridians of light rays are placed at right angles to one<br />another but the vertical meridian is more curved than&nbsp;the horizontal, it is called&nbsp;<strong>with-the-rule astigmatism.&nbsp;</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/31305f8a87024fd5906a4e51f95ef7bcx1279x1038.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a3e3cc58bb234a56b6b57a677add7d7ex1280x3806.JPEG"
    ]
  },
  {
    "text": "A 60-year-old female presented with acute loss of vision and metamorphopsia. There is a history of the positive scotoma. Fundal changes are given below. What will be the fundus fluorescein angiography finding?",
    "choices": [
      {
        "id": 1,
        "text": "Ink blot appearance"
      },
      {
        "id": 2,
        "text": "Petaloid appearance"
      },
      {
        "id": 3,
        "text": "Stars in the sky appearance"
      },
      {
        "id": 4,
        "text": "Dual circulation"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The above clinical scenario and the fundal image depicting <strong>focal fundal detachment</strong> are suggestive of <strong>central serous retinopathy. </strong>An enlarging <strong>inkblot pattern</strong> or smoke stack pattern is seen in FFA.</p>\n<p>Central serous retinopathy refers to the <strong>spontaneous serous detachment</strong> of the <strong>neurosensory retina</strong> in the <strong>macular</strong> region.\u00a0Recent studies implicate\u00a0an abnormal choroidal circulation as the cause of CSR.\u00a0</p>\n<p>Clinical features:</p>\n<ul>\n<li>Retinal detachment - <strong>Sudden painless</strong> loss\u00a0of vision</li>\n<li>Relative positive scotoma</li>\n<li>Micropsia</li>\n<li>Metamorphopsia</li>\n</ul>\n<p>Investigations:</p>\n<ul>\n<li>Ophthalmoscopy - circular ring reflex present and\u00a0<strong>foveal</strong> reflex <strong>absent</strong></li>\n<li>FFA - enlarging inkblot pattern\u00a0or\u00a0<strong>smoke stack</strong> pattern</li>\n</ul>\n<p><strong>Spontaneous resolution</strong> is seen in most cases and hence <strong>observation</strong> is enough.\u00a0<strong>Steroids\u00a0</strong>are\u00a0<strong>contraindicated</strong>. The disease is usually self-limiting but may recur.</p>\n<p>The image depicts fundus fluorescein angiography (FFA), showing an enlarging\u00a0<strong>ink-blot pattern/enlarging dot sign</strong>, which is seen\u00a0in\u00a0<strong>central serous retinopathy (CSR)</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/46446120cbcd4b1eaa97131b56b5e5a2.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cf71fca6a66a4916be96b5d82c78e4c9x720x564.PNG"
    ]
  },
  {
    "text": "Identify step 3 in the given cataract surgery procedure.",
    "choices": [
      {
        "id": 1,
        "text": "Removal of the cortex"
      },
      {
        "id": 2,
        "text": "Implantation of foldable lens"
      },
      {
        "id": 3,
        "text": "Hydrodissection"
      },
      {
        "id": 4,
        "text": "Removal of nucleus"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The picture illustrates extracapsular cataract extraction by the&nbsp;<strong>phacoemulsification</strong> method. Step 3 indicates <strong>hydro dissection</strong>.</p>\n<p>Hydrodissection is the process of <strong>separating</strong> the <strong>capsule</strong> from the <strong>nucleus</strong> and <strong>cortex</strong> by injecting fluid between the two. This step is used in all extracapsular cataract extraction procedures and is mandatory in phacoemulsification and manual small incision cataract surgeries.</p>\n<p>The steps involved in the cataract surgery are:&nbsp;</p>\n<ul>\n<li>Step 1 -&nbsp;<strong>small clear corneal incision</strong>&nbsp;</li>\n<li>Step 2 -&nbsp;continuous curvilinear capsulorhexis</li>\n<li>Step 3 - hydro dissection,&nbsp;which also facilitates rotation and manipulation of the nucleus during emulsification of the lens</li>\n<li>Step 4 - hydro delineation is done in some cases.&nbsp;This<strong>&nbsp;</strong>is done by injecting fluid between the nucleus and epinuclear lens substance. It aids in the separation of the cortex from the nucleus</li>\n<li>Steps <strong>5</strong> and <strong>6</strong>&nbsp;- indicate the <strong>divide and conquer technique</strong> for the removal of the <strong>nucleus</strong> after phacoemulsification</li>\n<li>Step <strong>7</strong>&nbsp;-&nbsp;<strong>removal</strong> of the <strong>cortical lens matter</strong> using an irrigation-aspiration technique</li>\n<li>Step <strong>8</strong>&nbsp;- implantation of a <strong>foldable lens</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/734816d64fda4a29a431edff5ba2fa6e.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a2cc2cacf9e94f47b5dc358f6fbbe096x1280x3121.JPEG"
    ]
  },
  {
    "text": "A 60-year-old female patient needs to undergo cataract surgery. Before initiating the surgery, the following procedure is performed. What is the most common complication seen in the procedure?",
    "choices": [
      {
        "id": 1,
        "text": "Proptosis"
      },
      {
        "id": 2,
        "text": "Subconjunctival hemorrhage"
      },
      {
        "id": 3,
        "text": "Optic nerve damage"
      },
      {
        "id": 4,
        "text": "Retrobulbar hemorrhage"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p style=\"text-align: justify;\">The most common complication seen in the procedure of retrobulbar block is <strong>retrobulbar haemorrhage</strong>.</p>\n<p style=\"text-align: justify;\">The image shown above depicts the&nbsp;technique of <strong>retrobulbar block </strong>which is a regional anaesthesia technique used in ophthalmic surgery. It involves the injection of a local anaesthetic into the extraocular muscle cone. The <strong>needle penetrates</strong> the <strong>lower lid</strong> at the junction of the<strong> middle </strong>and<strong> lateral one-third </strong>of the orbit.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5eb4eeb027f8404bbbb71475c1295991.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The clinical distinction between a cavernous sinus syndrome and an orbital apex syndrome is best made by the dysfunction of which structure?",
    "choices": [
      {
        "id": 1,
        "text": "A"
      },
      {
        "id": 2,
        "text": "B"
      },
      {
        "id": 3,
        "text": "C"
      },
      {
        "id": 4,
        "text": "D"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The clinical distinction between a <strong>cavernous sinus syndrome</strong> and an <strong>orbital apex syndrome</strong> is made by the dysfunction of the&nbsp;<strong>optic nerve (</strong>marked as<strong> \"A\")</strong></p>\n<p>The optic nerve passes through the optic canal and does not enter the cavernous sinus. Patients with orbital apex syndrome manifest complete ophthalmoplegia, ptosis, decreased corneal sensation, and vision loss. They usually develop optic nerve signs such as relative afferent pupillary defect. Proptosis is often present, but patients do not always complain of pain.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/2874c93dfc3f4e6da7efa85393a9a684.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/54323803f0444c408f369feb8f776cb0x1280x1688.JPEG"
    ]
  },
  {
    "text": "A 3-year-old child with frequent eye discomfort, pain and watering was diagnosed with corneal dystrophy. The histological section stained with Masson's trichrome reveals the presence of hyaline protein in the stroma. Identify the diagnosis.",
    "choices": [
      {
        "id": 1,
        "text": "Granular dystrophy"
      },
      {
        "id": 2,
        "text": "Lattice corneal dystrophy"
      },
      {
        "id": 3,
        "text": "Macular dystrophy"
      },
      {
        "id": 4,
        "text": "Fuch\u2019s endothelial dystrophy"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The diagnosis of a 3-year-old with ocular symptoms due to corneal dystrophy with histological sections showing the presence of hyaline protein in the stroma is <strong>Granular dystrophy</strong>.</p>\n<p>The <strong>corneal dystrophies</strong> are a group of progressive, usually bilateral, variable corneal opacifying disorders, many of which are associated with decreased vision and discomfort. Based on the <strong>layers of the cornea</strong> involved, they are <strong>classified</strong> into,</p>\n<ul>\n<li><strong>Epithelial</strong></li>\n<li><strong>Bowman layer</strong></li>\n<li><strong>Stroma</strong></li>\n<li><strong>Descemet membrane</strong> and</li>\n<li><strong>Endothelial dystrophies</strong></li>\n</ul>\n<p>Granular corneal dystrophy belongs to the\u00a0<strong>stromal dystrophy</strong> of the cornea. It is of<strong>\u00a0autosomal dominant</strong> inheritance and is caused by a defect in the <strong>TGFB1 gene.</strong></p>\n<p>In granular corneal dystrophy, opacities form due to the abnormal accumulation of hyaline protein, assuming a discrete granular form and subsequently coalescing into various irregular shapes. The cornea between the opacities and the peripheral cornea remains clear. The condition is characterised by milky granular <strong>hyaline deposits</strong> in the anterior stroma.</p>\n<p>Early symptoms may involve light sensitivity, glare, ocular discomfort, pain, and watering. As opacification progresses with age, visual acuity decreases.</p>\n<p>The following image shows numerous irregularly shaped <strong>discrete crumb-like corneal opacities</strong> of Granular dystrophy.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://upload.wikimedia.org/wikipedia/commons/6/69/Granular_corneal_dystrophy_type_I._Numerous_irregular_shaped_discrete_crumb-like_corneal_opacities.JPEG"
    ]
  },
  {
    "text": "A 70-year-old woman was brought by her son to an eye clinic with complaints of diminished vision in her left eye. An image of her eye is shown below. What is the most likely type of corneal opacity in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Leucomatous"
      },
      {
        "id": 2,
        "text": "Nebular"
      },
      {
        "id": 3,
        "text": "Macular"
      },
      {
        "id": 4,
        "text": "Adherent leucoma"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The corneal opacity shown in the given image is most likely a <strong>leucomatous</strong>&nbsp;type of corneal opacity.</p>\n<p>The above clinical vignette and image showing a&nbsp;dense white opacity, and<strong>&nbsp;</strong>scarring of more than half of the stroma is<strong>&nbsp;</strong>characteristic of <strong>leucomatous corneal opacity.&nbsp;</strong></p>\n<p>Corneal opacities can be graded, depending on their density, as:</p>\n<ul>\n<li><strong>Nebular</strong> corneal opacities or&nbsp;<strong>nebula</strong>, where only slight opacification of the cornea occurs due to scarring. It is possible to observe the iris clearly through this type of opacity.</li>\n<li><strong>Macular</strong> corneal opacities or&nbsp;<strong>macula</strong>, which is described as a semi-dense opacity that can be seen with proper illumination. This occurs subsequent to scarring that&nbsp;spans about half the corneal stroma. The iris and pupillary margins are usually visible.</li>\n<li><strong>Leucomatous</strong> corneal opacities or <strong>leucoma simplex</strong>, which is a white scar that is easily seen just by looking at the eye. It occurs due to scarring of more than half of the corneal stroma.</li>\n<li><strong>Adherent</strong> <strong>leucoma&nbsp;</strong>is observed when there is perforation and subsequent healing of the cornea, but with the incarceration of the iris in it.</li>\n</ul>\n<p><strong>Secondary changes</strong> in corneal opacity&nbsp;which may be seen in long-standing cases include hyaline degeneration, calcareous degeneration, pigmentation and atheromatous ulceration.</p>\n<p>The treatment depends upon the type of opacity.&nbsp;<strong>Keratoplasty</strong> is the treatment of choice in leucomatous corneal opacities.&nbsp;<strong>Optical iridectomy</strong> may be performed in cases with central adherent leucomas.&nbsp;<strong>Phototherapeutic keratectomy (PTK)</strong> performed with excimer laser is useful only in superficial (nebular) corneal opacities.</p>\n<p><strong>Corneal tattooing</strong> is a treatment option in patients&nbsp;with corneal opacities with firm scarring and poor vision. It only improves&nbsp;<strong>cosmetic</strong> appearance.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/f2ef9dd256aa49fba3a02330620f188b.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Ciliary muscles are embryologically derived from?",
    "choices": [
      {
        "id": 1,
        "text": "Neural ectoderm"
      },
      {
        "id": 2,
        "text": "Surface ectoderm"
      },
      {
        "id": 3,
        "text": "Mesoderm"
      },
      {
        "id": 4,
        "text": "Neural crest"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Ciliary muscles are embryologically derived from the <strong>neural crest.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A male patient presented with painless, hard swelling of the lower eyelid that has been progressing in size. Examination revealed the following finding. What is your probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Hordeolum externum"
      },
      {
        "id": 2,
        "text": "Hordeolum internum"
      },
      {
        "id": 3,
        "text": "Chalazion"
      },
      {
        "id": 4,
        "text": "Molluscum contagiosum"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The presentation of a <strong>progressive</strong>,<strong> hard</strong>,<strong> painless swelling</strong>&nbsp;is due to a probable diagnosis of&nbsp;<strong>chalazion</strong>.</p>\n<p>Chalazion is a <strong>chronic</strong> and&nbsp;<strong>non-infective</strong><strong>&nbsp;lipogranulamatous lesion&nbsp;</strong>that arises from the&nbsp;<strong>Meibomian glands</strong> (otherwise known as tarsal/meibomian cyst). It is the most common lid swelling seen.</p>\n<p><strong>A very&nbsp;small, soft,&nbsp;and&nbsp;recent chalazion&nbsp;only requires&nbsp;conservative management&nbsp;with hot compresses and topical antibiotic drops. Incision and curettage&nbsp;</strong>is the<strong>&nbsp;more conventional</strong>&nbsp;method of managing a chalazion. The contents are curetted out using a <strong>chalazion scoop</strong>.&nbsp;<strong>Intralesional steroids&nbsp;</strong>such as&nbsp;triamcinolone are<strong>&nbsp;preferred&nbsp;</strong>for chalazions which are located<strong>&nbsp;where the risk of surgical damage is greater</strong>&nbsp;(near structures such as lacrimal punctum).</p>\n<p>A chalazion may become infected and form a&nbsp;<strong>hordeolum internum</strong>. Also, a&nbsp;<strong>recurrently</strong> forming chalazion should be <strong>biopsied</strong> to rule out&nbsp;<strong>meibomian gland adenocarcinoma </strong>(a form of sebaceous cell carcinoma).</p>\n<p>Other options:&nbsp;</p>\n<p>Option A: <strong>Hordeolum externum</strong> is the<strong> suppurative inflammation</strong> of the <strong>gland of Zeis</strong>. It is hard and <strong>painful</strong>, and there is a <strong>visible pus point</strong> on the lid margin.&nbsp;</p>\n<p>Below attached is an image of a patient with hordeolum externum:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c1a6d7ccec6442f187b278c8fc430821.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/75c5241525de4e03a17b66bff65f9e2bx1279x972.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/78d538945eb14f35be45297dfcd46c93x600x450.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/80bf87318cff4c5b992f177f3eb99f26x512x357.PNG"
    ]
  },
  {
    "text": "The instrument shown in the image below is used to ____________",
    "choices": [
      {
        "id": 1,
        "text": "Measure corneal thickness"
      },
      {
        "id": 2,
        "text": "Assess visual field defects"
      },
      {
        "id": 3,
        "text": "Test colour vision"
      },
      {
        "id": 4,
        "text": "Measure visual evoked potential"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image shows a <strong>pachymeter</strong> used to <strong>measure corneal thickness</strong>. The corneal thickness indirectly <strong>reflects endothelial function</strong>. Ultrasonic pachymeters are more reliable than optical pachymeters.</p>\n<p>Indications of pachymetry include the following:</p>\n<ul>\n<li>Assessment of corneal thickness before and after refractive surgery</li>\n<li>Monitoring keratoconus and thickness of transplanted corneas</li>\n<li>Assess corneal edema</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c59155d40b9b4b51b7a54b6a72753d7a.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is false regarding the condition shown in the image below?",
    "choices": [
      {
        "id": 1,
        "text": "Treatment of larger defects requires skin grafts."
      },
      {
        "id": 2,
        "text": "It mostly involves upper eyelid."
      },
      {
        "id": 3,
        "text": "Treacher Collins syndrome is associated with coloboma of eyelid."
      },
      {
        "id": 4,
        "text": "It usually occurs near the temporal side"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<div class=\"ng-star-inserted\">\n<div class=\"table-responsive font-weight-light answer-scroll ng-star-inserted\">\n<p>The given image shows a\u00a0<strong>coloboma</strong>\u00a0of the upper eyelid. <strong>Option D</strong> is the false statement as it usually <strong>occurs near the nasal side</strong> and not the temporal side.</p>\n<p><strong>Coloboma</strong> of the eyelid is a partial or full-thickness eyelid defect. It more frequently involves the\u00a0<strong>upper lid</strong>\u00a0(Option B) than the lower lid and usually occurs on the\u00a0<strong>nasal side</strong>.\u00a0It occurs when eyelid development is incomplete, due to failure of <strong>migration</strong> of <strong>lid ectoderm</strong> to fuse with the lid folds.</p>\n<p><strong>Upper-lid</strong> colobomas occur at the junction of the middle\u00a0and inner thirds and have a relatively strong association with<strong>\u00a0cryptophthalmos</strong>, facial abnormalities,\u00a0and <strong>Goldenhar syndrome</strong>. (Cryptophthalmos is a congenital anomaly in which the eyelids\u00a0are absent, replaced by a continuous layer of skin).\u00a0<strong>Lower lid</strong> colobomas occur at the junction of the middle\u00a0and outer thirds and are frequently associated\u00a0with systemic conditions.\u00a0</p>\n<p><strong>Treacher Collins</strong> <strong>syndrome</strong>\u00a0is\u00a0characterized by malformations in the derivatives of first and second branchial arches, primarily mandibular and ear anomalies. <strong>Lower\u00a0eyelid coloboma\u00a0</strong>(Option C) is a feature of this syndrome along with slanted palpebral apertures, cataracts,\u00a0microphthalmos, and lacrimal atresia.\u00a0</p>\n<p>Small defects can be managed by primary closure, while <strong>large defects</strong> require <strong>skin grafts</strong> (Option A) and <strong>rotation flaps</strong>.\u00a0</p>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/934bade79f5247699ac575c42c105cdb.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1d30e9d509694007ad37e9bdd6437ffex1280x1251.JPEG"
    ]
  },
  {
    "text": "Arden index is related to:",
    "choices": [
      {
        "id": 1,
        "text": "Electroretinography"
      },
      {
        "id": 2,
        "text": "Electro-oculography"
      },
      {
        "id": 3,
        "text": "Visual evoked response"
      },
      {
        "id": 4,
        "text": "Perimetry"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Arden index</strong> is related to&nbsp;<strong>electro-oculography (EOG).</strong></p>\n<p>Arden index is the <strong>ratio </strong>of the <strong>light peak over the dark trough.&nbsp;</strong>A value above 185 is normal and below 150 is abnormal.</p>\n<p>In electrooculography, electrodes are used to pick up changes in the resting ocular potential when the eyes are moved. These changes are recorded in accordance with changes in illumination. It indicates the activity of the pigmentary epithelium and the outer segments of visual receptors.</p>\n<p>Other options:</p>\n<p>Option A: Electroretinography measures changes in the resting potential of the eye, induced by stimulating the eye with light.</p>\n<p>Option C: Specific alterations in an electroencephalogram (EEG) caused by visual stimuli are called as&nbsp;<strong>visual evoked responses</strong> (VER).</p>\n<p>Option D: <strong>Perimetry </strong>is the measurement of a person&rsquo;s field of vision.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The electroretinogram (ERG) of a person is given below. In this ERG, wave B is due to?",
    "choices": [
      {
        "id": 1,
        "text": "Rods"
      },
      {
        "id": 2,
        "text": "Cones"
      },
      {
        "id": 3,
        "text": "Muller cells"
      },
      {
        "id": 4,
        "text": "Pigment epithelium"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The image shown is a <strong>normal</strong> electroretinogram (ERG)\u00a0in which <strong>w</strong><strong>ave B</strong>\u00a0is due to <strong>Muller cells.</strong></p>\n<p><strong>Electroretinography</strong> measures the changes in the <strong>resting potential</strong> of an eye, induced by the light stimulus. Waves of ERG include a,b and c. Among these,<strong> a </strong>and <strong>c</strong> are <strong>negative</strong> waves and<strong> b</strong> is a <strong>large positive</strong> wave as shown below.\u00a0The c wave is only seen in the <strong>dark-adapted eye</strong>.\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/937918559f8c471a81120f185c28b2ca.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5f6f932b94d6493ba68884a08eaefb54x1280x1224.9365303244006.JPEG"
    ]
  },
  {
    "text": "Match the following fundus fluorescein angiography findings with appropriate conditions:",
    "choices": [
      {
        "id": 1,
        "text": "1-b, 2-d, 3-a, 4-c"
      },
      {
        "id": 2,
        "text": "1-a, 2-c, 3-b, 4-d"
      },
      {
        "id": 3,
        "text": "1-c, 2-d, 3-a, 4-b"
      },
      {
        "id": 4,
        "text": "1-b, 2-c, 3-a, 4-d"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The appropriate match for the given conditions is as follows:</p>\n<table style=\"height: 210px; width: 520px;\">\n<tbody>\n<tr>\n<td style=\"width: 174.852px;\">Central serous chorioretinopathy</td>\n<td style=\"width: 316.555px;\">Smokestack pattern</td>\n</tr>\n<tr>\n<td style=\"width: 174.852px;\">Cystoid macular edema</td>\n<td style=\"width: 316.555px;\">Flower petal appearance</td>\n</tr>\n<tr>\n<td style=\"width: 174.852px;\">Macular Ischemia</td>\n<td style=\"width: 316.555px;\">Enlarged foveal avascular zone and capillary non-perfused areas</td>\n</tr>\n<tr>\n<td style=\"width: 174.852px;\">Drusen\u00a0\u00a0</td>\n<td style=\"width: 316.555px;\">Star in the sky appearance</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Central serous retinopathy</strong> is the spontaneous serous detachment of the macular region neurosensory retina with/without retinal pigment epithelium detachment. FFA shows two patterns of leakage, ink-blot pattern and <strong>smoke-stack pattern</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5584dfd6d3184499be8b06d12c3e695dx362x280.PNG",
      "https://cdn1.dailyrounds.org/uploads/fbc54987b79647b6a8bd0e4e678201b8.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/68396012922643d5a6920295ed8408b8x720x528.JPEG"
    ]
  },
  {
    "text": "Arrange the following photochemical changes of the visual cycle in the correct sequence:",
    "choices": [
      {
        "id": 1,
        "text": "1-2-3-4"
      },
      {
        "id": 2,
        "text": "4-3-2-1"
      },
      {
        "id": 3,
        "text": "3-2-4-1"
      },
      {
        "id": 4,
        "text": "2-3-4-1"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The correct sequence is <strong>3-2-4-1</strong>. <strong>Bathorhodopsin\u00a0\u2192 lumirhodopsin\u00a0\u2192 metarhodopsin\u00a0\u2192 scotopsin</strong>.</p>\n<p>The image given below shows the<strong> visual cycle</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1e72603376a448d991c0a4de7f4968d6x1279x1623.JPEG"
    ]
  },
  {
    "text": "While performing a Purkinje image test in a patient having a mature cataract, you notice only 3 images.  Which of the following images are absent in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Erect image formed by anterior surface of the lens"
      },
      {
        "id": 2,
        "text": "Erect image formed by posterior surface of the lens"
      },
      {
        "id": 3,
        "text": "Inverted image formed by anterior surface of the lens"
      },
      {
        "id": 4,
        "text": "Inverted image formed by posterior surface of the lens"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Image 4</strong> i.e\u00a0Inverted image formed by the Posterior surface of the lens is <strong>absent</strong> in patients with <strong>mature cataract.</strong></p>\n<p>Purkinje images are reflections of objects from the structure of the eye. They are also known as Purkinje\u00a0reflexes or Purkinje\u2013Sanson images.</p>\n<p>Normal 4 images are formed from four different reflecting surfaces i.e.</p>\n<ul>\n<li><strong>Image 1\u2014</strong>Anterior surface of the cornea:\u00a0<strong>Erect</strong></li>\n<li><strong>Image 2\u2014</strong>Posterior surface of the cornea:\u00a0<strong>Erect</strong></li>\n<li><strong>Image 3\u2014</strong>Anterior surface of the\u00a0lens:\u00a0<strong>Erect</strong></li>\n<li><strong>Image 4\u2014</strong>Posterior surface of the\u00a0lens:\u00a0<strong>Inverted</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b9945e07d07f405eb2b0af9f502833f1x1280x1176.JPEG"
    ]
  },
  {
    "text": "A middle-aged man presented with foreign body sensation, irritation, and blurring of vision in his left eye for a few weeks. On examination, the finding as shown below is seen. Which of the following is the most effective treatment modality for this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Beta irradiation"
      },
      {
        "id": 2,
        "text": "Simple surgical excision"
      },
      {
        "id": 3,
        "text": "Conjunctival limbal autograft"
      },
      {
        "id": 4,
        "text": "Mitomycin C drops"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical scenario and the image showing a <strong>triangular&nbsp;fold </strong>of<strong> conjunctiva&nbsp;encroaching</strong> on the cornea from the <strong>nasal side </strong>are suggestive of<strong>&nbsp;pterygium. Conjunctival limbal autograft</strong> is the <strong>most effective</strong> treatment of pterygium.</p>\n<p>In conjunctival limbal autografting, a piece of conjunctival tissue is taken from the<strong> limbus</strong> on the same side or from the other eye for grafting. This <strong>prevents recurrence</strong>.&nbsp;Autograft is retained with help of sutures or&nbsp;<strong>fibrin glue&nbsp;</strong>or with the patient's serum.</p>\n<p>A pterygium<strong>&nbsp;</strong>is a <strong>degenerative</strong> and <strong>hyperplastic</strong> condition. The&nbsp;<strong>subconjunctival tissue&nbsp;</strong>undergoes elastotic degeneration and proliferates as vascularised tissue encroaching the cornea. It is a connective tissue disorder and is&nbsp;<strong>never inflammatory. </strong>It is most commonly seen on the <strong>nasal aspect</strong> of the eye.</p>\n<p>It is predominantly seen in <strong>elder males</strong> who do outdoor work.&nbsp;<strong>UV radiation</strong> is one of the important risk factors. Patients may be asymptomatic or present with foreign body sensations, irritation, and defective vision. As they enlarge, it may obstruct vision and lead to astigmatism.</p>\n<p>A fully developed pterygium has a head, neck, body, and cap. Deposition of iron as&nbsp;<strong>Stocker line</strong> may be seen on the corneal epithelium in front of the head of the pterygium.</p>\n<p><strong>Asymptomatic </strong>pterygium can be <strong>left alone</strong>. Patients with early-stage pterygia are advised to use <strong>protective eyewear.&nbsp;</strong>If it progresses towards the pupillary area and causes <strong>excessive astigmatism</strong> or a restriction of <strong>ocular motility</strong> or causes <strong>disfigurement</strong>, it should be treated by surgical excision.</p>\n<p><strong>Simple excision</strong> of the pterygium is associated with a<strong> high recurrence</strong> rate, and should be combined with:</p>\n<div class=\"page\" title=\"Page 198\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<ul>\n<li>Post-operative therapy with <strong>mitomycin C</strong> drops to prevent a recurrence. However, it may lead to complications like <strong>scleral necrosis</strong>, cataract, and iritis.&nbsp;</li>\n<li><strong>Conjunctival limbal autografting</strong></li>\n<li>Amniotic membrane graft</li>\n<li>Peripheral lamellar keratoplasty if the lesion is deep</li>\n<li><strong>Beta irradiation</strong> inhibits mitosis in the rapidly dividing cells of pterygium and can be used to <strong>prevent recurrences</strong>. However, it is not recommended because of its adverse effects which include <strong>scleral necrosis, endophthalmitis,</strong> and<strong> sectorial cataract formation</strong>.</li>\n</ul>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7e303619bb704391a6af7a9dd1a23bac.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following charts and their respective uses are incorrectly paired?",
    "choices": [
      {
        "id": 1,
        "text": "LogMAR charts - Visual field defect"
      },
      {
        "id": 2,
        "text": "Hess chart - Incomitant Strabismus"
      },
      {
        "id": 3,
        "text": "Pelli-Robson chart - Contrast sensitivity"
      },
      {
        "id": 4,
        "text": "Jaeger\u2019s chart - Near vision"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>LogMAR charts</strong> are used for testing&nbsp;<strong>visual acuity</strong>, not for visual field defects.</p>\n<p>LogMAR is an acronym for the base-10 logarithm of the minimum angle of resolution. It refers to the ability to resolve the elements of an optotype. It&nbsp;addresses many of the deficiencies of the Snellen chart, and is the standard means of VA measurement in research and increasingly in clinical practice.</p>\n<p><strong>Hess chart</strong> is used to diagnose and monitor patients with <strong>incomitant strabismus</strong> by assessing the field of a binocular single vision. In its interpretation, a <strong>smaller</strong> chart indicates the eye with the <strong>paretic </strong>muscle and a <strong>larger</strong> chart indicates the eye with an <strong>overacting</strong> muscle.</p>\n<p><strong>Incomitant strabismus</strong>&nbsp;is one where squint generally results from the limitation of eye movement associated with paralytic or mechanical etiologies like extraocular muscle palsy, thyroid ophthalmopathy, blow-out fracture, myasthenia gravis, etc. The field of binocular single vision is the area where bifoveal fusion of an object of interest occurs.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e1a3c3e85a19452aa0a84867aa15b716x720x359.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3c63ac52b2604b8495b449b9f795da84x512x736.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/77bf12d4b7744a4dbca621b5288ba4bfx1280x794.PNG"
    ]
  },
  {
    "text": "Arlt\u2019s line is seen in",
    "choices": [
      {
        "id": 1,
        "text": "Vernal keratoconjunctivitis"
      },
      {
        "id": 2,
        "text": "Phlyctenular keratoconjunctivitis"
      },
      {
        "id": 3,
        "text": "Trachoma"
      },
      {
        "id": 4,
        "text": "Pterygium"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Arlt&rsquo;s line</strong> is a <strong>conjunctival sign seen in trachoma</strong>.</p>\n<p>It is a characteristic <strong>white conjunctival scar</strong> usually formed at the <strong>junction between the lower third and upper two-third of the superior tarsus.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/fa92893c595e4500a735d3a1bfa77bc5x460x499.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/21d30c0ec1944e73b396df44157cac75x737x285.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/df4949cd43ab4981897efbbc3eb7ad3fx768x339.PNG"
    ]
  },
  {
    "text": "A 72-year-old female presents with progressive central vision loss, distortion of straight lines, and difficulty reading. Fundoscopy reveals large drusens (>125 \u03bcm) in the macular area. What is the primary pathophysiological process responsible for the formation of these drusens?",
    "choices": [
      {
        "id": 1,
        "text": "Accumulation of extracellular deposits between the retinal pigment epithelium (RPE) and Bruch's membrane"
      },
      {
        "id": 2,
        "text": "Proliferation of fibrovascular tissue in the vitreous humor"
      },
      {
        "id": 3,
        "text": "Increased intraocular pressure causing retinal damage"
      },
      {
        "id": 4,
        "text": "Blockage of retinal blood vessels leading to ischemia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>This patient presents with features suggestive of <strong>age-related macular degeneration (AMD)</strong>, a condition characterized by the <strong>accumulation of drusens between the retinal pigment epithelium (RPE) and Bruch's membrane</strong>.</p>\n<p>Symptoms like progressive central vision loss, distortion of straight lines (metamorphopsia), and difficulty reading, are classic signs of AMD. Drusens are yellowish-white deposits that disrupt the normal macular architecture, leading to <strong>progressive vision loss. </strong>In AMD, large drusens (&gt;125 \u03bcm) are commonly observed on fundoscopy, as seen in this patient. <strong>Optical coherence tomography (OCT)</strong> further confirms the presence of hyperreflective irregular nodules between the RPE and Bruch's membrane, indicating the accumulation of these deposits.</p>\n<p>Other Options:</p>\n<p>Option B: <strong>Proliferation of fibrovascular tissue in vitreous humor: </strong>This process is not associated with drusen formation in AMD but may occur in conditions like proliferative diabetic retinopathy.</p>\n<p>Option C: <strong>Increased intraocular pressure causing retinal damage:</strong> Describes the pathophysiology of glaucoma, not AMD.</p>\n<p>Option D: <strong>Blockage of retinal blood vessels leading to ischemia:</strong> This is more relevant to conditions like diabetic retinopathy or retinal artery occlusion.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 51 year old female is diagnosed with central retinal vein occlusion (CRVO). Which of the following features would indicate ischemic CRVO over non-ischemic CRVO?",
    "choices": [
      {
        "id": 1,
        "text": "Venous congestion and tortuosity"
      },
      {
        "id": 2,
        "text": "Retinal hemorrhages"
      },
      {
        "id": 3,
        "text": "Presence of relative afferent pupillary defect (RAPD)"
      },
      {
        "id": 4,
        "text": "Sudden loss of vision"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Relative Afferent Pupillary Defect (RAPD)</strong> is a feature that is suggesive of <strong>ischmic CRVO.\u00a0</strong></p>\n<p><strong>Ischemic central retinal vein occlusion (CRVO)</strong> typically presents with acute and severe visual loss, marked retinal hemorrhages involving the entire fundus (\"splashed tomato\" appearance), cotton wool spots, optic disc edema, and the presence of a <strong>relative afferent pupillary defect (RAPD).</strong> RAPD indicates asymmetric function of the optic nerves, often due to ischemic damage in one eye.</p>\n<p><strong>Non-ischemic CRVO,</strong> on the other hand, generally manifests with milder symptoms such as venous congestion and tortuosity, superficial flame-shaped hemorrhages predominantly in the periphery, and mild macular edema. Fluorescein angiography in non-ischemic CRVO shows delayed A-V transit time and may demonstrate late leakage, indicating relatively preserved retinal perfusion compared to ischemic CRVO.</p>\n<p>Other Options:</p>\n<p>Option A: <strong>Venous congestion and tortuosity</strong> - While these features are common in both types of CRVO, severe venous congestion and tortuosity are more characteristic of ischemic CRVO.</p>\n<p>Option B: <strong>Retinal hemorrhages</strong> - Extensive retinal hemorrhages involving the entire fundus are more typical of ischemic CRVO. Non-ischemic CRVO may present with superficial flame-shaped hemorrhages.</p>\n<p>Option D: <strong>Sudden loss of vision</strong> - While sudden loss of vision can occur in both types of CRVO, it is not specific enough to distinguish between ischemic and non-ischemic types.</p>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 58-year-old patient with a history of cardiovascular disease presents with sudden, painless loss of vision in one eye. Fundus examination reveals a pale retina with a cherry-red spot at the macula and segmentation of the blood column in the retinal veins. Which of the following steps can be taken within 24 hours to potentially improve the patient's outcome?",
    "choices": [
      {
        "id": 1,
        "text": "Prescribe oral anticoagulants"
      },
      {
        "id": 2,
        "text": "Perform immediate paracentesis of the anterior chamber"
      },
      {
        "id": 3,
        "text": "Administer intravitreal steroids"
      },
      {
        "id": 4,
        "text": "Refer for retinal detachment surgery"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>A 58-year-old patient with a history of cardiovascular disease presenting with <strong>sudden, painless loss of vision in one eye</strong> and a fundus examination showing a pale retina with a cherry-red spot is indicative of <strong>central retinal artery occlusion (CRAO). </strong>Immediate intervention to reduce IOP, including <strong>paracentesis of the anterior chamber, ocular massage or intravenous acetazolamide</strong> is critical to potentially improve the outcome.</p>\n<p><strong>Central retinal artery occlusion</strong> is a <strong>medical emergency</strong> where rapid restoration of blood flow is essential to prevent permanent vision loss. <strong>Paracentesis</strong> of the <strong>anterior chamber</strong> helps <strong>lower intraocular pressure,</strong> which can facilitate <strong>dislodging</strong> the <strong>embolus</strong> causing the occlusion.\u00a0</p>\n<p>Other options:</p>\n<p>Option A. <strong>Prescribe oral anticoagulants</strong>: Anticoagulants do not provide the immediate reduction in intraocular pressure or quick restoration of retinal blood flow necessary in acute CRAO.</p>\n<p>Option C. <strong>Administer intravitreal steroids</strong>: Intravitreal steroids are used for inflammatory conditions and certain retinal disorders but are not effective in the acute management of CRAO.</p>\n<p>Option D. <strong>Refer for retinal detachment surgery</strong>: Retinal detachment surgery is not relevant in the management of CRAO and requires immediate vascular intervention rather than surgical repair of retinal tissue.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 50-year-old male presents with visual disturbances and is diagnosed with an intraocular tumor. Which type of retinal detachment is he most predisposed towards?",
    "choices": [
      {
        "id": 1,
        "text": "Rhegmatogenous retinal detachment"
      },
      {
        "id": 2,
        "text": "Tractional retinal detachment"
      },
      {
        "id": 3,
        "text": "Exudative retinal detachment"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Exudative retinal detachment</strong> occurs due to <strong>accumulation of fluid beneath the retina</strong>, often associated with <strong>neoplastic conditions like intraocular tumors</strong>. The tumor can disrupt the retinal architecture, leading to fluid leakage and separation from the underlying pigment epithelium.</p>\n<p>In the context of an intraocular tumor, such as melanoma or retinoblastoma, the tumor itself or associated inflammation can disrupt the blood-retinal barrier, leading to the exudation of fluid into the subretinal space. This detachment typically presents as a smooth and dome-shaped elevation of the retina on clinical examination.</p>\n<p>Other options:</p>\n<p>Option A. <strong>Rhegmatogenous retinal detachment</strong>: This type is characterized by retinal breaks allowing fluid to seep under the retina. While trauma or degenerative changes can predispose to rhegmatogenous detachment, intraocular tumors are not typically associated with retinal breaks.</p>\n<p>Option B. <strong>Tractional retinal detachment:</strong> This occurs due to mechanical traction on the retina, often seen in conditions like proliferative diabetic retinopathy or trauma, where fibrous bands pull the retina away from its normal position. Intraocular tumors do not typically exert mechanical traction leading to this type of detachment.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 40-year-old patient presents with ptosis, miosis, and reduced sweating on the right side of the face. Which pharmacological test would be most appropriate to differentiate between pre-ganglionic and post-ganglionic lesions in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Hydroxyamphetamine test"
      },
      {
        "id": 2,
        "text": "Pilocarpine test"
      },
      {
        "id": 3,
        "text": "Homatropine test"
      },
      {
        "id": 4,
        "text": "Tropicamide test"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>This patient presents with<strong> Horner's syndrome. </strong>To <strong>differentiate between pre-ganglionic and post-ganglionic lesions</strong>, the <strong>hydroxyamphetamine test</strong> is used.</p>\n<p>When <strong>hydroxyamphetamine (1%)</strong> is administered into the eye:</p>\n<ul>\n<li><strong>Pre-ganglionic Lesions</strong>: These lesions occur before the sympathetic nerves synapse at the superior cervical ganglion. In <strong>pre-ganglionic lesions,</strong> such as those affecting the sympathetic nerve fibres between the <strong>hypothalamus</strong> and the <strong>superior cervical ganglion,</strong> the ganglion itself, or the preganglionic fibers, the post-ganglionic sympathetic nerves beyond the ganglion remain intact. Therefore, when hydroxyamphetamine is administered:</li>\n<li><strong>Effect</strong>: The <strong>hydroxyamphetamine</strong> stimulates the release of <strong>norepinephrine</strong> from the <strong>intact post-ganglionic sympathetic</strong> nerve terminals.</li>\n<li><strong>Result</strong>: This leads to <strong>dilation</strong> of the <strong>pupil</strong> because the intact post-ganglionic nerves respond to the released norepinephrine, causing pupil dilation.</li>\n</ul>\n<p>\u00a0</p>\n<ul>\n<li><strong>Post-ganglionic Lesions</strong>: These lesions occur beyond the superior cervical ganglion, affecting the sympathetic nerves travelling to the eye.</li>\n<li><strong>Effect</strong>: The sympathetic nerves beyond the ganglion are directly affected or damaged, impairing their ability to respond to hydroxyamphetamine-induced norepinephrine release</li>\n<li><strong>Result</strong>: As a consequence, there is no dilation of the pupil when hydroxyamphetamine is administered because the damaged post-ganglionic nerves cannot transmit the signal to dilate the pupil.</li>\n</ul>\n<p>Other options:</p>\n<p>Option B. Pilocarpine test: Pilocarpine induces pupil constriction by stimulating muscarinic receptors. It is used to diagnose conditions like Adie's tonic pupil, not Horner's syndrome.</p>\n<p>Option\u00a0C. Homatropine test: Homatropine is a muscarinic antagonist used to dilate the pupil for ocular examinations. It is not specific for diagnosing Horner's syndrome.</p>\n<p>Option\u00a0D. Tropicamide test: Tropicamide is another muscarinic antagonist used to dilate the pupil for diagnostic purposes. It is not specific for diagnosing Horner's syndrome.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 50-year-old patient is diagnosed with a lesion in the visual cortex. Which of the following findings would you expect in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Pupillary light reflex normal, optic disc atrophy present"
      },
      {
        "id": 2,
        "text": "Pupillary light reflex normal, optic disc atrophy absent"
      },
      {
        "id": 3,
        "text": "Pupillary light reflex abnormal, optic disc atrophy present"
      },
      {
        "id": 4,
        "text": "Pupillary light reflex abnormal, optic disc atrophy absent"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In a patient with a <strong>visual cortex lesion</strong>, <strong>Pupillary light reflex</strong> remains <strong>normal</strong>, while <strong>optic disc atrophy is absent</strong>.\u00a0</p>\n<p>Patients with a lesion in the visual cortex typically present with specific clinical features related to their visual function. The <strong>visual cortex</strong> is crucial for interpreting visual information received from the eyes, and lesions here can lead to <strong>distinct visual deficits.</strong> Common findings include <strong>homonymous hemianopia</strong>, where there is loss of half of the visual field in both eyes, often sparing the central vision or macula. Additionally, <strong>visual hallucinations, impaired visual discrimination, and color vision disturbances</strong> may also be observed.</p>\n<p><strong>Pupillary light reflex:</strong> This reflex remains intact in patients with lesions restricted to the visual cortex. The pupillary response to light is normal because the pathway responsible for this reflex bypasses the visual cortex, involving the midbrain instead.</p>\n<p><strong>Optic disc atrophy: </strong>Optic disc atrophy is typically absent in lesions of the visual cortex. This is because the optic nerve fibers, which originate from retinal ganglion cells and form the optic disc, are not directly affected by lesions in the visual cortex.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Match the following clinical scenarios with the corresponding pupillary abnormality",
    "choices": [
      {
        "id": 1,
        "text": "1-A, 2-C, 3-D, 4-B"
      },
      {
        "id": 2,
        "text": "1-C, 2-B, 3-D, 4-A"
      },
      {
        "id": 3,
        "text": "1-B, 2-A, 3-C, 4-D"
      },
      {
        "id": 4,
        "text": "1-B, 2-C, 3-A, 4-D"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The correct pairing is <strong>1-B, 2-A, 3-C, 4-D</strong><br /><br />1. 55-year-old with an <strong>optic tract lesion</strong> with <strong>absent light reflex</strong> in the <strong>right temporal</strong> and <strong>left nasal visual fields</strong> but <strong>normal reflexes</strong> in the <strong>opposite fields</strong>: This pattern of pupillary response, known as <strong>Wernicke's hemianopic pupil</strong>, indicates a <strong>lesion in the optic tract</strong>. The absence of pupillary light reflex (both direct and consensual), when light is directed on specific retinal halves (temporal of affected eye, nasal of opposite eye), reflects the disruption in optic tract pathways. This finding is crucial for localizing the lesion along the visual pathway.</p>\n<p>2. 40-year-old with an <strong>optic nerve lesion</strong> with <strong>paradoxical pupil dilation</strong> in <strong>response</strong> to <strong>light</strong>: This describes the <strong>Marcus Gunn pupil</strong>, where there is an abnormal pupillary response to light due to a <strong>relative afferent pupillary defect (RAPD)</strong>, typically caused by incomplete optic nerve lesions or severe retinal diseases. The affected pupil dilates instead of constricting when light is shone into it, as detected by the swinging flashlight test. It can be an early indicator of optic nerve disease despite preserved visual acuity.</p>\n<p>3. 60-year-old with <strong>neurosyphilis</strong> with <strong>pupils</strong> that <strong>constrict</strong> to <strong>near objects</strong> but <strong>not</strong> to <strong>light</strong>: This scenario describes the <strong>Argyll Robertson pupil (ARP)</strong>, which manifests as small, irregular pupils that react normally to near vision (accommodation reflex present) but do not constrict in response to light (light-near dissociation). ARP is typically associated with lesions in the tectal region of the midbrain, often due to neurosyphilis, and the pupils dilate poorly with mydriatics.</p>\n<p>4<strong>. </strong>30-year-old woman with <strong>unilateral dilated pupil</strong> that <strong>reacts slowly</strong> to <strong>light</strong> and <strong>shows</strong> a <strong>tonic</strong> near <strong>response:</strong>\u00a0This condition is known as <strong>Adie's tonic pupil</strong>, characterized by <strong>unilateral pupil dilation (anisocoria)</strong>, <strong>slow pupillary light response, and a tonic constriction during near reflex testing</strong>. Adie's pupil is caused by post-ganglionic parasympathetic damage, often associated with absent knee jerk reflex and more prevalent in young women. It exhibits supersensitivity to weak pilocarpine drops due to denervation hypersensitivity of the iris sphincter.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following structures is not part of the accommodation reflex pathway?",
    "choices": [
      {
        "id": 1,
        "text": "Lateral geniculate body"
      },
      {
        "id": 2,
        "text": "Parastriate cortex"
      },
      {
        "id": 3,
        "text": "Inferior colliculus"
      },
      {
        "id": 4,
        "text": "Edinger-Westphal nucleus"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The <strong>inferior colliculus</strong> is part of the <strong>auditory pathway</strong> and is not involved in the accommodation reflex pathway.</p>\n<p>The pathway of the <strong>accommodation reflex</strong> involves the following structures:</p>\n<ul>\n<li><strong>Afferent Pathway</strong>: Impulses extend from the retina to the parastriate cortex via the optic nerve, chiasma, optic tract, lateral geniculate body, and striate cortex.</li>\n<li><strong>Relay</strong>: From the parastriate cortex, impulses are relayed to the Edinger-Westphal nucleus of both sides via the occipitomesencephalic tract and the pontine center.</li>\n<li><strong>Efferent Pathway</strong>: From the Edinger-Westphal nucleus, efferent impulses travel along the 3rd nerve and reach the sphincter pupillae and ciliary muscle after relaying in the accessory and ciliary ganglions.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following  is NOT suggestive of an early glaucomatous change in the optic disc?",
    "choices": [
      {
        "id": 1,
        "text": "Vertically oval cup due to selective loss of neural rim tissue in the inferior and superior poles"
      },
      {
        "id": 2,
        "text": "Large cup, with a cup:disc ratio of 0.5"
      },
      {
        "id": 3,
        "text": "Splinter haemorrhages present on or near the optic disc margin"
      },
      {
        "id": 4,
        "text": "Thinning of neuro-retinal rim (NRR)"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Thinning</strong> of the <strong>neuro-retinal rim (NRR)</strong> is indicative of <strong>advanced glaucomatous changes</strong>, not early ones. This distinguishes it from other early signs such as vertically oval cup and splinter hemorrhages.</p>\n<p><strong>Glaucomatous changes</strong> in the <strong>optic disc</strong> can be classified into early changes, advanced changes, and glaucomatous optic atrophy.</p>\n<p><strong>Early glaucomatous changes</strong> should be suspected if fundus examination reveals one or more of the following signs:</p>\n<ul>\n<li><strong>Vertically oval cup</strong> due to selective loss of neural rim tissue in the inferior and superior poles: This change indicates a loss of nerve fibers in these areas, causing the optic cup to appear more vertically elongated.</li>\n<li><strong>Asymmetry of the cups</strong>: A difference of more than 0.2 between the two eyes is significant and suggests glaucomatous damage.</li>\n<li><strong>Large cup,</strong> with a <strong>cup: disc ratio</strong> greater than <strong>0.4</strong>: Normal cup size ranges from 0.3 to 0.4, and an increased cup-to-disc ratio suggests a loss of optic nerve fibers.</li>\n<li><strong>Splinter hemorrhages</strong> present on or near the <strong>optic disc margin</strong>: These small, flame-shaped hemorrhages around the optic disc indicate glaucomatous damage.</li>\n<li><strong>Pallor areas</strong> on the disc: Pallor suggests a loss of nerve fibers and is associated with glaucomatous damage.</li>\n<li><strong>Atrophy</strong> of the <strong>retinal nerve fiber layer (RNFL)</strong>: This can be seen with red-free light and indicates the loss of the optic nerve fibers.</li>\n<li>RNFL defects appear as <strong>wedge-shaped dark areas</strong> arising from the optic nerve head: These defects are early indicators of glaucomatous damage.</li>\n</ul>\n<p><strong>Advanced glaucomatous changes</strong> in the optic disc include:</p>\n<ul>\n<li><strong>Marked cupping (cup size 0.7 to 0.9):</strong> Excavation may reach the disc margin, and the sides are steep and not shelving. This is well-delineated on OCT examination.</li>\n<li><strong>Thinning</strong> of the <strong>neuro-retinal rim (NRR)</strong>: Seen as a crescentric shadow adjacent to the disc margin, thinning of the NRR occurs in advanced cases and indicates significant optic nerve damage.</li>\n</ul>\n<p><strong>Glaucomatous optic atrophy:</strong> As the damage progresses, all the neural tissue of the disc is destroyed, and the optic nerve head appears white and deeply excavated. This represents the final stage of glaucomatous damage.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which among the following secondary glaucomas result in open-angle glaucoma?",
    "choices": [
      {
        "id": 1,
        "text": "1 and 2"
      },
      {
        "id": 2,
        "text": "2 and 3"
      },
      {
        "id": 3,
        "text": "1 and 3"
      },
      {
        "id": 4,
        "text": "1, 2, and 3"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Phacolytic Glaucoma </strong>and <strong>Lens Particle Glaucoma</strong> are both types of secondary glaucomas that present with <strong>open-angle</strong> pathology. In contrast, <strong>Phacomorphic Glaucoma</strong> presents with <strong>acute angle-closure glaucoma</strong>.</p>\n<p><strong>Phacomorphic Glaucoma</strong>: This condition results from an <strong>intumescent lens pushing the iris forward</strong> and causing secondary acute angle closure glaucoma. It presents with features similar to acute primary angle-closure glaucoma but with a swollen cataractous lens.</p>\n<p><strong>Phacolytic Glaucoma (Lens Protein Glaucoma):</strong> This type of secondary open-angle glaucoma occurs due to <strong>leakage of lens proteins through a hypermature cataract</strong>. The trabecular meshwork gets obstructed by these proteins and inflammatory debris, causing an acute rise in IOP.</p>\n<p><strong>Lens Particle Glaucoma: </strong>In this condition, <strong>trabecular meshwork</strong> is <strong>blocked</strong> by <strong>lens particles floating</strong> in the <strong>aqueous humor</strong>. It can occur after accidental or planned extracapsular cataract extraction or lens trauma, leading to symptoms of acute rise in IOP.</p>\n<p>Therefore, Phacomorphic Glaucoma\u00a0 is specifically associated with acute angle closure due to an intumescent lens, while the others describe different forms of secondary open-angle glaucomas resulting from lens protein leakage and lens particle obstruction, respectively.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 65-year-old male patient with a history of open-angle glaucoma is prescribed a new medication. After a few weeks of treatment, the patient reports experiencing unusual sensations in his hands and feet, described as tingling or \"pins and needles.\" Which of the following drugs was he most likely started on?",
    "choices": [
      {
        "id": 1,
        "text": "Acetazolamide"
      },
      {
        "id": 2,
        "text": "Latanoprost"
      },
      {
        "id": 3,
        "text": "Timolol"
      },
      {
        "id": 4,
        "text": "Pilocarpine"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The patient was most likely started on <strong>acetazolamide</strong>, which explains the <strong>paresthesia</strong> (tingling sensations) he is experiencing. Acetazolamide is a <strong>carbonic anhydrase inhibitor</strong> used to <strong>decrease aqueous humor</strong> production in the <strong>treatment</strong> of <strong>glaucoma.</strong>\u00a0</p>\n<p>Acetazolamide can cause a range of side effects:</p>\n<ul>\n<li><strong>Paresthesias</strong>: Tingling sensations in the fingers, toes, hands, feet, and around the mouth. These are transient and typically harmless.</li>\n<li><strong>Urinary Frequency</strong>: Increased urination due to the drug's diuretic effect.</li>\n<li><strong>Bicarbonate depletion</strong>: Leading to metabolic acidosis and symptoms like malaise, fatigue, depression, loss of libido, anorexia, and weight loss. Sodium bicarbonate or sodium acetate can help manage these symptoms.</li>\n</ul>\n<p>Other side effects include Gastrointestinal Symptoms like vague abdominal discomfort, gastric irritation, nausea, metallic taste, and diarrhea, as well as Sulfonamide-Related Side Effects</p>\n<p>Other options:-</p>\n<p>Option B. <strong>Latanoprost</strong>, a prostaglandin analog, increases the outflow of aqueous humor and can cause side effects such as conjunctival hyperemia (eye redness), foreign body sensation, and increased pigmentation of the iris.</p>\n<p>Option C. <strong>Timolol</strong> is a beta-blocker that reduces aqueous humor production, with side effects including ocular burning, conjunctival hyperemia, and systemic effects like bradycardia, bronchospasm, and depression.</p>\n<p>Option D. <strong>Pilocarpine</strong>, a muscarinic agonist, enhances aqueous humor outflow and may cause bradycardia, increased sweating, diarrhea, excessive salivation, and local effects like miosis-related visual issues and spasm of accommodation.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 40-year-old woman complains of discomfort in her left eye. There is a past history of blunt trauma in her childhood which made her left eye blind. Slit-lamp examination of her left eye is shown below. What is your diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Mittendorf dots"
      },
      {
        "id": 2,
        "text": "Bergmeister papilla"
      },
      {
        "id": 3,
        "text": "Synchysis scintillans"
      },
      {
        "id": 4,
        "text": "Asteroid bodies"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>These are <strong>synchysis scintillans</strong>, which are <strong>floaters</strong> composed of<strong> cholesterol bodies</strong>, found in the vitreous (extending into the anterior chamber in this picture).</p>\n<p><strong>Synchysis scintillans </strong>are vitreous opacities that&nbsp;occur as a consequence of <strong>chronic vitreous haemorrhage</strong>, often in a <strong>blind eye</strong>. This condition is usually discovered, when frank haemorrhage is no longer present. They are composed of<strong> cholesterol</strong> derived from <strong>plasma cells</strong> or degraded products of<strong> erythrocytes.</strong></p>\n<p><strong>Vitreous opacities:</strong></p>\n<p>They can be caused by a variety of pathological processes and the following are few examples of vitreous opacities</p>\n<ul>\n<li>Muscae volitantes</li>\n<li>Asteroid hyalosis</li>\n<li>Synchysis scintillans</li>\n<li>Amyloidosis</li>\n<li>Vitreous cyst</li>\n<li>Persistent fetal vasculature</li>\n<li>Vitreous haemorrhage</li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0198348fc5cd412180763e5188e1c2ce.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which among the following are based on applanation tonometry?",
    "choices": [
      {
        "id": 1,
        "text": "1 and 2 only"
      },
      {
        "id": 2,
        "text": "1, 2, 3, and 4"
      },
      {
        "id": 3,
        "text": "2, 3, and 4 only"
      },
      {
        "id": 4,
        "text": "1 and 3 only"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Goldmann tonometer, tono-pen, Perkin's applanation tonometry, </strong>and<strong>&nbsp;pneumatic tonometer&nbsp;</strong>are all based on the principle of <strong>applanation tonometry</strong>.&nbsp;</p>\n<p><strong>Tonometers</strong> are used to <strong>measure intraocular pressure</strong>. There are <strong>two types</strong> of tonometers. They are <strong>indentation</strong> and <strong>applanation&nbsp;</strong>tonometers.</p>\n<p><strong>Applanation tonometry</strong>&nbsp;is&nbsp;<strong>more accurate</strong>. The applanation tonometer&nbsp;<strong>measures&nbsp;</strong>the<strong>&nbsp;amount of force</strong>&nbsp;needed to<strong>&nbsp;applanate&nbsp;</strong>(flatten) a known&nbsp;<strong>corneal area&nbsp;</strong>based on&nbsp;the&nbsp;<strong>Imbert-Fick law</strong>.&nbsp;<strong>Goldmann tonometer</strong>,&nbsp;<strong>Tono-Pen</strong>,&nbsp;<strong>pneumatic tonometer</strong>, and&nbsp;<strong>Perkin's applanation tonometry</strong>&nbsp;uses the principle of applanation.</p>\n<p><strong>Indentation tonometry</strong> is based on the principle that a <strong>plunger </strong>will <strong>indent more </strong>on a<strong> soft eye</strong> than a<strong> hard eye</strong>. Schiotz tonometer is the <strong>most widely used</strong> tonometer as it is cheap and hand-held. However, it can give <strong>false readings</strong> if used in an eye with <strong>abnormal scleral rigidity</strong>.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the test shown below.",
    "choices": [
      {
        "id": 1,
        "text": "Cover-uncover test"
      },
      {
        "id": 2,
        "text": "Direct cover test"
      },
      {
        "id": 3,
        "text": "Alternate cover test"
      },
      {
        "id": 4,
        "text": "Maddox text"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p style=\"text-align: left;\">The test shown is the&nbsp;<strong>alternate cover test,&nbsp;</strong>where the cover alternates from one eye to the other and both eyes move each time. This reveals if&nbsp;the squint is&nbsp;<strong>unilateral</strong>&nbsp;or&nbsp;<strong>alternate </strong>and helps&nbsp;<strong>differentiate</strong>&nbsp;between&nbsp;<strong>concomitant&nbsp;</strong>and&nbsp;<strong>paralytic</strong>&nbsp;squints.</p>\n<p>Other options:</p>\n<p><strong>Maddox test&nbsp;</strong>is a subjective test used to detect and measure horizontal, vertical, latent, or manifest squint. It uses a series of fused red cylindrical glass rods that convert a white spot of light into a red streak of light.</p>\n<p>The following is an image of Maddox rod and pen torch:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d1ec0ba2530640839806b827f20f691b.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/02edc89be79c49c3bcc120c5a4bd999ex960x717.JPEG"
    ]
  },
  {
    "text": "A teenager comes with complaints of difficulty in seeing far away objects. You assess him using Snellen's chart. The maximum he is able to read with his left eye, at a distance of 6 meters, is the 18 meter line. What is his left eye vision recorded to be?",
    "choices": [
      {
        "id": 1,
        "text": "6/18"
      },
      {
        "id": 2,
        "text": "18/6"
      },
      {
        "id": 3,
        "text": "6/6"
      },
      {
        "id": 4,
        "text": "6/20"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>His vision would be recorded as <strong>6/18.</strong></p>\n<p><strong>Snellen's chart</strong> is used to evaluate a patient's <strong>visual acuity</strong>. The visual acuity is recorded as a <strong>fraction</strong> with the <strong>numerator</strong> being the <strong>distance</strong> of the<strong> patient </strong>from the <strong>chart</strong> and the <strong>denominator</strong> being the <strong>smallest line </strong>of<strong> letters</strong> that is <strong>accurately read</strong>.</p>\n<p>Here, the teenager is sitting at a distance of 6 meters from the chart (numerator) and the smallest line of letters he is able to read is the 18-meter line (denominator). Thus, the vision recorded would be 6/18.&nbsp;</p>\n<p><strong>Visual acuity</strong> is the measurement of the eye's ability to <strong>discriminate between two points</strong>. Visual acuity tests such as Snellen's contain a series of letters that are arranged in lines, and each line has progressively decreasing sizes of letters.&nbsp;</p>\n<p>Each letter of the chart is designed to fit in a square, the sides of which are five times the breadth of the constituent line. At a given distance, <strong>each letter subtends </strong>an <strong>angle </strong>of <strong>5 min </strong>at the&nbsp;<strong>eye's&nbsp;</strong><strong>nodal point</strong>.&nbsp;</p>\n<p>The letters on the line at the top of Snellen's chart should be read clearly at a distance of 60 meters. Each subsequent line is read at 36, 24, 18, 12, 9, 6, and 5 meters, respectively.&nbsp;</p>\n<p>Testing is done by seating the <strong>patient</strong> at a <strong>distance </strong>of <strong>6meters</strong> from Snellen's chart (at this distance the rays of light are almost parallel and the patient exerts minimum accommodation). Then the patient is asked to read the chart with each eye separately and the results are recorded.&nbsp;</p>\n<p>An image of Snellen's chart is attached below:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/86d36264c4f449c695bb584ab82e1711x400x600.JPEG"
    ]
  },
  {
    "text": "An ophthalmology resident while presenting the seminar on staphyloma presents the following image showing different types of staphyloma. The type of staphyloma occurring at point A, at the limbus, is known as :",
    "choices": [
      {
        "id": 1,
        "text": "Ciliary staphyloma"
      },
      {
        "id": 2,
        "text": "Equatorial staphyloma"
      },
      {
        "id": 3,
        "text": "Intercalary staphyloma"
      },
      {
        "id": 4,
        "text": "Posterior staphyloma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The type of staphyloma occurring at point A is known as <strong>intercalary</strong> <strong>staphyloma.\u00a0</strong>It is located <strong>at the limbus</strong> and is lined by the root of the iris and the anterior-most part of the ciliary body.</p>\n<p>The patient usually has defective vision due to marked corneal astigmatism. The treatment consists of <strong>localised</strong> <strong>staphylectomy</strong> under heavy doses of oral steroids.</p>\n<p>In the above image:</p>\n<p>A: Intercalary staphyloma<br />B: Ciliary staphyloma<br />C: Equatorial staphyloma<br />D: Posterior staphyloma</p>\n<p><strong>Staphyloma:</strong></p>\n<p>It is an abnormal protrusion of the\u00a0<strong>uveal tissue</strong> through a weak and thin portion of the\u00a0cornea\u00a0or sclera.</p>\n<ul>\n<li>It is <strong>lined internally by uveal tissue</strong> and <strong>externally by weak cornea or sclera</strong>.</li>\n<li>Types of Staphyloma:\n<ul>\n<li><strong>Anterior</strong>\u00a0staphyloma: It is characterized\u00a0by <strong>ectasia of the pseudo-cornea,</strong> which occurs after the total sloughing of the\u00a0cornea. It is lined internally by the iris and externally by the newly formed epithelium.</li>\n<li><strong>Intercalary</strong> staphyloma: This is located <strong>at the limbus</strong> and is lined by the root of the iris and the anterior-most part of the ciliary body</li>\n<li><strong>Ciliary</strong> staphyloma: It is characterized by ectasia of weak sclera lined by the\u00a0ciliary body. This affects the <strong>ciliary zone,</strong> which includes the region <strong>up to 8 mm behind the limbus.</strong></li>\n<li><strong>Equatorial</strong> staphyloma: This occurs at the <strong>equatorial region up to 14 mm behind the limbus</strong> of the eye.</li>\n<li><strong>Posterior</strong> staphyloma: This affects the <strong>posterior pole</strong> of the eye.</li>\n</ul>\n</li>\n<li><strong>Note :</strong>\n<ul>\n<li>The most common cause of <strong>anterior</strong> staphyloma is a <strong>sloughing corneal ulcer.</strong></li>\n<li>The most common cause of <strong>posterior</strong> staphyloma is <strong>degenerative high axial myopia.</strong></li>\n</ul>\n</li>\n</ul>\n<p>The image given below shows the various anatomical types of staphyloma.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7f935cea8b154d3fbb9fcbe5b8bb7391.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f99b402d18314c91aa88be5fcce08143x1280x1404.JPEG"
    ]
  },
  {
    "text": "If the prevalence of trachoma follicles among 1-9 year old children is 4% in a population. What is the WHO strategy to control trachoma in that population?",
    "choices": [
      {
        "id": 1,
        "text": "Trichiasis and entropion correction surgery, Antibiotics, Facial hygiene, Environmental cleanliness"
      },
      {
        "id": 2,
        "text": "Antibiotics and Trichiasis correction surgery"
      },
      {
        "id": 3,
        "text": "Facial hygiene and environmental cleanliness"
      },
      {
        "id": 4,
        "text": "No intervention"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Facial hygiene </strong>and <strong>Environmental sanitation </strong>is the WHO strategy used to control trachoma in a population with prevalence of trachoma follicles &lt;5% among 1-9-year-old children.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 65 years old male presents with a gradual decline in vision. All of the following can be causes except:",
    "choices": [
      {
        "id": 1,
        "text": "ARMD"
      },
      {
        "id": 2,
        "text": "Retinal detachment involving the macula"
      },
      {
        "id": 3,
        "text": "Corneal dystrophy"
      },
      {
        "id": 4,
        "text": "Primary open angle glaucoma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Retinal detachment</strong> involving macula causes <strong>a sudden painless loss of vision.</strong> The rest can cause a gradual decline in vision.</p>\n<p>The causes of sudden painless loss of vision are:-</p>\n<ul>\n<li>Central retinal artery occlusion</li>\n<li>Massive vitreous hemorrhage</li>\n<li>Retinal detachment involving macula</li>\n<li>Ischemic central retinal vein occlusion</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 28-year-old man presented with worsening night blindness for the last few years. On further questioning, he reveals that he has been having increasing difficulty doing daily activities like reading and walking without bumping into objects. His fundoscopy findings are shown below. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Retinitis pigmentosa"
      },
      {
        "id": 2,
        "text": "Vitamin A deficiency"
      },
      {
        "id": 3,
        "text": "Retinal detachment"
      },
      {
        "id": 4,
        "text": "Acquired syphilis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>This patient with a clinical picture of <strong>worsening night blindness</strong>, <strong>difficulty</strong> in <strong>walking</strong> and reading, with fundoscopic features (<strong>bone spicule </strong>changes, retinal atrophy, and a peripheral ring of <strong>depigmentation</strong>) is likely to have <strong>retinitis pigmentosa</strong>.</p>\n<p>Retinitis pigmentosa is&nbsp;<strong>retinal dystrophy</strong> that results in <strong>retinal rod </strong>and<strong> cone degeneration</strong>. It can be <strong>inherited</strong> (autosomal dominant, autosomal recessive, or X-linked recessive) or <strong>acquired</strong> due to sporadic mutation in the rhodopsin gene.&nbsp;</p>\n<p>Patients present with <strong>worsening night blindness</strong>. However, patients do not often notice night blindness and may present after much disease progression. They also develop <strong>tunnel vision,&nbsp;</strong>which manifests as difficulty performing activities of daily living such as reading, walking, and driving.&nbsp;</p>\n<p>Ocular examination reveals&nbsp;<strong>normal visual activity</strong> and <strong>central vision</strong> (though central vision will be involved later in disease progression). Fundoscopy shows bilateral, mid-peripheral intraretinal perivascular '<strong>bone-spicule</strong>' changes and <strong>atrophy</strong> of the retinal pigment epithelium. There is severe <strong>peripheral pigmentation</strong>, arteriolar narrowing, and <strong>pallor</strong> of the disc.&nbsp;</p>\n<p>Retinitis pigmentosa can lead to <strong>posterior subcapsular cataracts</strong>, open-angle <strong>glaucoma</strong>, keratoconus, and posterior <strong>vitreous detachment</strong> as possible complications.&nbsp;</p>\n<p>There is no specific treatment for retinitis pigmentosa. Some interventions that may help include the following:&nbsp;</p>\n<ul>\n<li><strong>Regular follow-up</strong> to assess vision and provide low-vision aid, rehabilitation, and social services</li>\n<li>Cataract surgery</li>\n<li>'Nanometer controlled' <strong>sunglasses</strong> as light protective strategies for outdoor and indoor use</li>\n<li>Avoidance of retinotoxic medications</li>\n</ul>\n<p>Other options:</p>\n<p>Option B: <strong>Vitamin A deficiency</strong> would lead to <strong>xerophthalmia</strong>. This also has night blindness and loss of vision. However, retinal involvement would be characterized by yellowish, peripheral dots in advanced cases.&nbsp;</p>\n<p>Option C: <strong>Retinal detachment</strong> occurs when there is a <strong>separation</strong> between the neuroepithelium and pigment epithelium of the retina. This can occur due to trauma, neoplasm, or fluid accumulation. It is characterized by light flashes, floaters, and a <strong>'curtain' obscuring the vision. </strong>Ophthalmoscopy features depend on the stage. Early stages may not be apparent other than color changes, but later stages may show folds that oscillate on eye movement, grey depressions, and bright summits.&nbsp;</p>\n<p>The image given below shows a shifting fluid sign in exudative retinal detachment.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/54666d1699de41e88a343ecad945b843.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8091d575750f4aad89be9ff3a94061abx1280x2442.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2d93cfd9ef59485596f52465b85b3408x720x535.JPEG"
    ]
  },
  {
    "text": "Arrange from outer to inner the layers of the retina given below: \nA-Retinal pigment epithelium \nB-Inner plexiform layer \nC-Nerve fiber layer \nD-Inner nuclear layer \nE-external limiting membrane.",
    "choices": [
      {
        "id": 1,
        "text": "E,D,C,B,A"
      },
      {
        "id": 2,
        "text": "A,B,D,C,E"
      },
      {
        "id": 3,
        "text": "A,E,D,B,C"
      },
      {
        "id": 4,
        "text": "E,A,D,B,C"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>From the given options, the correct sequence from outer to inner is:</p>\n<ul>\n<li>retinal pigment epithelium (A),&nbsp;</li>\n<li>external limiting membrane (E),&nbsp;</li>\n<li>inner nuclear layer (D),</li>\n<li>inner plexiform layer (B),&nbsp;</li>\n<li>nerve fiber layer (C)&nbsp;<br /><br /></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 60-year-old diabetic woman presents to you with complaints of a decrease in vision in the left eye. There is also a history of cataract surgery 1 month back on the same eye. Investigation reveals flower petal pattern on fundus fluorescein angiography (FFA). Optical coherence tomography done in this patient is shown in the image below. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Central serous retinopathy"
      },
      {
        "id": 2,
        "text": "Optical drusens"
      },
      {
        "id": 3,
        "text": "Irvine-Gas syndrome"
      },
      {
        "id": 4,
        "text": "Macular haemorrhage"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical scenario and OCT image showing cystic spaces are suggestive of\u00a0<strong>cystoid macular edema (CME)</strong>\u00a0in a patient with a history of cataract surgery points towards the diagnosis of\u00a0<strong>Irvine-Gass syndrome</strong>.</p>\n<p class=\"p1\">Optical coherence tomography (OCT) in CME\u00a0<span class=\"s1\">reveals loss\u00a0</span>of foveal depression, intraretinal area of decreased reflectivity with round optically clear regions (cystoid spaces)</p>\n<p><strong>Irvine-Gass syndrome\u00a0</strong>is\u00a0the late postoperative complications of cataract surgery. The characteristic flower-petal appearance is due to the accumulation of dye in the\u00a0<strong>outer plexiform layer</strong>\u00a0at the\u00a0<strong>fovea.\u00a0</strong>CME occurs due to a break in the\u00a0<strong>inner and outer</strong>\u00a0blood-retinal barrier.</p>\n<p class=\"p1\"><span class=\"s1\">Ophthalmoscopy </span>reveals loss of foveal contour, retinal thickening, a yellow spot at the center of the fovea, and <strong>Honeycomb appearance</strong> of the macula is seen due to multiple cystoid\u00a0oval spaces.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/11168abb80a84d01a21263730bd9e58f.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/560cecf823694eeba545caad6ae567afx720x481.JPEG",
      "https://cdn1.dailyrounds.org/uploads/19bd4a738ac54eb4bc6206639b9135f0.JPEG"
    ]
  },
  {
    "text": "A person sustained an injury to the right eye with a tennis ball, following which he developed pain. On fundus examination, a milky white macula with a red spot is seen. What is the most probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Commotio retinae"
      },
      {
        "id": 2,
        "text": "Retinal bleed"
      },
      {
        "id": 3,
        "text": "Vitreal hemorrhage"
      },
      {
        "id": 4,
        "text": "Macular tear"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Commotio retinae,&nbsp;</strong>or<strong> Berlin&rsquo;s edema,</strong> is the most probable diagnosis.</p>\n<p>It<strong>&nbsp;occurs following a blow to the eye</strong>. It manifests as milky white cloudiness involving a considerable area of the posterior pole with a &lsquo;cherry-red spot&rsquo; in the foveal region.</p>\n<p><strong>Blunt trauma to the eye produces</strong>:</p>\n<ul>\n<li><strong>Vossius ring -</strong>&nbsp;It is a circular ring of brown pigment seen on the anterior capsule. It occurs due to the&nbsp;striking of the contracted pupillary margin against the crystalline lens.</li>\n<li><strong>Rosette cataract -</strong>&nbsp;It is the most typical form of concussion cataract.</li>\n<li><strong>Commotio retinae (Berlin&rsquo;s edema) -</strong>&nbsp;It manifests as milky white cloudiness involving a considerable area of the posterior pole with a \"<strong>cherry-red spot\"</strong>&nbsp;at the foveola.</li>\n</ul>\n<p>It may disappear after some days or may be followed by pigmentary changes. Given below is an image of Berlin's edema.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ae55fb98b2a4481e89637133113ed1ecx497x374.PNG"
    ]
  },
  {
    "text": "Which of the following are true regarding the intraocular lens given below:",
    "choices": [
      {
        "id": 1,
        "text": "2 and 4"
      },
      {
        "id": 2,
        "text": "1 and 3"
      },
      {
        "id": 3,
        "text": "1 and 4"
      },
      {
        "id": 4,
        "text": "4 and 5"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above image depicts a <strong>modified C-loop type</strong> of posterior chamber intraocular lens (<strong>PCIOL)</strong>.</p>\n<p>The central part overlying the optic axis is called the&nbsp;<strong>optic</strong>. The peripheral arms used for placement and stabilization are the&nbsp;<strong>haptics</strong>.</p>\n<p><strong>Posterior Chamber IOL:</strong></p>\n<ul>\n<li>The IOL is best placed in the posterior chamber.</li>\n<li>PCIOLs rest entirely <strong>behind the iris</strong>.</li>\n<li>They may be supported and fixed as\n<ul>\n<li>Capsular bag fixation of PCIOL (most ideal method)</li>\n<li>Ciliary sulcus fixation</li>\n<li>Sclera fixation</li>\n</ul>\n</li>\n</ul>\n<p><strong>Anterior Chamber IOL:</strong></p>\n<ul>\n<li>Lie entirely in&nbsp;<strong>front of the iris</strong>&nbsp;and are supported in the&nbsp;<strong>angle of the&nbsp;anterior chamber</strong></li>\n<li>Are associated with a higher incidence of&nbsp;<strong>bullous keratopathy</strong></li>\n<li>Kelman multiflex&nbsp;type of anterior chamber intraocular lens (ACIOL) is the&nbsp;most commonly&nbsp;used ACIOL (image below)</li>\n</ul>\n<p><strong>Singh and Worst&rsquo;s </strong>is a type of iris-claw lens.</p>\n<ul>\n<li>The iris-supported lens is fixed with the help of sutures, loops, or claws.</li>\n<li>These lenses are associated with a&nbsp;high incidence of&nbsp;<strong>postoperative complications</strong>.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/e7b06d312f1144358198dbb6d779fee8.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a513b74f767e437eb8f5f6849ec081d6x1280x2276.JPEG"
    ]
  },
  {
    "text": "A patient underwent a trabeculectomy, following which he developed a headache. Examination revealed that the anterior chamber was flat, the Seidel test result was negative, and the intraocular pressure was raised. He was given 1% atropine, which improved his condition. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Posner\u2013Schlossman syndrome"
      },
      {
        "id": 2,
        "text": "Pseudoexfoliation glaucoma"
      },
      {
        "id": 3,
        "text": "Phacolytic glaucoma"
      },
      {
        "id": 4,
        "text": "Malignant glaucoma"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The diagnosis based on clinical features is <strong>malignant glaucoma</strong>.</p>\n<p><strong>Malignant glaucoma </strong>is&nbsp;seen after&nbsp;intraocular surgery such as <strong>trabeculectomy. </strong>The forward flow of aqueous is&nbsp;blocked as the tips of ciliary processes rotate forward and press against the lens/IOL/anterior hyaloid of the vitreous. Hence, aqueous humor collects in the vitreous cavity.</p>\n<p><strong>Clinical features</strong>:</p>\n<ul>\n<li>Persistent shallow or <strong>flat anterior chamber</strong></li>\n<li><strong>Negative Seidel&rsquo;s test result</strong></li>\n<li>Raised intra-ocular pressure</li>\n</ul>\n<p><strong>Treatment</strong></p>\n<ul>\n<li><strong>Atropine:</strong>\n<ul>\n<li>Malignant glaucoma is also called <strong>inverse glaucoma</strong> since atropine is used.</li>\n<li>It dilates the ciliary ring and increases the distance between the ciliary processes and the equator of the lens, thereby tightening the zonule and pulling the lens posteriorly into its normal position.</li>\n</ul>\n</li>\n<li><strong>Intravenous mannitol</strong> may be used if mydriatics are ineffective, in order to shrink the vitreous gel and allow the lens to move posteriorly.</li>\n<li>Nd:YAG laser hyaloidotomy - making an opening in the anterior hyaloid membrane</li>\n<li>Pars plana vitrectomy</li>\n</ul>\n<p>Other options:</p>\n<p>Option A: <strong>Posner&ndash;Schlossman syndrome</strong>&nbsp;is characterized by <strong>recurrent attacks of unilateral acute raised intraocular pressure</strong> associated with mild anterior uveitis. It presents with mild discomfort, haloes, and blurring of vision.</p>\n<p>Option B: Pseudoexfoliation glaucoma is rapidly progressive and can lead to significant visual loss. It is an ocular manifestation of a systemic condition in which pseudoexfoliative material is deposited on structures like the lens capsule, zonular fibers, iris, trabeculae, and conjunctiva.</p>\n<p>Option C: Phacolytic glaucoma&nbsp;is a secondary open-angle glaucoma associated with a hypermature cataract. Patients present with pain and poor vision. Slit-lamp examination shows corneal edema, hypermature cataract, and deep anterior chamber. Large, floating, white particles consisting of lens protein and protein-containing macrophages may be seen in the anterior chamber.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is true about direct ophthalmoscope?",
    "choices": [
      {
        "id": 1,
        "text": "It produces a real, inverted image"
      },
      {
        "id": 2,
        "text": "It produces a magnification of 15 times"
      },
      {
        "id": 3,
        "text": "Fundus view is possible upto ora serrata"
      },
      {
        "id": 4,
        "text": "Area of the field in focus is about 8 disc diameter"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>A direct ophthalmoscope produces an image magnification of <strong>15 times</strong>.&nbsp;</p>\n<p class=\"p1\"><strong>Direct Ophthalmoscopy: </strong></p>\n<ul>\n<li class=\"p1\">The most commonly practiced method for routine fundus examination.</li>\n<li class=\"p1\">Direct ophthalmoscopy should be performed in a semi-darkroom and the patient's right eye should be examined by the right eye of the observer and the patient's left eye with the observer's left eye.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following ocular findings are associated with Dorsal-Midbrain (Parinaud's) syndrome, except",
    "choices": [
      {
        "id": 1,
        "text": "Setting sun sign"
      },
      {
        "id": 2,
        "text": "Collier's sign"
      },
      {
        "id": 3,
        "text": "Bilateral papilledema"
      },
      {
        "id": 4,
        "text": "Paresis of downward gaze with preserved upward gaze"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Parinaud's syndrome refers to <strong>supranuclear vertical gaze disorder.&nbsp;</strong>Here there is a <strong>loss of up-gaze</strong> and the <strong>downward gaze is usually preserved</strong>.</p>\n<p>Parinaud's syndrome/dorsal midbrain syndrome is<strong>&nbsp;</strong>caused by <strong>damage </strong>to the <strong>posterior commissure.&nbsp;</strong>Classically, signs of hydrocephalus are seen due to aqueductal stenosis.</p>\n<p><strong>Causes:</strong></p>\n<ul>\n<li><strong>Pineal region or midbrain tumors</strong> (most common cause)</li>\n<li>Neurocysticercosis</li>\n<li>Stroke</li>\n<li>Multiple sclerosis</li>\n</ul>\n<p><strong>Features include the following:</strong></p>\n<ul>\n<li><strong> Loss of up-gaze</strong> (downward gaze is usually preserved)</li>\n<li>Convergence&ndash;retraction nystagmus on attempted upgaze</li>\n<li>Downward ocular deviation-&nbsp;<strong>Setting-sun sign </strong></li>\n<li>Lid retraction-&nbsp;<strong>Collier's sign </strong></li>\n<li><strong>Pseudo-Argyll&ndash;Robertson pupil-</strong>&nbsp;Accommodative paresis ensues and pupils become mid-dilated and show light-near dissociation</li>\n<li>Bilateral papilledema</li>\n<li>Skew deviation</li>\n<li>Pseudoabducens palsy</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient presents with pain, photophobia, and lacrimation. On slit lamp examination, keratic precipitates are seen. You prescribe 1% atropine sulfate eye drops for iridocyclitis and advise regarding the application. Which of the following is false regarding the steps of application of the eyedrops?",
    "choices": [
      {
        "id": 1,
        "text": "Pull the lower eyelid down to create a pocket for the drops"
      },
      {
        "id": 2,
        "text": "After administration, apply gentle pressure to the tear duct for a minute"
      },
      {
        "id": 3,
        "text": "Blink immediately after applying the eye drops"
      },
      {
        "id": 4,
        "text": "The head must be tilted backward during application"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Proper administration of eye drops is crucial to ensure their effectiveness. <strong>Blinking immediately</strong> after applying the eye drops can cause the drops to be <strong>expelled</strong> from the <strong>eye,</strong> reducing their efficacy.</p>\n<p>Steps to administer eye drops:</p>\n<ol>\n<li>Tilt your head back and look up</li>\n<li>With 1 hand, pull your lower eyelid down and away from your eyeball \u2014 this makes a \u201cpocket\u201d for the drops</li>\n<li>With the other hand, hold the eye drop bottle upside down with the tip just above the pocket</li>\n<li>Squeeze the prescribed number of eye drops into the pocket</li>\n<li>For at least 1 minute, close your eye and press your finger lightly on your tear duct (small hole in the inner corner of your eye) \u2014 this keeps the eye drop from draining into your nose</li>\n</ol>\n<p>Precautions:</p>\n<ul>\n<li>Wash your hands with soap and water before you use eye drops</li>\n<li>Don\u2019t touch the tip of the eye drop bottle with your hands</li>\n<li>Don\u2019t let the tip of the eye drop bottle touch your eye or eyelid</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 62-year-old woman who has been complaining of unilateral headache and jaw pain for 2 weeks, now comes with complaints of blurry vision. She also has a history of stiffness and pain in her shoulders and hips. Visual field examination shows a pale optic disc. Which of the following is the most probable pathophysiology seen in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Central retinal artery occlusion"
      },
      {
        "id": 2,
        "text": "Anterior ischemic optic neuropathy"
      },
      {
        "id": 3,
        "text": "Central retinal vein occlusion"
      },
      {
        "id": 4,
        "text": "Posterior ischemic optic neuropathy"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>This patient's clinical picture is suggestive of <strong>giant cell arteritis</strong>&nbsp;(GCA) with <strong>polymyalgia rheumatica</strong> which is most commonly associated with <strong>anterior ischemic optic neuropathy</strong> (AION).</p>\n<p>AION is due to the interference in the circulation of the posterior ciliary artery supplying the anterior part of the optic nerve.</p>\n<p><strong>Anterior ischemic optic neuropathy (AION):</strong></p>\n<p>The two types are as follows:</p>\n<ul>\n<li><strong>Arteritic AION</strong>:&nbsp;caused by <strong>giant-cell arteritis</strong></li>\n<li>Non-arteritic AION (NAAION):<strong>&nbsp;most common</strong></li>\n</ul>\n<p>Clinical features:</p>\n<table style=\"width: 378px; height: 667px;\">\n<tbody>\n<tr>\n<td style=\"width: 111.25px;\">\n<p><strong>Features</strong></p>\n</td>\n<td style=\"width: 119.03125px;\">\n<p><strong>AAION</strong></p>\n</td>\n<td style=\"width: 125.75px;\">\n<p><strong>NAAION</strong></p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 111.25px;\">\n<p><strong>Age</strong></p>\n</td>\n<td style=\"width: 119.03125px;\">\n<p>&gt;60 years</p>\n</td>\n<td style=\"width: 125.75px;\">\n<p>&lt;60 years</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 111.25px;\">\n<p><strong>Sex</strong></p>\n</td>\n<td style=\"width: 119.03125px;\">\n<p>F &gt; M</p>\n</td>\n<td style=\"width: 125.75px;\">\n<p>F = M</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 111.25px;\">\n<p><strong>Headache</strong></p>\n<p><strong>Jaw claudication</strong></p>\n</td>\n<td style=\"width: 119.03125px;\">\n<p>Present</p>\n</td>\n<td style=\"width: 125.75px;\">\n<p>Absent</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 111.25px;\">\n<p><strong>Visual loss</strong></p>\n</td>\n<td style=\"width: 119.03125px;\">\n<p>Marked</p>\n</td>\n<td style=\"width: 125.75px;\">\n<p>Less marked</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 111.25px;\">\n<p><strong>Optic disc</strong></p>\n</td>\n<td style=\"width: 119.03125px;\">\n<p>Pale disc edema</p>\n</td>\n<td style=\"width: 125.75px;\">\n<p>Hyperemic disc edema with flame-shaped hemorrhages</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 111.25px;\">\n<p><strong>C-reactive proteins</strong></p>\n</td>\n<td style=\"width: 119.03125px;\">\n<p>Raised</p>\n</td>\n<td style=\"width: 125.75px;\">\n<p>Normal</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 111.25px;\">\n<p><strong>ESR</strong></p>\n</td>\n<td style=\"width: 119.03125px;\">\n<p>Highly raised</p>\n<p>(&gt; 40 mm in the first hour)</p>\n</td>\n<td style=\"width: 125.75px;\">\n<p>Raised</p>\n<p>(20 - 40 mm in the first hour)</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 111.25px;\">\n<p><strong>Fluorescein angiogram</strong></p>\n</td>\n<td style=\"width: 119.03125px;\">\n<p>Disc and</p>\n<p>choroidal filling delay</p>\n</td>\n<td style=\"width: 125.75px;\">\n<p>Only disc delay</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 111.25px;\">\n<p><strong>Treatment</strong></p>\n</td>\n<td style=\"width: 119.03125px;\">\n<p>Corticosteroids</p>\n</td>\n<td style=\"width: 125.75px;\">\n<p>Levodopa&ndash;carbidopa combination for 3 weeks and then double dose for 1 month</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>The image given below shows pale&nbsp;chalky white optic disc edema of arteritic AION.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ad1673ea9a504599bc207e0ea023e107x512x358.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/864697dc9b83424ea946cac05b1bd3ccx720x515.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/dda2d5430d3b47eeaa8c3f3c60b13907x720x688.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e604db9082fc433f9fe9776ee4aeae0ax512x462.PNG"
    ]
  },
  {
    "text": "A Schirmer\u2019s test was performed on a woman who presented with chronic irritation and dryness in both eyes. What is incorrect regarding the procedure done?",
    "choices": [
      {
        "id": 1,
        "text": "The strip is placed at the junction of medial 2/3rd and lateral 1/3rd of the lower eyelid"
      },
      {
        "id": 2,
        "text": "The strip is removed after 5 minutes and the wet portion is measured"
      },
      {
        "id": 3,
        "text": "Strip wetting of less than 10 mm is indicative of aqueous tear deficiency"
      },
      {
        "id": 4,
        "text": "A tear-film break up time (TBUT) of less than 30 seconds is suggestive of dry eye"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The incorrect statement regarding the Schirmer\u2019s test is that the <strong>tear-film break-up time (TBUT) of less than 10 seconds is</strong> <strong>suggestive of dry eye</strong> (Option D) since this finding is seen in a <strong>slit-lamp</strong> <strong>study</strong> following <strong>1% sodium fluorescein staining</strong>. \u00a0 \u00a0 \u00a0 \u00a0</p>\n<p>The time taken for the <strong>first appearance</strong> of a <strong>\u2018dark\u2019 dry spot</strong> after the patient blinks is recorded as the \u2018<strong>tear-film break-up time</strong>\u2019 (\u2018<strong>TBUT</strong>\u2019). A TBUT of <strong>less than 10 seconds</strong> is suggestive of a <strong>dry eye</strong> with a <strong>deficiency of mucin</strong>.\u00a0</p>\n<p>The Schirmer test is performed by <strong>folding 5 mm </strong>at the <strong>top end</strong> of a <strong>special Schirmer test filter paper strip</strong> and placing it in the <strong>lower conjunctival</strong> <strong>sac</strong> of the open eye (Option A). It is placed at the <strong>junction</strong> of the <strong>outer one-third</strong> and <strong>medial two-thirds </strong>of the <strong>lower lid</strong>, and left in place for<strong> 5 minutes</strong> or <strong>until 30 mm</strong> <strong>of the</strong> <strong>strip</strong> <strong>becomes wet</strong> (Option B).</p>\n<p>If tear fluid fails to diffuse over the lid margin along the strip within 2 minutes, it is removed to another site within the sac for another 5 minutes. The strip is then removed from the eye after 5 minutes and the wet portion is measured. <strong>Wetting </strong>of <strong>less than 10 mm </strong>is indicative of an <strong>aqueous tear</strong> <strong>deficiency</strong> (Option C).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Ophthalmology Test';
        const quizFilename = 'ophthalmology-test-f1b96f3f.html';
        let hierarchy = ["Marrow", "NEET PG Test Series Subject Wise", "Year 2024 - 25"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>