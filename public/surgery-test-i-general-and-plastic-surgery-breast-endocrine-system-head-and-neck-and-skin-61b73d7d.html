<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surgery Test I (General And Plastic Surgery, Breast, Endocrine System, Head And Neck, And Skin) - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Test Series Subject Wise / Year 2018 - 19
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "40 year old lady presents with a 3x2 cm breast carcinoma in the left breast. Lump is attached to the pectoralis major muscle with skin ulceration and there are fixed & matted axillary lymph nodes in the left axilla & mobile axillary LN in the right axilla, which also show the presence of tumor.  What is the stage?",
    "choices": [
      {
        "id": 1,
        "text": "T4a N2 M1"
      },
      {
        "id": 2,
        "text": "T4a N0 M1"
      },
      {
        "id": 3,
        "text": "T2 N1 M1"
      },
      {
        "id": 4,
        "text": "T4b N2 M1"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>TNM stage is T4bN2M1</p>\n<ul>\n<li><strong>Tumor: </strong>Size of 3*2 \u2013 maximum dimension i.e. 3 is considered and with pectoralis involved with skin ulcerations over the breast\u00a0 hence it comes under <strong>T4b </strong>(Tumor size 2-5cm in greatest dimension).</li>\n<li><strong>Nodes: </strong>Ipsilateral fixed or matted axillary lymph nodes come under N2A.</li>\n<li><strong>Metastasis: </strong>Contralateral lymph node involvement (Here mass is on left breast and axillary lymph nodes in right side are involved) is considered as M1.</li>\n</ul>\n<p><strong>Points to remember:</strong></p>\n<ul>\n<li>In tumor size assessment, greatest dimension is considered. For example if a mass is 6*2cm in size, 6cm is taken into account and it comes under T3 (&gt;5cm).</li>\n<li><strong>Skin involvement doesn\u2019t include nipple retraction</strong>.</li>\n<li><strong>Supraclavicular</strong> lymph node involvement indicates <strong>N3c</strong>.</li>\n<li>Enlargement of <strong>any contralateral lymph node</strong> is considered as <strong>distant metastasis.</strong></li>\n<li><strong>If 2 masses are present in same breast, staging is according to bigger mass.</strong></li>\n<li><strong>If mass in both breasts \u2013 separate staging for both the masses.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Diamond triad of thyrotoxicosis include all except?",
    "choices": [
      {
        "id": 1,
        "text": "Pretibial myxoedema"
      },
      {
        "id": 2,
        "text": "Palpitation and arrhythmias"
      },
      {
        "id": 3,
        "text": "Exophthalmos"
      },
      {
        "id": 4,
        "text": "Acropachy"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Palpitations and arrhythmias are not part of Diamond\u2019s triad of thyrotoxicosis.</p>\n<p><strong>Diamond\u2019s triad of thyrotoxicosis:</strong></p>\n<ul>\n<li><strong>Pretibial myxedema</strong> (localized edematous and thickened pretibial plaque formation)</li>\n<li><strong>Thyroid acropachy</strong> (clubbing of the fingers and toes associated with soft-tissue swelling of hands and feet and with periosteal new bone formation)</li>\n<li>Exophthalmos</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which one of the following is the true statement with regards to neck trauma?",
    "choices": [
      {
        "id": 1,
        "text": "Zone 1 extends from angle of mandible to base of skull."
      },
      {
        "id": 2,
        "text": "Zone 2 injuries are the least common."
      },
      {
        "id": 3,
        "text": "Majority of the neck injuries can be managed conservatively."
      },
      {
        "id": 4,
        "text": "Only hemodynamically unstable injuries require CT neck evaluation"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Less than 15% of penetrating injuries to the neck require formal neck exploration. <strong>Majority can be managed conservatively.</strong></p>\n<p><strong>Penetrating inju\u00adries</strong> are characterized by <strong>anatomic location</strong> and the neck has been divided into 3 zones.</p>\n<ul>\n<li><strong>Zone I</strong> extends from the <strong>thoracic inlet to the cricoid cartilage</strong> and contains large vascular structures as well as the trachea and esophagus.(Option A)</li>\n<li><strong>Zone II</strong> extends from the <strong>cricoid cartilage to the angle of the mandible</strong>. Zone II is the <strong>most accessible surgi\u00adcally</strong> and contains the carotid and vertebral arteries, jugular veins, and structures of the aerodigestive tract.</li>\n<li><strong>Zone III</strong> extends from the <strong>angle of the mandible and the base of the skull.</strong> Structures within zone III include <strong>blood vessels that are difficult to expose surgically.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which one of the following statements is NOT true regarding damage control surgery?",
    "choices": [
      {
        "id": 1,
        "text": "It is indicated in trauma patients who show features of hypothermia, acidosis and coagulopathy"
      },
      {
        "id": 2,
        "text": "In the first phase of damage control surgery, correction of anatomy is given more importance than correction of physiology"
      },
      {
        "id": 3,
        "text": "In the first phase, the aim is to control hemorrhage and prevent contamination"
      },
      {
        "id": 4,
        "text": "In the re-look laparotomy, correction of anatomy is given more importance"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In the first phase of damage control surgery, <strong>correction of physiology is given more importance</strong> than correction of anatomy.</p>\n<ul>\n<li><strong>Damage control surgery</strong> refers to the concept of <strong>limiting the initial operative interventions</strong>, in the unstable trauma patient, to those maneuvers that are <strong>imme\u00addiately lifesaving </strong>(e.g., control of surgical hemorrhage, control of continued fecal contamination).</li>\n<li>More time-consuming, <strong>definitive reconstructive efforts</strong> i.e. correction of anatomy are <strong>delayed</strong> until later, after resuscitation, when the <strong>patient is more stable and can tolerate such reconstruc\u00adtive efforts.</strong></li>\n<li><strong>Physiologic rationale</strong> for damage control surgery: As a metabolic consequences of extensive blood loss and blood and fluid replacement, these patients develop <strong>progressive hypothermia, acidosis, and coagulopathy (the so-called lethal triad)</strong>, which can be corrected only when the patient can be brought to the intensive care unit with appropriate warming, fluid resuscitation, and other critical care interventions performed.</li>\n</ul>\n<p><strong>Components of Damage Control or Hemostatic Resuscitation</strong></p>\n<ul>\n<li>Permissive hypotension until definitive surgical control</li>\n<li>Minimize crystalloid use</li>\n<li>Initial use of 5% hypertonic saline</li>\n<li>Early use of blood products (PRBCs, FFP, platelets, cryoprecipitates)</li>\n<li>Consider drugs to treat coagulopathy (rFVIIa, prothrombin concentrate, TXA)</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient is undergoing an elective laparoscopic appendicectomy and the bowel has been prepared. During surgery, the small bowel gets perforated and there is minor spillage of some contents into the peritoneal cavity. What class of surgical wound is this?",
    "choices": [
      {
        "id": 1,
        "text": "Clean (Class 1)"
      },
      {
        "id": 2,
        "text": "Contaminated  (Class 3)"
      },
      {
        "id": 3,
        "text": "Clean contaminated ( Class 2)"
      },
      {
        "id": 4,
        "text": "Dirty (Class 4)"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The wound would be classified as <strong>clean-contaminated </strong>wound as the alimentary tract is entered under <strong>controlled conditions </strong>(minor spillage with prepared bowel)\u00a0without gross contamination.\u00a0</p>\n<p><strong>Surgical Wound Classifications as Defined by ACS NSQIP:\u00a0</strong></p>\n<p><strong>Class I - Clean Wound: </strong>\u00a0Uninfected operative wounds in which <strong>no inflammation </strong>is encountered and the respiratory, alimentary, genital, and uninfected urinary tracts are not entered. Eg. Non-traumatic elective surgery and coronary bypass.\u00a0</p>\n<p><strong>Class II - Clean / Contaminated: </strong>Operative wounds in which the respiratory, alimentary, genital, or urinary tract is entered under controlled conditions and without unusual contamination. Eg. <strong>Elective cholecystectomy, appendicectomy, elective colon surgery after bowel preparation.</strong></p>\n<p><strong>Class III - Contaminated:</strong> Open, fresh, accidental wounds; operations with major breaks in sterile technique or gross spillage from the gastrointestinal tract; and incisions in which acute, nonpurulent inflammation is encountered. Eg. Emergency cholecystectomy, appendicectomy, emergency colon surgery in <strong>unprepared bowel</strong>.</p>\n<p><strong>Class IV - Dirty:</strong> Old traumatic wounds with retained devitalized tissue and wounds that involve existing clinical infection or perforated viscera. Eg. Abscess, peritonitis (<strong>gross fecal contamination</strong>)</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following are true about accelerated partial breast irradiation (APBI) except:",
    "choices": [
      {
        "id": 1,
        "text": "APBI is delivered in an abbreviated fashion and a lower total dose than standard course of whole breast radiation"
      },
      {
        "id": 2,
        "text": "Suitable patients for APBI include women older than or equal to 50  years"
      },
      {
        "id": 3,
        "text": "Suitable patients for APBI include patients whose tumor margins are greater than equal to 3mm"
      },
      {
        "id": 4,
        "text": "Suitable patients for APBI include those with multifocal disease"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Patients <strong>suitable for APBI</strong> include <strong>women 50 </strong>years of age or older with a<strong> unifocal, T1/Tis, ER-positive tumor with no lymphovascular invasion, and margins of at least 3 mm. </strong></p>\n<p><strong>Accelerated Partial Breast Irradiation (APBI)</strong>&nbsp;is done for <strong>selected patients with DCIS and early-stage breast cancer</strong>. <strong>Principle:</strong> This involves <strong>limiting the radiation to the area of the primary tumor bed with a margin of normal tissue</strong> because majority of recurrences after breast conservation occur in or adjacent to the tumor bed.&nbsp;It is delivered in an <strong>abbreviated fashion (twice daily for 5 days)</strong> and at a <strong>lower total dose</strong> compared with the standard course of 5 to 6 weeks of radiation (50 Gray with or without a boost) in the case of whole breast irradiation</p>\n<p><strong>American Society for Radiation Oncology Guidelines </strong>for Accelerated Partial Breast Irradiation&nbsp;divides patients into <strong>3 groups </strong>- <strong>Suitable, Cautionary, and Unsuitable</strong> based on risk factors such as age, margins, T stage, DCIS, ER status, multicentricity, multifocality, lymphovascular invasion etc.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the ideal time to give prophylactic antibiotic?",
    "choices": [
      {
        "id": 1,
        "text": "3 hours before surgery"
      },
      {
        "id": 2,
        "text": "1 hour before surgery"
      },
      {
        "id": 3,
        "text": "At time of incision"
      },
      {
        "id": 4,
        "text": "2 hours before surgery"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li>The antimicrobial agent should be started <strong>within 60 min before surgical incision (120 min for vancomycin or fluoroquinolones)</strong>.</li>\n<li>Although single-dose prophylaxis is usually sufficient, the <strong>duration of prophylaxis for all procedures should be &lt;24 hr.</strong></li>\n<li>If an agent with a short half-life is used (e.g., cefazolin, cefoxitin), it should be readministered if the procedure duration exceeds the recommended redosing interval (from the time of initiation of the preoperative dose).</li>\n<li>Readministration may also be warranted if prolonged or excessive bleeding occurs or if there are other factors that may shorten the half-life of the prophylactic agent (e.g., extensive burns).</li>\n<li>Readministration may not be warranted in patients in whom the half-life of the agent may be prolonged (e.g., patients with renal insufficiency or renal failure).</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following genetic syndrome is not associated with non medullary thyroid cancer?",
    "choices": [
      {
        "id": 1,
        "text": "Familial adenomatous polyposis"
      },
      {
        "id": 2,
        "text": "Carney complex"
      },
      {
        "id": 3,
        "text": "Cowden syndrome"
      },
      {
        "id": 4,
        "text": "Tuberous sclerosis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Tuberous sclerosis is not associated with Thyroid Cancer.</p>\n<p>Familial cancer syndromes involving Non-medullary Thyroid Cancer:</p>\n<p>\u00a0</p>\n<table style=\"width: 432px;\">\n<tbody>\n<tr>\n<td style=\"width: 83px;\"><strong>Syndrome</strong></td>\n<td style=\"width: 73px;\"><strong>Gene</strong></td>\n<td style=\"width: 159px;\"><strong>Thyroid Tumor</strong></td>\n</tr>\n<tr>\n<td style=\"width: 83px;\">Cowden\u2019s Syndrome <strong>\u00a0</strong></td>\n<td style=\"width: 73px;\">PTEN</td>\n<td style=\"width: 159px;\">FTC, rarely PTC and Hurthlecell tumors</td>\n</tr>\n<tr>\n<td style=\"width: 83px;\">FAP</td>\n<td style=\"width: 73px;\">APC</td>\n<td style=\"width: 159px;\">PTC cribriform growth pattern</td>\n</tr>\n<tr>\n<td style=\"width: 83px;\">Werner\u2019s syndrome</td>\n<td style=\"width: 73px;\">WRN</td>\n<td style=\"width: 159px;\">PTC, FTC, anaplastic cancer</td>\n</tr>\n<tr>\n<td style=\"width: 83px;\">Carney complex type 1</td>\n<td style=\"width: 73px;\">PRKAR1\u03b1</td>\n<td style=\"width: 159px;\">PTC, FTC</td>\n</tr>\n<tr>\n<td style=\"width: 83px;\">McCune-Albright</td>\n<td style=\"width: 73px;\">GNAS1</td>\n<td style=\"width: 159px;\">PTC clear cell</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which is the most extensive thoraco-abdominal aortic aneurysm according to the Crawford classification?",
    "choices": [
      {
        "id": 1,
        "text": "Type 1"
      },
      {
        "id": 2,
        "text": "Type 2"
      },
      {
        "id": 3,
        "text": "Type 3"
      },
      {
        "id": 4,
        "text": "Type 4"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Type 2 is the most extensive</strong> thoraco-abdominal aortic aneurysm according to Crawford classification.</p>\n<p>Crawford classification of thoraco-abdominal aortic aneurysm:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0a9250cc9b85477d938e383e555d70b5x677x599.JPEG"
    ]
  },
  {
    "text": "Phlegmasia cerulea dolens is best described as:",
    "choices": [
      {
        "id": 1,
        "text": "Asymptomatic, but extensive DVT"
      },
      {
        "id": 2,
        "text": "Isolated popliteal vein thrombosis"
      },
      {
        "id": 3,
        "text": "Extensive DVT of the leg veins associated with cyanosis"
      },
      {
        "id": 4,
        "text": "Painless lower extremity swelling"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Phlegmasia cerulea dolens</strong>(PCD) is <strong>extensive DVT of the leg veins associated with cyanosis</strong>. In this condition, the collateral veins are also thrombosed.</p>\n<p><strong>Phlegmasia</strong> is a term that has been used to describe<strong> </strong>extreme cases of lower extremity DVT, which may progress to <strong>critical limb</strong> <strong>ischemia </strong>and potentially limb loss. The underlying pathologic condition of phlegmasia dolens is <strong>acute extensive VTE</strong> occluding the venous outflow of an extremity. The <strong>iliofemoral segment</strong> is almost always involved and occluded in the lower extremities. In 20%-40% of cases, phlegmasia has been associated with malignancy. However, other risk factors for VTE include hypercoagulable disorders, venous insufficiency, surgery,\u00a0 pregnancy, the use of oral contraceptives, and prolonged immobilization.</p>\n<p>In PCD, there is <strong>near-total occlusion of the major deep venous system</strong> and most of the <strong>microvascular collateral veins</strong> of the extremity, causing severe venous congestion.\u00a0It is characterized by pain and pitting edema. The most pathognomonic feature is the presence of <strong>cyanosis</strong>. As cyanosis and worsening venous congestion progress, patients develop necrosis and <strong>venous gangrene</strong>.</p>\n<p>Supportive measures should be performed immediately and are considered first-line. The <strong>extremity should be elevated</strong> to an angle greater than 60 degrees above the level of the heart to prevent venous stasis and to increase venous return through remaining patent channels. Definitive management involves <strong>anticoagulation</strong>, <strong>catheter-directed thrombolysis</strong>, and <strong>thrombectomy</strong>.</p>\n<p>Note:</p>\n<p>In <strong>phlegmasia alba dolens</strong>, the thrombosis involves major deep venous channels of the extremity and\u00a0<strong>spares the collateral</strong>\u00a0veins. The venous drainage is decreased but still present; the lack of cyanosis differentiates this entity from phlegmesia cerulea dolens.\u00a0<strong>Phlegmasia alba\u00a0</strong>dolens also called as<strong>\u00a0milk leg.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e03eb1f3813d4c3c8fde1767593adf9ax250x187.PNG"
    ]
  },
  {
    "text": "Which of the following is used for wound infection grading?",
    "choices": [
      {
        "id": 1,
        "text": "ASA classification"
      },
      {
        "id": 2,
        "text": "SIRS criteria"
      },
      {
        "id": 3,
        "text": "Southampton grading"
      },
      {
        "id": 4,
        "text": "APACHE II score"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Southampton</strong> <strong>wound</strong> <strong>grading</strong> system is used to score the <strong>severity</strong> of <strong>wound</strong> <strong>site</strong> <strong>infection</strong>.</p>\n<p>Southampton wound grading system:</p>\n<ul>\n<li>Grade 0 - Normal healing</li>\n<li>Grade I - Normal healing with different grades of erythema</li>\n<li>Grade II - Erythema with other signs of inflammation at different parts of the wound.</li>\n<li>Grade III - Clear or serosanguinous discharge at different sites</li>\n<li>Grade IV - Pus discharge</li>\n</ul>\n<p>Other options:</p>\n<p>Option A: American Society of Anesthesiologists <strong>(ASA)&nbsp;</strong> grading is used in<strong> pre-anesthetic checkups</strong> to assess a patient's physical health and fitness for anesthesia and surgery.</p>\n<p>Option B: Systemic Inflammatory Response Syndrome <strong>(SIRS)</strong> is a set of clinical criteria used to<strong> identify and monitor critically ill patients</strong> with high-grade burns, severe trauma, and other major surgeries.</p>\n<p>Option D: Acute Physiology and Chronic Health Evaluation II <strong>(APACHE II)</strong>&nbsp; is a scoring system used to assess the <strong>severity</strong> and predict the <strong>outcome</strong> of <strong>pancreatitis</strong>.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In a child with complete cleft lip and palate, with regards to surgical repair of both , which statement is correct?",
    "choices": [
      {
        "id": 1,
        "text": "Cleft lip and palate is ideally repaired  in a single sitting  at 15-18 months"
      },
      {
        "id": 2,
        "text": "Cleft lip, soft palate and hard palate repaired in three separate sittings at 5-6 months, 1 year and 2 years"
      },
      {
        "id": 3,
        "text": "Cleft lip and  palate is ideally repaired in two sittings at 5-6 months and 15-18 months"
      },
      {
        "id": 4,
        "text": "Cleft lip and palate is ideally repaired in two sittings at 5-6 months and 5-6 years"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Cleft lip and palate is ideally repaired in two sittings at 5-6 months and 15-18 months.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which is the most common feeding regime-related complication following total parenteral nutrition (TPN)?",
    "choices": [
      {
        "id": 1,
        "text": "Hypoglycemia"
      },
      {
        "id": 2,
        "text": "Hyperglycemia"
      },
      {
        "id": 3,
        "text": "Hyponatremia"
      },
      {
        "id": 4,
        "text": "Hypocalcemia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Hyperglycaemia</strong> is found in up to 50% of <strong>parenteral nutrition</strong> patients. Important predictors are insulin resistance or diabetes mellitus, severity of the underlying illness, concomitant steroid therapy, and the amount of glucose provided.</p>\n<p><strong>Complications of parenteral nutrition</strong></p>\n<p><strong>Related to nutrient deficiency</strong></p>\n<ul>\n<li>Hypoglycaemia, hypocalcaemia</li>\n<li>Hypophosphataemia &amp; hypomagnesaemia (refeeding syndrome)</li>\n<li>Chronic deficiency syndromes (essential fatty acids, zinc, mineral and trace elements)</li>\n</ul>\n<p><strong>Related to overfeeding</strong></p>\n<ul>\n<li>Excess glucose: hyperglycaemia, hyperosmolar dehydration, hepatic steatosis, hypercapnia, increased sympathetic activity, fluid retention, electrolyte abnormalities</li>\n<li>Excess fat: hypercholesterolaemia and formation of lipoprotein X, hypertriglyceridaemia, hypersensitivity reactions</li>\n<li>Excess amino acids: hyperchloraemic metabolic acidosis, hypercalcaemia, aminoacidaemia, uraemia</li>\n</ul>\n<p><strong>Related to sepsis</strong></p>\n<ul>\n<li>Catheter-related sepsis</li>\n<li>Possible increased predisposition to systemic sepsis</li>\n</ul>\n<p><strong>Related to line</strong></p>\n<ul>\n<li>On insertion: pneumothorax, damage to adjacent artery, air embolism, thoracic duct damage, cardiac perforation or tamponade, pleural effusion, hydromediastinum</li>\n<li>Long-term use: occlusion, venous thrombosis</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "According to the NICE guidelines for head injury, which of the following statements is not true?",
    "choices": [
      {
        "id": 1,
        "text": "Cervical spine immobilization should be done in all patients with suspected head injury"
      },
      {
        "id": 2,
        "text": "All patients with a GCS <8 require intubation"
      },
      {
        "id": 3,
        "text": "GCS <15 two hours after assessing the patient in the emergency room is an indication for CT"
      },
      {
        "id": 4,
        "text": "GCS in head injury patients should be monitored every hour for the first 2 hours"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>GCS</strong> in head injury should be monitored <strong>every half an hour for the first 2 hours.</strong></p>\n<p>Other options:</p>\n<p>Option A: <strong>Cervical spine immobilization</strong> should be done <strong>in all patients</strong> with a&nbsp;<strong>suspected head injury</strong></p>\n<p>Option B:&nbsp;All patients with a <strong>GCS &lt;8 require intubation</strong></p>\n<p>Option C: For adults who have sustained a head injury and have any of the following risk factors, perform a CT head scan <strong>within 1&nbsp;hour</strong> of the risk factor being identified:</p>\n<ul>\n<li>GCS less than 13 on initial assessment in the emergency department</li>\n<li>GCS less than 15 at 2 hours after the injury on assessment in the emergency department</li>\n<li>Suspected open or depressed skull fracture</li>\n<li>Any sign of basal skull fracture (Haemotympanum, &lsquo;Panda&rsquo; eyes, CSF leakage from ear or nose, Battle&rsquo;s sign)</li>\n<li>Post-traumatic seizures</li>\n<li>Focal neurological deficit</li>\n<li>More than 1 episode of vomiting</li>\n</ul>\n<p>Option D: The minimum frequency of observations for patients with GCS of 15 should be as follows -</p>\n<ul>\n<li>Half hourly for 2 hours</li>\n<li>1 hourly for the next 4 hours</li>\n<li>2 hourly thereafter</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which one of the following is NOT a feature of re-feeding syndrome?",
    "choices": [
      {
        "id": 1,
        "text": "Hyperphosphatemia"
      },
      {
        "id": 2,
        "text": "Arrhythmia"
      },
      {
        "id": 3,
        "text": "Hypokalemia"
      },
      {
        "id": 4,
        "text": "Congestive heart failure"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Refeeding syndrome</strong> is associated with <strong>hypophosphatemia, hypocalcemia, </strong>and <strong>hypomagnesemia.</strong></p>\n<p><strong>Refeeding syndrome</strong> is a potentially lethal condition that can occur with <strong>rapid and excessive feeding </strong>of patients with severe underlying malnutrition due to starvation, alcoholism, delayed nutritional support, anorexia nervosa, or massive weight loss in obese patients.</p>\n<p>It can occur with both enteral and parenteral nutrition but is more common with the latter. Electrolyte abnormalities can result in <strong>cardiac failure </strong>and dysrhythmias, respiratory failure, neu\u00adrologic disturbances, and renal and hepatic dysfunction.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7df2897f35cc4684b76f52c34c9763a6x628x1246.PNG"
    ]
  },
  {
    "text": "The instrument which uses the ultrasonic energy to cut the tissues is?",
    "choices": [
      {
        "id": 1,
        "text": "Monopolar cautery"
      },
      {
        "id": 2,
        "text": "Harmonic scalpel"
      },
      {
        "id": 3,
        "text": "Bipolar cautery"
      },
      {
        "id": 4,
        "text": "Ligasure"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>The harmonic scalpel</strong> is a surgical instrument used to simultaneously cut and cauterize tissue. Ultrasonic energy is famously used in Harmonic scalpel where ultrasonic energy is converted to mechanical energy at the active blade.</p>\n<p>In<strong> monopolar surgery</strong>, electrical current goes through the patient to complete the current cycle, while in <strong>bipolar surgery,</strong> the current only goes through the tissue in between the two electrodes of the instrument.</p>\n<p><strong>LigaSure vessel sealing system</strong> is a bipolar apparatus for sealing vascular tissue. It applies a high coaptive pressure during the generation of tissue temperature under 1000&deg;C, hydrogen cross-links are first ruptured and then renatured, resulting in a vascular seal that has high tensile strength. Melted collagen and elastin in the vessels forms a permanent plastic like seal. It provides secure seal of blood vessels measured up to 7 mm diameter.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c1f4cbcedb4d4bd697e6a0342c7a91cax810x453.PNG"
    ]
  },
  {
    "text": "A patient presented with a skin lesion, which was diagnosed as melanoma invading up to a depth of 0.8 mm. What is the recommended margin for wide local excision in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "0.5 cm"
      },
      {
        "id": 2,
        "text": "1 cm"
      },
      {
        "id": 3,
        "text": "2 cm"
      },
      {
        "id": 4,
        "text": "4 cm"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Resection margin of 1 cm is recommended for melanoma invading to a depth of 0.8mm.</p>\n<p><strong>Recommended margins of wide local excision:</strong></p>\n<table>\n<tbody>\n<tr>\n<td>Thickness</td>\n<td>Margin</td>\n</tr>\n<tr>\n<td>In situ</td>\n<td>0.5 cm</td>\n</tr>\n<tr>\n<td>&lt;1 mm</td>\n<td>1 cm</td>\n</tr>\n<tr>\n<td>1-2 mm</td>\n<td>1-2 cm</td>\n</tr>\n<tr>\n<td>&gt;2-4 mm</td>\n<td>2 cm</td>\n</tr>\n<tr>\n<td>&gt;4 mm</td>\n<td>2 cm</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is a sign of venous occlusion in a free flap?",
    "choices": [
      {
        "id": 1,
        "text": "Increasing warmth"
      },
      {
        "id": 2,
        "text": "Increasing coolness"
      },
      {
        "id": 3,
        "text": "Increasing paleness"
      },
      {
        "id": 4,
        "text": "Increasing sluggishness of pinprick bleeding"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Increasing warmth suggests venous occlusion of free flap</strong> whereas all other options suggest arterial occlusion of free flap.</p>\n<p><strong>Clinical signs of arterial and venous compromise in a free flap:</strong></p>\n<table style=\"width: 420px;\">\n<tbody>\n<tr style=\"height: 36px;\">\n<td style=\"width: 115px; height: 36px;\"><strong>Clinical Sign</strong> <strong>\u00a0</strong></td>\n<td style=\"width: 126px; height: 36px;\"><strong>Arterial Compromise</strong></td>\n<td style=\"width: 169px; height: 36px;\"><strong>Venous Compromise</strong></td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 115px; height: 18px;\">Color <strong>\u00a0</strong></td>\n<td style=\"width: 126px; height: 18px;\">Becoming paler</td>\n<td style=\"width: 169px; height: 18px;\">Increasingly reddish or purplish</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 115px; height: 18px;\">Temperature</td>\n<td style=\"width: 126px; height: 18px;\">Becoming cooler</td>\n<td style=\"width: 169px; height: 18px;\">Becoming warmer</td>\n</tr>\n<tr style=\"height: 19px;\">\n<td style=\"width: 115px; height: 19px;\">Tissue turgor</td>\n<td style=\"width: 126px; height: 19px;\">Reducing</td>\n<td style=\"width: 169px; height: 19px;\">Increasing</td>\n</tr>\n<tr style=\"height: 36px;\">\n<td style=\"width: 115px; height: 36px;\">Capillary refill time</td>\n<td style=\"width: 126px; height: 36px;\">Becoming slower</td>\n<td style=\"width: 169px; height: 36px;\">Becoming faster</td>\n</tr>\n<tr style=\"height: 78px;\">\n<td style=\"width: 115px; height: 78px;\">Pinprick bleeding<strong>\u00a0</strong></td>\n<td style=\"width: 126px; height: 78px;\">\n<p>Increasingly</p>\n<p>sluggish<strong>\u00a0</strong></p>\n</td>\n<td style=\"width: 169px; height: 78px;\">Quickening (and darkening)</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is the dominant cytokine in the pathogenesis of SIRS (systemic inflammatory response syndrome)?",
    "choices": [
      {
        "id": 1,
        "text": "IL-2"
      },
      {
        "id": 2,
        "text": "IL-5"
      },
      {
        "id": 3,
        "text": "IL-6"
      },
      {
        "id": 4,
        "text": "IL-7"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>SIRS</strong> is the result of <strong>proinflammatory cytokines</strong> related to tissue malperfusion or injury.</p>\n<p>The dominant cytokines implicated in this process include <strong>interleukin (IL)-1, IL-6, and tissue necrosis factor (TNF).</strong></p>\n<p>Other mediators include <strong>nitric oxide, inducible macrophage-type nitric oxide synthase, and prostaglandin I<sub>2</sub></strong>.</p>\n<p><strong>Old guidelines</strong>:</p>\n<table style=\"width: 551px;\">\n<tbody>\n<tr style=\"height: 18px;\">\n<td style=\"width: 127px; height: 18px;\"><strong>Term</strong></td>\n<td style=\"width: 420px; height: 18px;\"><strong>Definition</strong></td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 127px; height: 18px;\">Infection</td>\n<td style=\"width: 420px; height: 18px;\">Identifiable source of microbial insult</td>\n</tr>\n<tr style=\"height: 202px;\">\n<td style=\"width: 127px; height: 202px;\">SIRS &nbsp;</td>\n<td style=\"width: 420px; height: 202px;\">\n<p>Two or more of following criteria are met:Temperature &ge;38&deg;C (100.4&deg;F) or &le;36&deg;C(96.8&deg;F)</p>\n<p>Heart rate &ge;90 beats per minute</p>\n<p>Respiratory rate &ge;20 breaths per minute or</p>\n<p>Paco2 &le;32 mmHg or mechanical ventilation</p>\n<p>White blood cell count &ge;12,000/&mu;L or&le;4000/&mu;L or &ge;10% band forms</p>\n</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 127px; height: 18px;\">Sepsis</td>\n<td style=\"width: 420px; height: 18px;\">Identifiable source of infection + SIRS</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 127px; height: 18px;\">Severe sepsis</td>\n<td style=\"width: 420px; height: 18px;\">Sepsis + organ dysfunction</td>\n</tr>\n<tr style=\"height: 36px;\">\n<td style=\"width: 127px; height: 36px;\">Septic shock &nbsp;</td>\n<td style=\"width: 420px; height: 36px;\">Sepsis + cardiovascular collapse (requiringvasopressor support)</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;<strong>New guidelines (2016): </strong></p>\n<ul>\n<li>Sepsis is defined as a&nbsp;life-threatening organ dysfunction caused by a dysregulated host response to infection.</li>\n<li>The presence of SIRS criteria has been removed from the definition of sepsis.</li>\n<li>In addition, the term &lsquo;severe sepsis&rsquo; is removed from the guidelines.</li>\n<li>Definition of septic shock: &lsquo;sepsis with persistent hypotension requiring vasopressors to maintain MAP &ge;65&thinsp;mm Hg and having a serum lactate&nbsp;&gt;2&thinsp;mmol/L (18&thinsp;mg/dL) despite adequate volume resuscitation&rsquo;.</li>\n<li>The <strong>&lsquo;quickSOFA&rsquo; (qSOFA) score</strong>: Patients outside the ICU are at risk of sepsis development if two or more of the following are abnormal:\n<ul>\n<li>Elevated respiratory rate&nbsp;&ge;22 breaths per minute</li>\n<li>Altered mental status (Glasgow Coma Scale&nbsp;score&lt;15)</li>\n<li>Systolic blood pressure of 100&thinsp;mm&nbsp;Hg or less</li>\n</ul>\n</li>\n</ul>\n<div id=\"boxed-text-1\" class=\"boxed-text\">&nbsp;</div>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the fluid requirement of a 50 kg man with first degree burns to his left arm and leg, circumferential second degree burns to his right upper limb and third degree burns to his posterior torso and right lower limb. What is the rate of initial fluid resuscitation?",
    "choices": [
      {
        "id": 1,
        "text": "2.25L over 8 hours, followed by 2.25L over 16 hours"
      },
      {
        "id": 2,
        "text": "4.5 L over 8 hours, followed by 4.5 L over 16 hours"
      },
      {
        "id": 3,
        "text": "6 L over 8 hours, followed by 6 L over 16 hours"
      },
      {
        "id": 4,
        "text": "9 L over 8 hours, followed by 9 L over 16 hours"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Total volume of fluid needed <strong>is 4.5 litres</strong> of which <strong>2.25L is given in first 8 hours</strong> and<strong> 2.25L is given in next 16 hours</strong> as indicated by&nbsp;</p>\n<p>Step 1<strong>: </strong>Calculating % of burns using rule of nines</p>\n<ul>\n<li><strong>This includes only 2<sup>nd</sup> and 3<sup>rd</sup> degree burns.</strong></li>\n<li>Right upper limb + right lower limb and posterior torso = 9 + 18 + 18 = 45%</li>\n</ul>\n<p>STEP 2 : Calculating fluid using resucitation formula for thermal burns - 2ml x 50(kg) x 45(TBSA%) = 4.5 litres.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/e016399a872b4854a258aecde28074cdx322x631.PNG"
    ]
  },
  {
    "text": "In hemorrhage, larger arterioles vasoconstrict in response to the sympathetic nervous system. Which categories of shock are associated with vasodilation of larger arterioles?",
    "choices": [
      {
        "id": 1,
        "text": "Septic"
      },
      {
        "id": 2,
        "text": "Cardiogenic"
      },
      {
        "id": 3,
        "text": "Neurogenic"
      },
      {
        "id": 4,
        "text": "A & C"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li>The microvascular bed is innervated by the sympathetic nervous system and has a profound effect on the larger arterioles.</li>\n<li>Following hemorrhage, <strong>larger arterioles vasoconstrict</strong>; however, in the setting of <strong>sepsis or neurogenic shock, these vessels vasodilate</strong>.</li>\n<li>Additionally, a host of other vasoactive proteins, including vasopressin, Angiotensin II, and endothelin-1, also lead to vasoconstriction to limit perfusion to organs such as skin, skeletal muscle, kidneys, and the gastrointestinal (GI) tract to preserve perfusion of the myocardium and CNS.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "False statement about Lindsay tumour is?",
    "choices": [
      {
        "id": 1,
        "text": "It is follicular variant of papillary cancer"
      },
      {
        "id": 2,
        "text": "It is encapsulated"
      },
      {
        "id": 3,
        "text": "It has good prognosis"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Lindsay\u2019s tumor is a solid, encapsulated, follicular variant of papillary carcinoma of thyroid.\u00a0 It usually behaves in a very indolent fashion and has an excellent prognosis.</p>\n<p>Note :\u00a0</p>\n<p>All Follicular tumours carry worst prognosis BUT <strong>LINDSAY TUMOUR\u00a0 (being follicular variant )\u00a0</strong>have better outcome.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d39991595e174aa1b5c92f106982e5eax618x586.JPEG"
    ]
  },
  {
    "text": "Which of the following vessel is affected in May-Thurner syndrome?",
    "choices": [
      {
        "id": 1,
        "text": "left iliac vein"
      },
      {
        "id": 2,
        "text": "Right iliac artery"
      },
      {
        "id": 3,
        "text": "Left iliac artery"
      },
      {
        "id": 4,
        "text": "Right iliac vein"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>May-Thurner syndrome</strong> refers to <strong>iliofemoral venous thrombosis</strong>.</p>\n<p>At the site where the <strong>right iliac artery crosses over the left iliac vein</strong>, the left iliac vein may become chronically narrowed predisposing to iliofemoral venous thrombosis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/5e345d17f0fd44659c7b8899f23c0b18x625x362.PNG"
    ]
  },
  {
    "text": "A 60-year old lady with a family history of breast cancer presents with blood-stained discharge from the nipple and sono-mammogram is normal. The next best investigation would be",
    "choices": [
      {
        "id": 1,
        "text": "MRI"
      },
      {
        "id": 2,
        "text": "Microdochectomy"
      },
      {
        "id": 3,
        "text": "Nipple discharge cytology"
      },
      {
        "id": 4,
        "text": "Ductoscopy"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Since she is a <strong>high risk woman</strong> in view of <strong>family history of breast cancer</strong>, <strong>MRI is the next best investigation for her.</strong></p>\n<p>MRI is important for imaging breast in the following settings:</p>\n<ul>\n<li>To distinguish scar from recurrence in women who have had previous breast conservation therapy for cancer.</li>\n<li>For assessing the multifocality and multicentricity in lobular carcinoma and to assess the extent of DCIS.</li>\n<li>Best imaging modality in breasts of women with implants.</li>\n<li><strong>Screening tool in high risk women (because of family history)</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the suturing technique?",
    "choices": [
      {
        "id": 1,
        "text": "Simple suture"
      },
      {
        "id": 2,
        "text": "Vertical mattress"
      },
      {
        "id": 3,
        "text": "Horizontal mattress"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Image shows <strong>vertical mattress suture.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/e2a870f0cbcb4ea88a7405fadbfe67ce.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/935bb43c0dcb45c3b4707e97e38ce138x560x440.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/58425b9771ff4b24a5af680cfeabd71dx560x440.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5a4c0050057d4ea7a91cbbf4ddcf32a2x560x440.PNG"
    ]
  },
  {
    "text": "Stemmer\u2019s sign is due to?",
    "choices": [
      {
        "id": 1,
        "text": "Lipodystrophy"
      },
      {
        "id": 2,
        "text": "Retroperitoneal fibrosis"
      },
      {
        "id": 3,
        "text": "Subcutaneous fibrosis"
      },
      {
        "id": 4,
        "text": "Deep vein thrombosis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Stemmer\u2019s sign</strong> is seen in <strong>grade II lymphedema (Brunner\u2019s grading)</strong> and is due to <strong>subcutaneous fibrosis</strong>.</p>\n<p>In case of lymphedema the contour of the ankle is lost through infilling of the submalleolar depressions, a <strong>\u2018buffalo hump\u2019 forms on the dorsum of the foot</strong>, the <strong>toes appear \u2018square\u2019</strong> because of confinement of footwear and the <strong>skin on the dorsum of the toes (especially second toe) cannot be pinched </strong>because of subcutaneous fibrosis which is called Stemmer\u2019s sign.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/90b99a5498de4ad7882e0d8471b270e7x460x275.PNG"
    ]
  },
  {
    "text": "Non blanchable erythema of skin is classified under which stage of decubitus ulcer?",
    "choices": [
      {
        "id": 1,
        "text": "Stage I"
      },
      {
        "id": 2,
        "text": "Stage II"
      },
      {
        "id": 3,
        "text": "Stage III"
      },
      {
        "id": 4,
        "text": "Stage IV"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Non-blanchable erythema without a breach in the epidermis</strong> is described as <strong>stage I decubitus ulcer.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Content of Na+ in ringer lactate is?",
    "choices": [
      {
        "id": 1,
        "text": "130 mEq/L"
      },
      {
        "id": 2,
        "text": "145 mEq/L"
      },
      {
        "id": 3,
        "text": "154 mEq/L"
      },
      {
        "id": 4,
        "text": "125 mEq/L"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Concentration of Na<sup>+</sup> in ringer lactate is 130mEq/L.</p>\n<ul>\n<li>Composition of ringer lactate: One liter has an ionic concentration of 130 mEq sodium, 4 mEq potassium, 2.7 mEq calcium, 109 mEq chloride and 28 mEq lactate.</li>\n<li>The osmolarity is 273 mOsmol/L&nbsp;</li>\n<li>The caloric content is 180kcal/L.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "70 kg male presents to the emergency following a stab injury to the abdomen. He is hypotensive, markedly tachycardic and appears confused. What percent of blood volume has he lost?",
    "choices": [
      {
        "id": 1,
        "text": "10-20%"
      },
      {
        "id": 2,
        "text": "25-30%"
      },
      {
        "id": 3,
        "text": "35-40%"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Hypotension, marked tachycardia <em>(</em>i.e., pulse greater than 110\u2013120 beats per minute<em>/ </em>bpm]<em>)</em>, and confusion</strong> will be evident when <strong>more than 30% of the blood volume has been lost</strong><strong>.</strong></p>\n<p><strong>Classification of hemorrhage:</strong></p>\n<p>\u00a0</p>\n<table style=\"width: 481px;\">\n<tbody>\n<tr>\n<td style=\"width: 69px;\"><strong>Parameter</strong></td>\n<td style=\"width: 104px;\"><strong>Class I</strong></td>\n<td style=\"width: 98px;\"><strong>Class II</strong></td>\n<td style=\"width: 86px;\"><strong>Class III</strong></td>\n<td style=\"width: 110px;\"><strong>Class IV</strong></td>\n</tr>\n<tr>\n<td style=\"width: 69px;\"><strong>Blood loss (mL)</strong></td>\n<td style=\"width: 104px;\">&lt;750</td>\n<td style=\"width: 98px;\">750 - 1500</td>\n<td style=\"width: 86px;\">1500 - 2000</td>\n<td style=\"width: 110px;\">&gt;2000</td>\n</tr>\n<tr>\n<td style=\"width: 69px;\"><strong>Blood loss (%)</strong></td>\n<td style=\"width: 104px;\">&lt;15</td>\n<td style=\"width: 98px;\">15 - 30</td>\n<td style=\"width: 86px;\">30 - 40</td>\n<td style=\"width: 110px;\">&gt;40</td>\n</tr>\n<tr>\n<td style=\"width: 69px;\"><strong>Heart rate (bpm)</strong></td>\n<td style=\"width: 104px;\">&lt;100</td>\n<td style=\"width: 98px;\">&gt;100</td>\n<td style=\"width: 86px;\">&gt;120</td>\n<td style=\"width: 110px;\">&gt;140</td>\n</tr>\n<tr>\n<td style=\"width: 69px;\"><strong>Blood pressure</strong></td>\n<td style=\"width: 104px;\">Normal</td>\n<td style=\"width: 98px;\">Orthostatic</td>\n<td style=\"width: 86px;\">Hypotension</td>\n<td style=\"width: 110px;\">Severe hypotension</td>\n</tr>\n<tr>\n<td style=\"width: 69px;\"><strong>Pulse pressure (mmHg)</strong></td>\n<td style=\"width: 104px;\">Normal or increased</td>\n<td style=\"width: 98px;\">Decreased</td>\n<td style=\"width: 86px;\">Decreased</td>\n<td style=\"width: 110px;\">Decreased</td>\n</tr>\n<tr>\n<td style=\"width: 69px;\"><strong>Capillary refill test</strong></td>\n<td style=\"width: 104px;\">Normal</td>\n<td style=\"width: 98px;\">Positive</td>\n<td style=\"width: 86px;\">Positive</td>\n<td style=\"width: 110px;\">Positive</td>\n</tr>\n<tr>\n<td style=\"width: 69px;\"><strong>Respiratory rate</strong></td>\n<td style=\"width: 104px;\">14 - 20</td>\n<td style=\"width: 98px;\">20- 30</td>\n<td style=\"width: 86px;\">30 - 40</td>\n<td style=\"width: 110px;\">&gt;35</td>\n</tr>\n<tr>\n<td style=\"width: 69px;\"><strong>Urine output (mL/hr)</strong></td>\n<td style=\"width: 104px;\">\u226530</td>\n<td style=\"width: 98px;\">20 - 30</td>\n<td style=\"width: 86px;\">5 - 15</td>\n<td style=\"width: 110px;\">Negligible</td>\n</tr>\n<tr>\n<td style=\"width: 69px;\"><strong>CNS symptoms</strong></td>\n<td style=\"width: 104px;\">Normal</td>\n<td style=\"width: 98px;\">Anxious</td>\n<td style=\"width: 86px;\">Confused</td>\n<td style=\"width: 110px;\">Obtunded</td>\n</tr>\n<tr>\n<td style=\"width: 69px;\"><strong>Fluid replacement </strong></td>\n<td style=\"width: 104px;\">Crystalloid</td>\n<td style=\"width: 98px;\">Crystalloid</td>\n<td style=\"width: 86px;\">Crystalloid + blood</td>\n<td style=\"width: 110px;\">Crystalloid + blood</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Following is a marker of Paget\u2019s disease of the mammary gland",
    "choices": [
      {
        "id": 1,
        "text": "S-100"
      },
      {
        "id": 2,
        "text": "HMB-45"
      },
      {
        "id": 3,
        "text": "Neuron specific enolase"
      },
      {
        "id": 4,
        "text": "CEA"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Paget\u2019s disease of nipple</strong> is <strong>positive for CEA.</strong></p>\n<p>Paget\u2019s disease is a <strong>superficial manifestation of an underlying breast carcinoma</strong>. It accounts for <strong>1% or less of breast malignancies</strong>.</p>\n<p><strong>Clinical feature:</strong></p>\n<ul>\n<li>Presents as <strong>chronic, eczematous eruption of the nipple</strong>.</li>\n<li>Progresses to an ulcerated, weeping lesion.</li>\n<li>Usually is associated with <strong>extensive DCIS</strong> and may be associated with an invasive cancer.</li>\n<li>A palpable mass may or may not be present</li>\n</ul>\n<p><strong>Diagnosis: </strong></p>\n<p>A <strong>nipple biopsy</strong> specimen will show a population of cells that are identical to the underlying DCIS cells (<strong>pagetoid features or pagetoid change</strong>). <strong>Paget cells are pathognomonic</strong> - Large, pale, vacuolated cells in the <strong>rete pegs of the epithelium. </strong></p>\n<p><strong>Differential diagnosis:</strong></p>\n<ul>\n<li>Eczema</li>\n<li>Contact dermatitis</li>\n<li>Post\u00adradiation dermatitis</li>\n<li>Superficial spreading melanoma (Presence of <strong>S-100 antigen</strong> immunostaining in <strong>melanoma</strong> and <strong>carcinoembryonic antigen</strong> immunostaining in <strong>Paget\u2019s disease</strong>).</li>\n</ul>\n<p><strong>Treatment</strong>:</p>\n<p><strong>Mastectomy </strong>with axillary staging or <strong>wide local excision</strong> of the nipple and areola to achieve clear margins, axillary staging, and radiation therapy.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 20-year-old man presented with painless swelling as shown below. On examination, the swelling is soft, cystic, and transillumination positive. Which of the following is false regarding the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "The swelling arises from remnants of 2nd branchial cleft"
      },
      {
        "id": 2,
        "text": "Situated deep to glossopharyngeal nerve"
      },
      {
        "id": 3,
        "text": "The cystic swelling is lined by squamous epithelium"
      },
      {
        "id": 4,
        "text": "FNAC from the swelling may show cholesterol crystals"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above clinical scenario is suggestive of the <strong>branchial</strong> <strong>cyst</strong>. It lies <strong>superficial</strong> to the&nbsp;<strong>hypoglossal</strong> and<strong> glossopharyngeal nerves</strong>&nbsp;but <strong>deep</strong> to the <strong>posterior belly</strong> of the <strong>digastric.</strong></p>\n<p>The branchial cyst <strong>arises</strong> from the<strong>&nbsp;remnants</strong>&nbsp;of the&nbsp;<strong>2nd branchial cleft.</strong>&nbsp;Normally, 2nd, 3rd, and 4th clefts disappear to form a smooth neck. A persistent second cleft is called&nbsp;<strong>cervical sinus </strong>(of His)&nbsp;which eventually gets sequestered to form a branchial cyst.</p>\n<div class=\"page\" title=\"Page 442\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Swelling in the neck beneath the&nbsp;<strong>anterior border</strong>&nbsp;of the&nbsp;<strong>upper third of the sternomastoid muscle</strong>. It is <strong>smooth, soft,</strong> <strong>fluctuant</strong>, and often&nbsp;<strong>transilluminate.&nbsp;</strong>Even though <strong>congenital</strong>, it is seen in <strong>late adolescents</strong> and <strong>early 3rd decade.</strong></p>\n<p>Histologically, it is lined by&nbsp;<strong>squamous epithelium.</strong>&nbsp;The cyst wall shows plenty of lymphoid tissue. It may get infected to form an abscess.</p>\n<p>FNAC shows&nbsp;<strong>cholesterol crystals</strong>&nbsp;which are derived from the sebaceous glands in the lining mucous membrane.</p>\n<p>Treatment is by&nbsp;<strong>complete excision</strong>, which is best undertaken when the lesion is quiescent.&nbsp;It passes superficial to the&nbsp;<strong>hypoglossal</strong> and<strong> glossopharyngeal nerves</strong>&nbsp;but deep to the posterior belly of the digastric. These structures and the&nbsp;<strong>spinal accessory</strong>&nbsp;nerve must be positively identified to avoid damage.</p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5b3457f518ca432ba9ab822671f8b020.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Most common malignant tumor of parotid is?",
    "choices": [
      {
        "id": 1,
        "text": "Adenocarcinoma"
      },
      {
        "id": 2,
        "text": "Epidermoid carcinoma"
      },
      {
        "id": 3,
        "text": "Mucoepidermoid carcinoma"
      },
      {
        "id": 4,
        "text": "Squamous cell carcinoma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Mucoepidermoid carcinoma</strong> is the <strong>most common malignant tumor of the parotid gland</strong> and can be divided into low-grade and high-grade tumors. <strong>High-grade lesions</strong> have a propensity for <strong>regional and distant metastases </strong>and corre\u00adsponding shorter survival rates than low-grade mucoepidermoid carcinomas.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Triple H therapy for subarachnoid hemorrhage consists of all except _______.",
    "choices": [
      {
        "id": 1,
        "text": "Hypertension"
      },
      {
        "id": 2,
        "text": "Hemodilution"
      },
      {
        "id": 3,
        "text": "Hypervolemia"
      },
      {
        "id": 4,
        "text": "Hypothermia"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Triple H therapy for subarachnoid hemorrhage does not include hypothermia.</p>\n<p>The combination of induced <strong>hypertension, hypervolemia, and hemodilution (triple-H therapy)</strong> is often utilized to prevent and treat<strong> cerebral vasospasm </strong>after aneurysmal <strong>subarachnoid hemorrhage (SAH).</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Histological section of skin lesion is given below. Diagnosis is",
    "choices": [
      {
        "id": 1,
        "text": "Squamous cell carcinoma"
      },
      {
        "id": 2,
        "text": "Basal cell carcinoma"
      },
      {
        "id": 3,
        "text": "Malignant melanoma"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Histology shows <strong>ovoid cells in nests with a single &lsquo;palisading&rsquo; layer which is characteristic of basal cell carcinoma.</strong></p>\n<p><strong>Squamous cell carcinoma:&nbsp;</strong>irregular masses of squamous epithelium are noted to proliferate and invade the dermis from the basal layer.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7f29c907f77c45728b0080b2aac0de3b.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ab1c30f368af4466a2dd0b42d8892df5x800x533.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/855483280b364a379a41d93fd514cc3ex750x600.JPEG"
    ]
  },
  {
    "text": "All are markers of melanocytic differentiation except",
    "choices": [
      {
        "id": 1,
        "text": "S-100"
      },
      {
        "id": 2,
        "text": "Chromogranin"
      },
      {
        "id": 3,
        "text": "Melan-A"
      },
      {
        "id": 4,
        "text": "HMB 45"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Chromogranin, synaptophysin and CD56</strong> stain <strong>neuroendocrine tumours</strong> such as <strong>carcinoid and small cell carcinoma</strong>.</p>\n<p><strong>Markers of melanocytic differentiation</strong> include <strong>S100, MelanA and HMB45</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Given instrument is used in",
    "choices": [
      {
        "id": 1,
        "text": "Pulmonary biopsy"
      },
      {
        "id": 2,
        "text": "Arteriography"
      },
      {
        "id": 3,
        "text": "Spinal anaesthesia"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Image shows seldinger needle which is used in both single and double wall puncture techniques in arteriography.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3e7dc3dbb58d4f8da0da22d86430b79a.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Fogarty\u2019s catheter is used for ____________",
    "choices": [
      {
        "id": 1,
        "text": "Aspiration of gastric contents"
      },
      {
        "id": 2,
        "text": "Urinary catheterization"
      },
      {
        "id": 3,
        "text": "Removal of embolus from blood vessels"
      },
      {
        "id": 4,
        "text": "Total Parenteral Nutrition"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Fogarty&rsquo;s catheter used for Embolectomy.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7b37f2c357c546738f9efcca65b2340dx457x337.PNG"
    ]
  },
  {
    "text": "Components of myocutaneous flaps are",
    "choices": [
      {
        "id": 1,
        "text": "Skin only"
      },
      {
        "id": 2,
        "text": "Skin and muscle"
      },
      {
        "id": 3,
        "text": "Skin, muscle and blood vessel"
      },
      {
        "id": 4,
        "text": "Skin, muscle and nerve"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Myocutaneous flap consists of skin, muscle and blood vessel.</p>\n<p>Flaps are tissues that are transferred with a blood supply. They therefore have the advantage of bringing vascularity to the new area.</p>\n<p><strong>Types:</strong></p>\n<ul>\n<li><strong>Random flaps</strong>: Three sides of a rectangle, bearing <strong>no specific relationship to where the blood supply enters</strong>; the length to breadth ratio is no more than 1.5:1.</li>\n<li><strong>Axial flaps</strong>: Much longer flaps, based on known blood vessels supplying the skin. It enables many long thin flaps to be safely moved across large distances.</li>\n<li><strong>Pedicled/islanded flaps</strong>: The axial blood supply of these flaps means that they can be swung round on a stalk or even fully \u2018islanded\u2019 so that the business end of the skin being transferred can have the pedicle buried.</li>\n<li><strong>Free flaps</strong>: The blood supply has been isolated, disconnected and then reconnected using microsurgery at the new site.</li>\n<li><strong>Composite flaps</strong>: Various tissues are transferred together, often skin with bone or muscle (osseocutaneous or myocutaneous flaps, respectively).</li>\n<li><strong>Perforator flaps</strong>: Subgroup of axial flaps in which tissues are isolated on small perforating vessels that run from more major blood vessels to supply the surface.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A child, previously diagnosed with an endocrine tumor, presented with conjugate eye movements and myoclonus. Which of the following tumors must have led to this clinical presentation?",
    "choices": [
      {
        "id": 1,
        "text": "Meningioma"
      },
      {
        "id": 2,
        "text": "Neuroblastoma"
      },
      {
        "id": 3,
        "text": "Cortical tuberculoma"
      },
      {
        "id": 4,
        "text": "Parathyroid adenoma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The clinical presentation of conjugate eye movements and myoclonus indicates <strong>opsoclonus-myoclonus syndrome </strong>(OMS). It\u00a0is associated with\u00a0<strong>neuroblastoma.</strong></p>\n<p><strong>Opsoclonus-myoclonus syndrome</strong>\u00a0is rapid, conjugate eye nystagmus with involuntary spasms of the limbs, and is also called\u00a0<strong>dancing eyes-dancing feet syndrome.</strong></p>\n<div id=\"causes\" class=\"rdr-box\">Causes:</div>\n<div class=\"rdr-box\">\n<div id=\"causes\" class=\"rdr-box\">\n<div id=\"wpcf-field-rd_causes\" class=\"wpcf-field-wysiwyg wpcf-field-rd_causes\">\n<div class=\"wpcf-field-value wpcf-field-wysiwyg-value wpcf-field-rd_causes-value\">\n<ul>\n<li>When opsoclonus and myoclonus occur together, the cause is a tumor until proven otherwise.</li>\n<li>In approximately 50 percent of affected children,<strong> neuroblastoma</strong> is responsible for the symptoms associated with OMS.</li>\n<li>In other cases, the disorder has been designated <strong>\u2018idiopathic</strong>\u2019 or attributed to various mostly <strong>viral infections</strong>, such as Coxsackievirus B3 or St. Louis encephalitis virus</li>\n</ul>\n<p>The main treatment for OMS is early and sufficient immunotherapy with the goal of gaining a durable complete neurological remission. If a tumor is present, <strong>surgical resection is standard.\u00a0</strong></p>\n<p><strong>Neuroblastoma</strong>\u00a0is a malignancy arising from the neuroblast cells in the <strong>adrenal medulla</strong> or <strong>sympathetic ganglia</strong>. It typically presents as an abdominal or paravertebral mass.\u00a0The etiology is unknown, however, familial predisposition is associated with\u00a0mutations in the ALK gene (anaplastic lymphoma kinase gene).</p>\n<p>It is predominantly seen in children<strong> less than 5 years</strong> of age. Clinical features include mass effect due to the tumor (spinal cord compression, bowel obstruction) and metastatic disease.\u00a0<strong>Raccoon eyes</strong>\u00a0(periorbital ecchymoses) are seen in neuroblastoma due to orbital metastasis.\u00a0In neonates, multiple cutaneous metastases cause deep blue discoloration of the skin called<strong> blueberry muffin baby</strong>.\u00a0Children may present with fever, bone pains, and failure to thrive.\u00a0<strong>Elevated blood pressure</strong>\u00a0is seen due to increased levels of catecholamines in the blood.\u00a0</p>\n<p>Histology shows\u00a0<strong>small round blue</strong> <strong>cells</strong> with dark nuclei and scanty cytoplasm and\u00a0<strong>Homer-Wright pseudorosettes.\u00a0</strong>Urine<strong> vanillylmandelic acid</strong> (VMA) and <strong>homovanillic acid</strong> (HVA) are elevated.\u00a0</p>\n<p>The mainstay of treatment is resection of the tumor and adjuvant chemotherapy. The drugs used from chemotherapy are carboplatin, cyclophosphamide, etoposide, and doxorubicin.</p>\n<p>The gif below shows <strong>opsoclonus-myoclonus syndrome:</strong></p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5b59aeab009d42f19cc4137bcd8b1878x720x405.GIF"
    ]
  },
  {
    "text": "Shock index is",
    "choices": [
      {
        "id": 1,
        "text": "Heart rate/Mean blood pressure"
      },
      {
        "id": 2,
        "text": "Heart rate/systolic blood pressure"
      },
      {
        "id": 3,
        "text": "Heart rate/diastolic blood pressure"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Shock Index</strong> is defined as <strong>heart rate divided by systolic BP</strong>.</p>\n<p>It has been shown to be a <strong>better marker for assessing severity of shock than heart rate and BP alone.</strong></p>\n<p>It has utility not only in trauma patients but also in <strong>sepsis, obstetrics, myocardial infarction, stroke, and other acute critical illnesses.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following are true regarding safe laparoscopic surgery in pregnancy?",
    "choices": [
      {
        "id": 1,
        "text": "Patient should be positioned in the left lateral position"
      },
      {
        "id": 2,
        "text": "Open abdominal access (Hasson) is recommended versus direct puncture laparoscopy"
      },
      {
        "id": 3,
        "text": "Surgery should be performed during the second trimester if possible"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Laparoscopy in pregnancy:</p>\n<ul>\n<li>In order not to damage the uterus or its blood supply, most surgeons feel that the open (Hasson) approach should be used in favor of direct puncture laparoscopy.</li>\n<li>The patient should be positioned slightly on the left side to avoid compression of the vena cava by the uterus.</li>\n<li>The operation should be performed during the second trimester of pregnancy if possible.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 20-year-old man presents with chronic constipation, headache, neuromas of the tongue, medullated corneal nerve fibres and a nodule of 2*2 cm in the left lobe of the thyroid. Which of the following syndromes does the patient have?",
    "choices": [
      {
        "id": 1,
        "text": "Familial medullary carcinoma thyroid"
      },
      {
        "id": 2,
        "text": "MEN 1"
      },
      {
        "id": 3,
        "text": "MEN 2A"
      },
      {
        "id": 4,
        "text": "MEN 2B"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The clinical features are suggestive of <strong>MEN 2B </strong>syndrome<strong>.\u00a0</strong></p>\n<p>In MEN 2B, along with<strong> medullary thyroid cancer and pheochromocytoma</strong>, it is associated with other abnormalities such as <strong>mucosal neuromas, marfanoid habitus, medullated corneal nerve fibres, </strong>and<strong> megacolon</strong>. Parathyroid tumours are generally not seen here, in contrast to the MEN 2A type.</p>\n<p>Multiple endocrine neoplasias (MEN) describe conditions with <strong>tumours involving two or more endocrine glands</strong>. There are four types - MEN 1-4. They have an autosomal dominant pattern of inheritance and can also be sporadic.\u00a0</p>\n<p>MEN type 2 comprises groups of disorders caused by<strong> gain-of-function mutations</strong> of the<strong> RET proto-oncogene</strong> at chromosomal locus 10q11.2. There are three variants:</p>\n<ul>\n<li>MEN 2A, also known as MEN 2 (most common type)</li>\n<li>MEN 2B, also known as MEN 3</li>\n<li>MTC only</li>\n</ul>\n<p><strong>MEN 2A</strong> is also known as <strong>Sipple's syndrome</strong>. It is characterised by medullary thyroid carcinoma, pheochromocytomas, and parathyroid tumours.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which one of the following statements regarding the management of breast cancer is NOT true?",
    "choices": [
      {
        "id": 1,
        "text": "Mammaprint and Oncotype Dx are scores used in early breast cancer to predict the benefit of chemotherapy"
      },
      {
        "id": 2,
        "text": "Oncotype Dx is a 21 gene assay which can be used in ER positive and node-negative patients"
      },
      {
        "id": 3,
        "text": "Mammaprint is a 70 gene assay which can be used in ER, PR negative patients only"
      },
      {
        "id": 4,
        "text": "There is more data to support the use of Oncotype Dx"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Mammaprint</strong> is a <strong>multigene (70 gene) assay</strong> used for <strong>risk assessment</strong> in patients with <strong>ER-positive or ER-negative tumors.</strong></p>\n<p><strong>Oncotype DX and Mammaprint</strong> are <strong>tumor genomic assays</strong> i.e. they assess <strong>expression of various genes</strong> in the given sample of breast tissue and thus help in determining the <strong>selection of patients for systemic treat\u00adment (e.g., chemotherapy, endocrine therapy) and predict the response</strong> of patients to these pharmacologic treatments. They also help in detecting the likelihood of recurrence.</p>\n<p><strong>Oncotype DX </strong></p>\n<ul>\n<li><strong>21 gene assay</strong></li>\n<li>Used for <strong>T1, </strong>and<strong> T2 tumors</strong> which are <strong>node-negative and ER-positive.</strong></li>\n<li>Used to assess whether patients with these <strong>tumors will benefit from chemotherapy.</strong></li>\n<li>The\u00a0Oncotype\u00a0DX test analyzes the activity of 21 genes and then <strong>calculates a recurrence score number</strong> between 0 and 100; the higher the score, the greater the risk of recurrence.</li>\n<li>TAILORx trial and other trials support the use of Oncotype Dx</li>\n</ul>\n<p><strong>MammaPrint test</strong></p>\n<ul>\n<li><strong>70 gene assay</strong></li>\n<li>Used for <strong>T1, </strong>and<strong> T2 tumors</strong> which are <strong>node-negative</strong> but can either be <strong>ER-positive or negative</strong></li>\n<li>The MammaPrint test isn\u2019t included in the NCCN and ASCO treatment guidelines.</li>\n</ul>\n<p>Of the genomic tests used on breast cancer, the Oncotype DX test has the most thorough data supporting its use to make treatment decisions.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following are advantages of split skin graft except",
    "choices": [
      {
        "id": 1,
        "text": "Larger grafts can be harvested"
      },
      {
        "id": 2,
        "text": "Good uptake"
      },
      {
        "id": 3,
        "text": "Reusable donor site"
      },
      {
        "id": 4,
        "text": "Less contraction"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Split skin grafts</strong> are also known as <strong>Thiersch graft</strong>. It has <strong>more contraction</strong> compared to full thickness grafts. Hence they are not suitable for cosmetic purposes.</p>\n<p><strong>There are 2 types of contraction:</strong></p>\n<p><strong>Primary contraction</strong> - the degree to which a graft shrinks in surface area after harvesting and before grafting.</p>\n<p><strong>Secondary contraction</strong> - the degree to which a graft shrinks during healing.</p>\n<p><strong>Advantages of split skin graft:</strong></p>\n<ul>\n<li>Large grafts can be harvested.</li>\n<li>Donor site is reusable since part of dermis is left behind from which regeneration begins.</li>\n<li>Uptake is good. Meshing can be done i.e. small splits are made in graft and any exudates collected can come out through this and this improves graft take up. Meshing also allows graft to expand from a ratio of anything from 1:1.5 to about 1:6.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Amyloid stroma is characteristically seen in which carcinoma thyroid",
    "choices": [
      {
        "id": 1,
        "text": "Papillary carcinoma"
      },
      {
        "id": 2,
        "text": "Follicular carcinoma"
      },
      {
        "id": 3,
        "text": "Medullary carcinoma"
      },
      {
        "id": 4,
        "text": "Hurthle cell carcinoma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Histological section of medullary carcinoma thyroid shows <strong>cells resembling those in carcinoid tumors and shows characteristic amyloid stroma</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/40bcee38b8d947ae808955f26cd501b6x800x600.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8843af80a393443986065e4bf6f485cbx725x512.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b2dead27471641fea1dd3eb4824b84eax800x600.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d5de2c1af1974b07b64cc2c2b7ab5852x800x533.JPEG"
    ]
  },
  {
    "text": "A patient with a history of suicidal attempts presented with the following finding. Which of the following is incorrect regarding the given finding?",
    "choices": [
      {
        "id": 1,
        "text": "Remains within confines of wound"
      },
      {
        "id": 2,
        "text": "Frequently undergoes spontaneous regression"
      },
      {
        "id": 3,
        "text": "Familial predisposition may be present"
      },
      {
        "id": 4,
        "text": "Frequently associated with contractures"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given image shows&nbsp;<strong>hypertrophic scars&nbsp;</strong>which have developed on possible sites of self-inflicted cuts. It has no genetic/familial predisposition.&nbsp;</p>\n<p>Hypertrophic scars <strong>rise above</strong> the <strong>skin</strong> level but <strong>stay within</strong> the <strong>confines</strong> of the <strong>original wound</strong> and often regress over time.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d1a7bd1c482e425c9ed4faf4fc0167fd.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Most common tumor in anterior mediastinum is?",
    "choices": [
      {
        "id": 1,
        "text": "Neurofibroma"
      },
      {
        "id": 2,
        "text": "Thymoma"
      },
      {
        "id": 3,
        "text": "Germ cell tumor"
      },
      {
        "id": 4,
        "text": "Lymphoma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Thymomas</strong> are usually the most frequently occurring neoplasm of the anterior mediastinum in adults.</p>\n<div class=\"page\" title=\"Page 361\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The most common mediastinal masses in children are neurogenic tumors</p>\n</div>\n</div>\n</div>\n</div>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the instrument",
    "choices": [
      {
        "id": 1,
        "text": "Allis tissue forceps"
      },
      {
        "id": 2,
        "text": "Babcock\u2019s forceps"
      },
      {
        "id": 3,
        "text": "Lane\u2019s tissue holding forceps"
      },
      {
        "id": 4,
        "text": "Kocher\u2019s hemostatic forceps"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Image shows <strong>Allis tissue forceps </strong></p>\n<ul>\n<li>Distal blades are not opposing each other</li>\n<li>Tip has got teeth in each blade which are opposing</li>\n<li>Lock in proximal part</li>\n</ul>\n<p><strong>Uses:</strong></p>\n<ul>\n<li>Hold skin flaps, fascia, aponeurosis, bladder wall</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/59c42afe91d048b68ac70f3017a5ba29.PNG"
    ],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/1896c45c6f1e407a9465d3514e3e852ex365x256.PNG",
      "https://cdn1.dailyrounds.org/uploads/88d144cf5a4142ed975547a46017c576x496x274.PNG",
      "https://cdn1.dailyrounds.org/uploads/1837ba408ad64033acd7ae838f7439d0x497x250.PNG",
      "https://cdn1.dailyrounds.org/uploads/dffabaa3104143f983af1828d25ed879x381x280.PNG"
    ]
  },
  {
    "text": "Indications of parathyroidectomy in asymptomatic primary hyperparathyroidism are",
    "choices": [
      {
        "id": 1,
        "text": "Serum calcium >1mg/dL above the upper limits of normal"
      },
      {
        "id": 2,
        "text": "Urinary tract calculi"
      },
      {
        "id": 3,
        "text": "Age <50 yrs"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>All of the above mentioned conditions are indications for parathyroidectomy in asymptomatic primary hyperparathyroidism.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient of thrombocytopenia is scheduled to undergo an invasive surgery. What minimum threshold of platelet count is to be achieved by platelet transfusion?",
    "choices": [
      {
        "id": 1,
        "text": "30,000 / mm3"
      },
      {
        "id": 2,
        "text": "40,000 / mm3"
      },
      {
        "id": 3,
        "text": "50,000 / mm3"
      },
      {
        "id": 4,
        "text": "60,000 / mm3"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Minimum threshold of platelet count to conduct a major surgery is&nbsp;50,000 / mm3.</strong></p>\n<p>&nbsp;</p>\n<p>Thrombocytopenia is a risk factor for haemorrhage, and platelet transfusion reduces the incidence of bleeding.</p>\n<ul>\n<li>The threshold for prophylactic platelet transfusion is 10,000/mm<sup>3</sup>.</li>\n</ul>\n<p><strong>REMEMBER:</strong></p>\n<p>Consider performing the following procedures above the platelet count threshold indicated,</p>\n<table style=\"height: 194px;\" width=\"665\">\n<tbody>\n<tr>\n<td style=\"width: 324px;\">Indication&nbsp;</td>\n<td style=\"width: 325px;\">Platelet Threshold( per mm3 )&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 324px;\">Central venous line&nbsp;</td>\n<td style=\"width: 325px;\">40,000</td>\n</tr>\n<tr>\n<td style=\"width: 324px;\">Insertion/removal of epidural catheter </td>\n<td style=\"width: 325px;\">80,000</td>\n</tr>\n<tr>\n<td style=\"width: 324px;\">\n<p>major surgery</p>\n<p>percutaneous liver biopsy</p>\n</td>\n<td style=\"width: 325px;\">50,000</td>\n</tr>\n<tr>\n<td style=\"width: 324px;\">neurosurgery or ophthalmic surgery involving the posterior segment of the eye</td>\n<td style=\"width: 325px;\">1,00,000</td>\n</tr>\n</tbody>\n</table>\n<p>source : British society of Haemetology&nbsp;</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Surgery Test I (General And Plastic Surgery, Breast, Endocrine System, Head And Neck, And Skin)';
        const quizFilename = 'surgery-test-i-general-and-plastic-surgery-breast-endocrine-system-head-and-neck-and-skin-61b73d7d.html';
        let hierarchy = ["Marrow", "NEET PG Test Series Subject Wise", "Year 2018 - 19"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>