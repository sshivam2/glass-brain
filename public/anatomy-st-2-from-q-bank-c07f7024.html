<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anatomy St 2 (From Q-Bank) - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Test Series Subject Wise / Year 2017 - 18
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "The plane passing through the center of the body, dividing it into two equal right and left halves, is known as __________",
    "choices": [
      {
        "id": 1,
        "text": "Coronal plane"
      },
      {
        "id": 2,
        "text": "Transverse plane"
      },
      {
        "id": 3,
        "text": "Axial plane"
      },
      {
        "id": 4,
        "text": "Median plane"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The median plane is a longitudinal plane that divides the body into equal right and left halves.&nbsp;</p>\n<p>Four imaginary planes are used in anatomical descriptions:</p>\n<ul>\n<li><strong>Median (mid-sagittal) plane:</strong> Vertical plane that divides the body <strong>into equal right and left halves</strong>&nbsp;&nbsp;</li>\n<li><strong>Sagittal plane:</strong> Vertical plane that divides the body <strong>into unequal right and left parts</strong>; parallel to the median plane</li>\n<li><strong>Coronal (frontal) plane:</strong> Vertical plane that divides the body <strong>into anterior and posterior parts</strong>; perpendicular to the median plane</li>\n<li><strong>Transverse (horizontal) plane:</strong> Horizontal plane that divides the body <strong>into upper and lower parts</strong>; perpendicular to both the sagittal and coronal planes</li>\n</ul>\n<p>Note: Axial (or trans-axial) plane is a term used in radiology for the horizontal plane.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1c10ebb25bc746e3af7a81ae3dae689ax1200x2046.JPEG"
    ]
  },
  {
    "text": "Which of the following is a modified long bone?",
    "choices": [
      {
        "id": 1,
        "text": "Humerus"
      },
      {
        "id": 2,
        "text": "Fibula"
      },
      {
        "id": 3,
        "text": "Metacarpal"
      },
      {
        "id": 4,
        "text": "Clavicle"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>clavicle</strong> is a <strong>modified long bone,</strong> as it has a modified shaft and no medullary cavity.</p>\n<p>Long bones are classified as follows:</p>\n<ul>\n<li><strong>Typical</strong> long bones&nbsp;(see figure) have an elongated shaft (diaphysis) and two expanded ends (epiphysis). The shaft has a central medullary cavity and a nutrient foramen directed away from the growing end. e.g.,<strong> humerus, ulna, radius, femur, tibia,</strong> and<strong> fibula.</strong>&nbsp;&nbsp;</li>\n<li><strong>Miniature</strong> long bones contain only one epiphysis. e.g.,<strong> metacarpals, metatarsals,</strong> and<strong> phalanges.</strong></li>\n<li><strong>Modified</strong> long bones<strong>&nbsp;</strong>have a modified&nbsp;shaft or ends, and no medullary cavity. e.g.,<strong> clavicle.</strong></li>\n</ul>\n<p>The following image shows a graphical illustration of a typical long bone:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3766fde0c5ca4c14b32032c38cb8ab0cx684x1156.JPEG"
    ]
  },
  {
    "text": "Which of the following veins have valves?",
    "choices": [
      {
        "id": 1,
        "text": "Hepatic veins"
      },
      {
        "id": 2,
        "text": "Inferior venacava"
      },
      {
        "id": 3,
        "text": "Cerebral veins"
      },
      {
        "id": 4,
        "text": "Testicular veins"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>testicular veins</strong>&nbsp;have <strong>valves.</strong></p>\n<p>Valves within the veins maintain a <strong>unidirectional flow</strong> of <strong>blood,</strong> even against gravity. <strong>Congenital absence</strong> of valves in testicular veins may be a predisposing factor for the development of <strong>varicocele.</strong> The <strong>inferior vena cava</strong>&nbsp;also has a valve (the <strong>Eustachian valve)</strong> to direct the flow of oxygenated blood towards the foramen ovale to escape the pulmonary circulation. After birth, with the establishment of the pulmonary circulation and the increase in systemic vascular resistance driving the closure of foramen ovale, the valve has no function and tends to <strong>regress.</strong></p>\n<p>The valves are absent in the following veins:</p>\n<ul>\n<li>Veins less than 2 mm in diameter</li>\n<li>Venae cavae</li>\n<li>Hepatic, renal, uterine, ovarian, cerebral, spinal, pulmonary, and umbilical veins.</li>\n</ul>\n<p>The following image is a histological section showing the valve within a vein:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3134b93cc0c1421692a2870c794452bcx400x450.JPEG"
    ]
  },
  {
    "text": "A middle-aged woman presented with a rapidly growing, itchy lesion on her face as shown in the image. On dermoscopy, there is an atypical pigmented network. In which of the following layers of the skin are the cells forming these lesions present?",
    "choices": [
      {
        "id": 1,
        "text": "Stratum corneum"
      },
      {
        "id": 2,
        "text": "Stratum granulosum"
      },
      {
        "id": 3,
        "text": "Stratum basale"
      },
      {
        "id": 4,
        "text": "Dermis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical scenario of an itchy, asymmetrical pigmented lesion on the&nbsp;face with an&nbsp;irregular border(image) that rapidly grew in size, points towards a diagnosis of&nbsp;<strong>malignant melanoma</strong>&nbsp;arising from the <strong>melanocytes.</strong> These cells are present in the <strong>stratum basale</strong> layer of the epidermis.</p>\n<p>Melanocytes are derived from<strong> neural crest cells</strong>. They produce&nbsp;<strong>melanin</strong> which is packed into organelles called <strong>melanosomes</strong> and transferred via finger-like processes called&nbsp;<strong>dendrites</strong> to the&nbsp;<strong>keratinocytes</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a982bfd77a7f49848ba8055f0b51868f.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9fcfd7b95c214d1d941fadb8e53c24cfx1280x1511.JPEG"
    ]
  },
  {
    "text": "A 30-year-old woman came to the obstetrician for in-vitro fertilization. FSH analogs were injected to induce follicular growth and hCG was injected to induce final oocyte maturation. The oocyte was then retrieved transvaginally. The oocyte thus retrieved\u200b is arrested at which of the following stages?",
    "choices": [
      {
        "id": 1,
        "text": "Prophase of meiosis I"
      },
      {
        "id": 2,
        "text": "Prophase of meiosis II"
      },
      {
        "id": 3,
        "text": "Metaphase of meiosis I"
      },
      {
        "id": 4,
        "text": "Metaphase of meiosis II"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The oocyte retrieved after final maturation is the&nbsp;<strong>secondary oocyte&nbsp;</strong>that&nbsp;is arrested in<strong>&nbsp;metaphase of meiosis II</strong>.&nbsp;&nbsp;</p>\n<p>Steps of<strong> oogenesis after puberty&nbsp;</strong>are shown in the image below:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/bc7a717b00dc45c8979d4611edc72e19x1280x3073.JPEG"
    ]
  },
  {
    "text": "Which of the following events is referred to as zona reaction?",
    "choices": [
      {
        "id": 1,
        "text": "Penetration of sperm through the zona pellucida"
      },
      {
        "id": 2,
        "text": "Complete dissolution of the zona pellucida"
      },
      {
        "id": 3,
        "text": "Alteration of zona pellucida to prevent polyspermy"
      },
      {
        "id": 4,
        "text": "Binding of sperm to zona proteins"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Alteration</strong> of the properties of the <strong>zona pellucida</strong> to <strong>prevent</strong>&nbsp;the entry of <strong>other</strong> <strong>sperms</strong> is <strong>zona reaction</strong>.</p>\n<p>After penetrating the zona, the sperm comes in contact with the oolemma (the plasma membrane of the oocyte). This contact results in&nbsp;weak membrane depolarization and a <strong>calcium wave</strong>.</p>\n<p>The calcium wave triggers the release of <strong>lysosomal enzymes</strong> from the<strong>&nbsp;</strong>cortical granules lining the oolemma (<strong>cortical reaction</strong>). These&nbsp;enzymes hydrolyze the <strong>ZP3 receptor</strong> on the zona pellucida.&nbsp;Digestion of ZP3 and<strong> alteration </strong>of<strong> zona pellucida </strong>(<strong>zona reaction</strong>)&nbsp;prevents other sperms from binding, thus creating a&nbsp;<strong>block </strong>to<strong> polyspermy</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the layers marked as A, B, and C, respectively, in the image of the definitive placenta.",
    "choices": [
      {
        "id": 1,
        "text": "Rohr's layer, Langhan's layer, Nitabuch's layer"
      },
      {
        "id": 2,
        "text": "Langhan's layer, Rohr's layer, Nitabuch's layer"
      },
      {
        "id": 3,
        "text": "Langhan's layer, Nitabuch's layer, Rohr's layer"
      },
      {
        "id": 4,
        "text": "Nitabuch's layer, Langhan's layer, Rohr's layer"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The structures marked in the above image are (A) Langhan's layer,&nbsp;(B) Rohr's layer, and (C) Nitabuch's layer.</p>\n<p class=\"p1\">The <strong>definitive placenta </strong>consists of the <strong>chorionic plate</strong> on the <strong>fetal</strong> aspect and a <strong>basal plate</strong> on the <strong>maternal</strong> aspect with the intervillous space between them.</p>\n<p class=\"p1\">The structures of the definitive placenta are shown in the image below:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b6513ee3874543d981efd681ee4dc57a.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/df10bc962cb44cf98bbf5aca29b1392dx1280x1831.JPEG"
    ]
  },
  {
    "text": "A 5-month-old infant was brought to the pediatric OPD for a routine checkup. The child had congenital hypoparathyroidism. CT scan revealed thyroid hypoplasia and absent thymus. Abnormality in the development of which of the following pharyngeal pouches will most likely cause the given features?",
    "choices": [
      {
        "id": 1,
        "text": "Fourth and fifth pharyngeal pouch"
      },
      {
        "id": 2,
        "text": "First and second pharyngeal pouch"
      },
      {
        "id": 3,
        "text": "Second and third pharyngeal pouch"
      },
      {
        "id": 4,
        "text": "Third and fourth pharyngeal pouch"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given clinical scenario of <strong>congenital hypoparathyroidism</strong> and <strong>thyroid hypoplasia</strong>, <strong>absent thymus</strong> on CT scan is suggestive of <strong>DiGeorge syndrome</strong>.&nbsp;The defect is most likely to be present in the development of<strong> third </strong>and <strong>fourth </strong>pharyngeal pouches.&nbsp;</p>\n<p>Structures derived from various pharyngeal pouches (I-IV) are:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/150990af53b3480e8dd7484891950e92x600x660.JPEG"
    ]
  },
  {
    "text": "A 45-year-old man presented with chronic abdominal and back pain. CT scan of the abdomen was done, which incidentally revealed pancreatic divisum. Which of the following mechanisms during embryonic development leads to the given condition?",
    "choices": [
      {
        "id": 1,
        "text": "Persistence of the proximal portion of dorsal pancreatic bud"
      },
      {
        "id": 2,
        "text": "Failure of fusion of the dorsal and ventral pancreatic buds"
      },
      {
        "id": 3,
        "text": "Failure of regression of dorsal pancreatic bud"
      },
      {
        "id": 4,
        "text": "Failure of regression of ventral pancreatic bud"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Failure</strong> of <strong>fusion</strong> of the dorsal and ventral <strong>pancreatic buds</strong> leads to a condition called&nbsp;<strong>pancreas divisum.</strong>&nbsp;</p>\n<p class=\"p1\">The developing pancreatic ducts usually fuse in such a way that most of the dorsal duct drains into the proximal part of the ventral duct.&nbsp;The proximal portion of the dorsal duct usually persists as an accessory duct. In about 10% of the population, the <strong>two&nbsp;ducts do not fuse</strong>, resulting in <strong>pancreatic divisum</strong> (pancreas divisum)&nbsp;where&nbsp;<strong>separate drainage</strong> into the <strong>duodenum</strong> is maintained.</p>\n<p class=\"p1\">The image given below shows the development of the pancreas.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0a3c132cb56745e4b36ce64e43ac46e7x600x2543.JPEG"
    ]
  },
  {
    "text": "A  newborn had hypoplasia of the mandibles and zygomatic bones, malformed external ears, and slanted palpebral fissures. Abnormality in the development of which of the following pharyngeal arches will most likely\u200b lead to the given condition?",
    "choices": [
      {
        "id": 1,
        "text": "Pharyngeal arch 1"
      },
      {
        "id": 2,
        "text": "Pharyngeal arch 2"
      },
      {
        "id": 3,
        "text": "Pharyngeal arch 3"
      },
      {
        "id": 4,
        "text": "Pharyngeal arch 6"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given scenario is suggestive of<strong> Treacher Collins syndrome</strong>&nbsp;that results from abnormal development of the <strong>1st pharyngeal arch </strong>(mandibular arch).&nbsp;</p>\n<p><strong>First arch syndromes </strong>are congenital defects caused due to the&nbsp;<strong>failure </strong>of the<strong> neural crest cells</strong> to<strong> migrate</strong> into the <strong>1st&nbsp;pharyngeal&nbsp;arch</strong>. They are:</p>\n<ul>\n<li class=\"p1\"><strong>Treacher-Collins syndrome</strong> (mandibulofacial dysostosis)&nbsp;- Autosomal dominant genetic disorder characterized by:\n<ul>\n<li class=\"p1\"><strong>Craniofacial bone defects</strong>&nbsp;- Involves mandible (causing micrognathia), maxilla, and zygomatic arches</li>\n<li class=\"p1\"><strong>Ear defects</strong>&nbsp;- Involves the external ear, atresia of auditory canals, and abnormalities of the&nbsp;middle ear ossicles leading to bilateral conductive hearing loss</li>\n<li class=\"p1\"><strong>Eye defects</strong>&nbsp;- Down-slanting palpebral fissures and lower eyelid colobomas</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li class=\"p1\"><strong>Pierre Robin sequence</strong> (or Robin sequence) - Caused due to genetic defects or due to environmental factors. It can also be seen in oligohydramnios when the chin gets compressed against the chest in utero.&nbsp;\n<ul>\n<li class=\"p1\">It is characterized by a <strong>triad</strong> of <strong>micrognathia</strong>, <strong>glossoptosis</strong> (posteriorly placed tongue), and <strong>cleft palate</strong></li>\n<li class=\"p1\">The <strong>primary defect</strong> is poor growth of the <strong>mandible</strong> (micrognathia)</li>\n<li class=\"p1\">As a consequence of this, the tongue is posteriorly placed (glossoptosis)</li>\n<li class=\"p1\">Additionally, the tongue remains in between the palatal shelves and they fail to fuse (cleft palate)</li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a868b952bad141ed822bc59900368fb2x1080x1918.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/67924a47d630461c8aab434bbca6f32fx1080x1920.JPEG"
    ]
  },
  {
    "text": "Which of the following gives rise to the hypophysis cerebri?",
    "choices": [
      {
        "id": 1,
        "text": "Surface ectoderm and mesoderm"
      },
      {
        "id": 2,
        "text": "Surface ectoderm and neuroectoderm"
      },
      {
        "id": 3,
        "text": "Neuroectoderm and mesoderm"
      },
      {
        "id": 4,
        "text": "Mesoderm and endoderm"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The <strong>hypophysis cerebri</strong> or <strong>pituitary gland</strong> develops from two sources i.e.\u00a0<strong>surface ectoderm</strong> and\u00a0<strong>neurectoderm</strong>.</p>\n<p>The <strong>adenohypophysis</strong>\u00a0or anterior pituitary,\u00a0develops from the <strong>surface ectoderm</strong>. An\u00a0ectodermal diverticulum, called\u00a0<strong>Rathke's pouch,\u00a0</strong>grows upward from the roof of the stomatodeum (primitive mouth). This becomes the <strong>anterior lobe </strong>of the pituitary (<strong>pars distalis</strong>).\u00a0</p>\n<p>The <strong>neurohypophysis </strong>or posterior pituitary, develops from the <strong>neuroectoderm</strong>. A downward extension of the diencephalon,\u00a0called <strong>infundibular process,</strong> grows down from the floor of the 3rd ventricle, during the 6th week. It gives rise to the <strong>stalk</strong> and the <strong>posterior lobe </strong>of pituitary (<strong>pars nervosa</strong>).\u00a0</p>\n<p>The <strong>anterior lobe</strong> of pituitary gives rise to a <strong>small extension</strong> called <strong>the pars tuber</strong><span class=\"s1\"><strong>alis.</strong>\u00a0It\u00a0</span>grows along the stalk of the infundibu<span class=\"s2\">lum\u00a0</span>and eventually surrounds it.</p>\n<p>The <strong>posterior wall</strong> of the <strong>Rathke pouch</strong> develops into the <strong>pars intermedia</strong>.</p>\n<p>The image given below shows the development of pituitary gland.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/766a7cbc5acc41e089b50665c10f3a73x600x974.JPEG"
    ]
  },
  {
    "text": "Which of the following is the most common congenital anomaly of the kidney?",
    "choices": [
      {
        "id": 1,
        "text": "Renal agenesis"
      },
      {
        "id": 2,
        "text": "Renal duplication"
      },
      {
        "id": 3,
        "text": "Horseshoe kidney"
      },
      {
        "id": 4,
        "text": "Pancake kidney"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The <strong>horseshoe kidney</strong> is the most<strong> common congenital anomaly</strong> of the <strong>kidney.</strong></p>\n<p>During development, the kidney is <strong>initially</strong> located in the <strong>pelvic</strong> region. Later, the kidneys <strong>ascend</strong> due to the growth of the body in the lumbar and sacral regions.&nbsp;Sometimes, the kidneys are <strong>pushed</strong> so <strong>close</strong> to each other during their ascent that their&nbsp;<strong>lower poles fuse</strong>, forming a <strong>horseshoe kidney</strong>.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1132dcf4b7ee45e4b944da128bd9afaax600x598.JPEG"
    ]
  },
  {
    "text": "Which of the following chromatins in the nucleus has a loose appearance and stains lightly with hematoxylin and eosin?",
    "choices": [
      {
        "id": 1,
        "text": "Polychromatin"
      },
      {
        "id": 2,
        "text": "Heterochromatin"
      },
      {
        "id": 3,
        "text": "Hypochromatin"
      },
      {
        "id": 4,
        "text": "Euchromatin"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>euchromatin</strong> in the nucleus of a cell has a <strong>loose appearance</strong> and <strong>stains lightly</strong> with hematoxylin and eosin (H&amp;E).</p>\n<p>On staining with H&amp;E, the <strong>nucleus</strong> stains dark<strong> purple or blue,</strong> while the <strong>cytoplasm</strong>&nbsp;usually stains<strong>&nbsp;pink</strong>. However, in some cells, the nuclei are relatively large and stain lightly due to the presence of a delicate network of fibers called <strong>chromatin</strong>. At some places (in the nucleus), the chromatin is seen in the form of <strong>irregular dark masses&nbsp;</strong>called&nbsp;<strong>heterochromatin</strong> and&nbsp;some other places, the network is <strong>loose and stains lightly</strong> and is referred to as <strong>euchromatin</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ffa42267140043cf92ab51828170d5cax1280x1111.JPEG"
    ]
  },
  {
    "text": "Which of the following are the epithelial supporting cells of the seminiferous tubules?",
    "choices": [
      {
        "id": 1,
        "text": "Germ cells"
      },
      {
        "id": 2,
        "text": "Leydig cells"
      },
      {
        "id": 3,
        "text": "Sertoli cells"
      },
      {
        "id": 4,
        "text": "Peritubular cells"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Sertoli cells</strong> also called <strong>sustentacular cells</strong> are the epithelial supporting cells of the <strong>seminiferous tubules</strong>.</p>\n<p>Sertoli cells are derived from the <strong>epithelial sex cords</strong> of the developing gonads. They are <strong>tall simple columnar cells</strong>.&nbsp; They surround the proliferating and differentiating germ cells forming pockets around these cells. Sertoli cells provide nutrients and phagocytose excess cytoplasm from the newly forming spermatozoa.</p>\n<p>The given image is a section of seminiferous ducts showing the different types of cells.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b824dfe0ca87428099998a0a2837fd74x1280x2345.JPEG"
    ]
  },
  {
    "text": "A 28-year-old man presented to the dermatology OPD with complaints of patchy hair loss. A punch biopsy of the scalp was taken to assess the cause of the hair loss. Given below is the histological section of the hair follicle. Identify the structure marked Y in the image",
    "choices": [
      {
        "id": 1,
        "text": "Cuticle"
      },
      {
        "id": 2,
        "text": "Medulla"
      },
      {
        "id": 3,
        "text": "Inner root sheath"
      },
      {
        "id": 4,
        "text": "Outer root sheath"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The structure marked Y in the above image is the <strong>outer root sheath.</strong></p>\n<p>The <strong>hair</strong>&nbsp;is made up of the following layers (from within outwards):</p>\n<ul>\n<li><strong>Medulla</strong> - consisting of vacuolated and moderately keratinised cells.</li>\n<li><strong>Cortex</strong> - Consisting of densely packed and heavily keratinised cells.</li>\n<li><strong>Inner</strong> root sheath - This includes cuticle, inner Huxley's layer and outer Henle's layer.</li>\n<li><strong>Outer</strong> root sheath - These appear as clear cells as they contain glycogen.</li>\n<li><strong>Glassy membrane</strong></li>\n<li><strong>Connective tissue sheath</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/02aa50d4ee7647f699e21eadfbe512d6.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/eb0d2f43e7374561ae0b2d0b84fc1863x1280x1049.JPEG"
    ]
  },
  {
    "text": "Which skull bone is known as Inca?",
    "choices": [
      {
        "id": 1,
        "text": "Parietal bone"
      },
      {
        "id": 2,
        "text": "Temporal bone"
      },
      {
        "id": 3,
        "text": "Interparietal bone"
      },
      {
        "id": 4,
        "text": "Occipital bone"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The<strong> interparietal bone</strong> of the skull is known as <strong>Inca.</strong>&nbsp;It is a sutural bone that lies between the <strong>occipital</strong> and the <strong>parietal</strong> <strong>bones</strong>.&nbsp;It is also called Goethe's ossicle.&nbsp;</p>\n<p>Sutural or wormian bones are islands of bone that are commonly&nbsp;found within the <strong>lambdoid</strong> suture in some individuals. They may arise from separate centers&nbsp;of ossification and they appear to have no clinical significance.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c3201934e66b4f2fb5f0dd76a3edd990x1280x1167.JPEG"
    ]
  },
  {
    "text": "A patient presents to you with ptosis, miosis, and anhydrosis. Which of the following structures marked is most likely to be damaged?",
    "choices": [
      {
        "id": 1,
        "text": "A"
      },
      {
        "id": 2,
        "text": "B"
      },
      {
        "id": 3,
        "text": "C"
      },
      {
        "id": 4,
        "text": "D"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario of ptosis, miosis, and anhydrosis is suggestive of <strong>Horner's syndrome</strong> which can be caused by damage to the <strong>cervical sympathetic trunk</strong> (marked B).&nbsp;</p>\n<p>In the given image:</p>\n<ol style=\"list-style-type: upper-alpha;\">\n<li>Vagus nerve</li>\n<li>Cervical sympathetic trunk</li>\n<li>Phrenic nerve</li>\n<li>Recurrent laryngeal nerve</li>\n</ol>\n<p>The cervical part of the sympathetic trunk lies anterior to longus colli and longus capitis muscles (enclosed in prevertebral fascia) and posterior to the common carotid artery. The sympathetic trunk lies outside the carotid sheath.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3aa3dce20b0346e0901e5ba65e6fb0c1.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The following image shows the oropharynx in a 16-year-old girl who came with complaints of a sore throat and fever. Which of the following structures will you not see in this region?",
    "choices": [
      {
        "id": 1,
        "text": "Palatopharyngeal folds"
      },
      {
        "id": 2,
        "text": "Palatine tonsils"
      },
      {
        "id": 3,
        "text": "Passavant's ridge"
      },
      {
        "id": 4,
        "text": "Palatoglossal folds"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given image shows purulent inflammation of the tonsils and the case scenario is suggestive of <strong>acute tonsillitis. Passavant's ridge</strong> is not seen in the oropharynx as it is present on the posterior wall of the <strong>nasopharynx.</strong>&nbsp;</p>\n<p>The <strong>oropharynx</strong> extends from below the<strong> soft palate </strong>to the<strong> upper border of the epiglottis.&nbsp;</strong></p>\n<p>Structures seen in the oropharynx:</p>\n<ul>\n<li>Palatoglossal folds</li>\n<li>Palatopharyngeal folds</li>\n<li>Palatine tonsils -&nbsp;between the palatoglossal and palatopharyngeal folds</li>\n<li>Lingual tonsils</li>\n<li>Valleculae - mucosal pouches between the tongue and the epiglottis.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1bb6843361e64038a2c4f6477c738ed6.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c50f2d4b40ac4e88bdb4f5e0bc8284c6x600x503.JPEG"
    ]
  },
  {
    "text": "What is the extent of the thyroid gland?",
    "choices": [
      {
        "id": 1,
        "text": "B to D"
      },
      {
        "id": 2,
        "text": "A to C"
      },
      {
        "id": 3,
        "text": "A to D"
      },
      {
        "id": 4,
        "text": "C to D"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The extent of the thyroid gland is from vertebral levels <strong>A to D</strong> in the given image.&nbsp;It extends from vertebral levels <strong>C5 to T1.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/800817e2a52a490ebedba2871aad18f1.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f67761092d394db59f7ade1378e28094x1280x1748.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cf5f760a0d2d4e0c91c6db4db8ef4cdex1280x1056.JPEG"
    ]
  },
  {
    "text": "In the carotid triangle near the origin of external and internal carotid arteries, the correct relation is as follows:",
    "choices": [
      {
        "id": 1,
        "text": "External carotid lies anteromedial to internal carotid"
      },
      {
        "id": 2,
        "text": "External carotid lies anterolateral to internal carotid"
      },
      {
        "id": 3,
        "text": "External carotid is posteromedial to internal carotid"
      },
      {
        "id": 4,
        "text": "External carotid lies posterolateral to internal carotid"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The <strong>external carotid artery</strong> has a slightly curved course, it lies:</p>\n<ul>\n<li><strong>Anteromedial</strong> to the internal carotid artery near its <strong>origin </strong>in the carotid triangle.</li>\n<li>As it ascends it becomes <strong>anterior</strong> and then <strong>lateral</strong> to the internal carotid artery.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c9bd61f5c4da4049b598f4b6b8dc959ax1280x1400.JPEG"
    ]
  },
  {
    "text": "The arrangement of the functional columns of cranial nerve nuclei from ventral to dorsal aspect in the brainstem is as follows:",
    "choices": [
      {
        "id": 1,
        "text": "Visceral Efferent > Somatic Efferent >  Visceral Afferent  > Somatic Afferent"
      },
      {
        "id": 2,
        "text": "Somatic Efferent > Visceral Efferent > Visceral Afferent > Somatic Afferent"
      },
      {
        "id": 3,
        "text": "Somatic Afferent > Visceral Afferent > Visceral Efferent >\u00a0 Somatic Efferent"
      },
      {
        "id": 4,
        "text": "Visceral Efferent > Visceral Afferent > Somatic Afferent > Somatic Efferent"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p style=\"text-align: justify;\"><span class=\"TextRun SCX32195820\" lang=\"EN-IN\" xml:lang=\"EN-IN\"><span class=\"NormalTextRun SCX32195820\">The pattern of the arrangement of </span></span><span class=\"TextRun SCX32195820\" lang=\"EN-IN\" xml:lang=\"EN-IN\"><span class=\"NormalTextRun SCX32195820\">cranial nerve nuclei from the ventral to dorsal aspect is:</span></span></p>\n<p style=\"text-align: justify;\"><strong><span class=\"TextRun SCX32195820\" lang=\"EN-IN\" xml:lang=\"EN-IN\"><span class=\"NormalTextRun SCX32195820\">Somatic Efferent &gt; Visceral E</span></span><span class=\"TextRun SCX32195820\" lang=\"EN-IN\" xml:lang=\"EN-IN\"><span class=\"NormalTextRun SCX32195820\">fferent &gt; Visceral</span></span><span class=\"TextRun SCX32195820\" lang=\"EN-IN\" xml:lang=\"EN-IN\"><span class=\"NormalTextRun SCX32195820\"> A</span></span><span class=\"TextRun SCX32195820\" lang=\"EN-IN\" xml:lang=\"EN-IN\"><span class=\"NormalTextRun SCX32195820\">fferent &gt; Somatic Afferent</span></span></strong></p>\n<p><span class=\"TextRun SCX32195820\" lang=\"EN-IN\" xml:lang=\"EN-IN\"><span class=\"NormalTextRun SCX32195820\">The basal and alar cranial nerve nuclei of the brainstem are organized into <strong>7 columns</strong>.&nbsp;The sequence of the columns from <strong>ventral to dorsal</strong> is shown in the image below - <strong>3 motor columns</strong> in the ventral basal plate (green) and <strong>4 sensory columns</strong> in the dorsal alar plate (blue). The v</span></span>isceral nuclei are closer to the sulcus limitans than the somatic nuclei.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9526c8b326054ce28a1f27d83f1c8186x1280x2893.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/87e33528b0a546aeb36566ab6b6a7a2ex1280x1158.JPEG"
    ]
  },
  {
    "text": "A child is diagnosed to have an aneurysmal malformation of a vessel located in the marked structure. Identify the structure and the vessel present in it.",
    "choices": [
      {
        "id": 1,
        "text": "Cisterna magna, Inferior retrotonsillar vein"
      },
      {
        "id": 2,
        "text": "Quadrigeminal cistern, Great cerebral vein"
      },
      {
        "id": 3,
        "text": "Supracallosal cistern, Great cerebral vein"
      },
      {
        "id": 4,
        "text": "Sylvian cistern, Occipital artery"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The area marked \"A\" is the <strong>quadrigeminal cistern,</strong> and it contains the <strong>great cerebral vein of Galen.</strong></p>\n<p>Aneurysmal malformation of the great cerebral vein of Galen is a congenital anomaly occurring due to the persistence of the embryonic prosencephalic vein of Markowski.&nbsp;</p>\n<p>The image below is a CT cerebral angiogram of a vein of Galen malformation and an abnormal falcine sinus.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1bb461d95d0a48b3bdeaa5a310f692c9.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2d3fb355d36442499af7e8a5deaefd2fx1280x1231.JPEG"
    ]
  },
  {
    "text": "An anterolateral cordotomy relieving pain in left leg is effective because it interrupts which of the following neural pathways?",
    "choices": [
      {
        "id": 1,
        "text": "Left dorsal column tract"
      },
      {
        "id": 2,
        "text": "Right lateral spinothalamic tract"
      },
      {
        "id": 3,
        "text": "Left corticospinal tract"
      },
      {
        "id": 4,
        "text": "Left spinocerebellar tract"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In the given case, the patient has pain in the left leg, hence the right lateral spinothalamic tract is cut to relieve\u00a0pain.</p>\n<p>Anterolateral cordotomy &gt; damages the spinothalamic ascending pain pathway\u00a0</p>\n<p>Specific lesion in the lateral spinothalamic tract &gt; loss of pain and temperature contralaterally below the level of the lesion.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In a patient with shoulder dislocation, which of the following muscle action is not hindered?",
    "choices": [
      {
        "id": 1,
        "text": "Teres major"
      },
      {
        "id": 2,
        "text": "Pectoralis minor"
      },
      {
        "id": 3,
        "text": "Subscapularis"
      },
      {
        "id": 4,
        "text": "Deltoid"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Pectoralis minor</strong> has no action at the shoulder joint.</p>\n<p>Its <strong>origin</strong> is from <strong>3,4,5 ribs</strong> near the costochondral junction and <strong>inserts</strong> at the medial border and the upper surface of the <strong>coracoid process</strong>. The pectoralis minor is an <strong>accessory muscle of inspiration</strong>, which stabilizes the scapula by pulling it anteriorly and inferiorly.&nbsp;&nbsp;</p>\n<p>Movements at the shoulder joint:</p>\n<table style=\"height: 236px; width: 483px;\">\n<tbody>\n<tr>\n<td style=\"width: 116px; text-align: center;\"><strong>Movement</strong></td>\n<td style=\"width: 146px; text-align: center;\"><strong>Prime Movers</strong></td>\n<td style=\"width: 203px; text-align: center;\"><strong>Synergists</strong></td>\n</tr>\n<tr>\n<td style=\"width: 116px;\">Flexion</td>\n<td style=\"width: 146px;\">Pectoralis major&nbsp;<br />Deltoid</td>\n<td style=\"width: 203px;\">Coracobracialis</td>\n</tr>\n<tr>\n<td style=\"width: 116px;\">Extension</td>\n<td style=\"width: 146px;\">Deltoid (Spinal part)</td>\n<td style=\"width: 203px;\">Teres major&nbsp;<br />Latissmus dorsi&nbsp;<br />Triceps brachii (Long head)</td>\n</tr>\n<tr>\n<td style=\"width: 116px;\">Abduction</td>\n<td style=\"width: 146px;\">Deltoid</td>\n<td style=\"width: 203px;\">Supraspinatus</td>\n</tr>\n<tr>\n<td style=\"width: 116px;\">Adduction</td>\n<td style=\"width: 146px;\">Pectoralis major&nbsp;<br />Latissmus dorsi</td>\n<td style=\"width: 203px;\">Teres major&nbsp;<br />Triceps brachii (Long head)</td>\n</tr>\n<tr>\n<td style=\"width: 116px;\">Medial rotation</td>\n<td style=\"width: 146px;\">Subscapularis</td>\n<td style=\"width: 203px;\">Pectoralis major&nbsp;<br />Deltoid&nbsp;<br />Latissmus dorsi&nbsp;<br />Teres major</td>\n</tr>\n<tr>\n<td style=\"width: 116px;\">Lateral rotation</td>\n<td style=\"width: 146px;\">Infraspinatus</td>\n<td style=\"width: 203px;\">Teres minor&nbsp;<br />Deltoid</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Content of the space marked below:",
    "choices": [
      {
        "id": 1,
        "text": "Circumflex Scapular artery"
      },
      {
        "id": 2,
        "text": "Axillary nerve"
      },
      {
        "id": 3,
        "text": "Profunda Brachii artery"
      },
      {
        "id": 4,
        "text": "Posterior circumflex vessels"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The space marked is the <strong>upper triangular space</strong> and<strong> </strong>the<strong> circumflex scapular artery</strong> is a content of it.</p>\n<p>The <strong>upper triangular space</strong> is a potential space between the scapula, humerus, and the various muscles of the region. It forms a communication between the axilla and posterior scapular region. The <strong>circumflex scapular artery </strong>is the content of this space.</p>\n<p>It is formed by the following boundaries</p>\n<ul>\n<li>Superiorly by the inferior border of teres minor and subscapularis</li>\n<li>Inferiorly bound by superior border of teres major</li>\n<li>Laterally by the medial border of the long head of the triceps</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/bc16b8b100ae40769ccd4ed1dfe1c5d6.GIF"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/61bc8f881c574e2fa74448e5f4c7b776x550x523.PNG"
    ]
  },
  {
    "text": "An infraclavicular block was given in a patient with distal humerus fracture for open reduction and internal fixation. Which of the following branches of brachial plexus would likely be anesthetized?",
    "choices": [
      {
        "id": 1,
        "text": "Nerve to Subclavius"
      },
      {
        "id": 2,
        "text": "Dorsal scapular nerve"
      },
      {
        "id": 3,
        "text": "Nerve to serratus anterior"
      },
      {
        "id": 4,
        "text": "Thoracodorsal nerve"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p style=\"text-align: justify;\">The <strong>thoracodorsal&nbsp;nerve</strong> would be anesthetized in the infraclavicular nerve block as it is an <strong>infraclavicular branch</strong> of the brachial plexus.&nbsp;It arises from the <strong>posterior cord</strong> (C6-C8).</p>\n<p style=\"text-align: justify;\">Branches of the brachial plexus that arise from the <strong>roots</strong> and <strong>trunk</strong> are <strong>supraclavicular</strong> branches. They include:</p>\n<ul>\n<li>Dorsal scapular nerve (C5)</li>\n<li>Long thoracic nerve of Bell (C5-C7)</li>\n<li>Suprascapular nerve (C5, C6)</li>\n<li>Nerve to Subclavius (C5, C6)</li>\n</ul>\n<p><strong>All</strong> the <strong>other branches</strong> of the brachial plexus that arise from the <strong>cords</strong> are <strong>infraclavicular</strong> branches.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d95d11a5f5cb4cfc8d6f66be46b49279x1280x806.JPEG"
    ]
  },
  {
    "text": "A patient is diagnosed with superficial thrombophlebitis of the cephalic vein. This vein drains into which of the following vessels?",
    "choices": [
      {
        "id": 1,
        "text": "Brachial vein"
      },
      {
        "id": 2,
        "text": "Subclavian vein"
      },
      {
        "id": 3,
        "text": "Axillary vein"
      },
      {
        "id": 4,
        "text": "Basilic vein"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The <strong>cephalic vein drains into</strong> the<strong>&nbsp;axillary vein.</strong></p>\n<p>The blood in the cephalic vein is drained to the axillary vein by 2 routes:</p>\n<ul>\n<li>Directly after piercing clavipectoral fascia i.e., Cephalic vein &rArr;&nbsp;Axillary vein</li>\n<li>Some amount of venous blood is drained into the basilic vein through the median cubital vein i.e., Cephalic vein &rArr; Median cubital vein &rArr; Basilic vein &rArr; Axillary vein&nbsp;</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4fddb885444f41d3bb7352ddcc587aafx1280x1810.JPEG"
    ]
  },
  {
    "text": "Which of the following is a false rib?",
    "choices": [
      {
        "id": 1,
        "text": "1st rib"
      },
      {
        "id": 2,
        "text": "6th rib"
      },
      {
        "id": 3,
        "text": "7th rib"
      },
      {
        "id": 4,
        "text": "8th rib"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>8<sup>th</sup> rib</strong> is the <strong>false rib</strong> because it does not articulate with the sternum anteriorly.</p>\n<ul>\n<li><strong>First 7 ribs </strong>are<strong> true ribs</strong> as they are attached anteriorly to the sternum by costal cartilages.</li>\n<li><strong>Ribs 8-10&nbsp;</strong>are<strong> false ribs</strong> as they join the superjacent costal cartilage.</li>\n<li><strong>Ribs 11 and 12&nbsp;</strong>are <strong>floating ribs&nbsp;</strong>as they float freely without costal attachment.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0ac5921585944a219f13ddfd483ea7a9x1280x1248.JPEG"
    ]
  },
  {
    "text": "A fluoroscopic examination is being performed in a patient with suspected phrenic nerve palsy. On asking the patient to inspire, you observe the following in the diaphragm. Which of the following statements is correct about the course of the nerve involved?",
    "choices": [
      {
        "id": 1,
        "text": "It runs anterior to scalenus anterior"
      },
      {
        "id": 2,
        "text": "It lies posterior to brachial plexus"
      },
      {
        "id": 3,
        "text": "It lies posterior to subclavian artery"
      },
      {
        "id": 4,
        "text": "It runs behind the left hilum"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given case scenario and paradoxical elevation of the left dome of the diaphragm on inspiration are suggestive of <strong>left phrenic nerve palsy</strong>. The left phrenic nerve runs <strong>anterior to the scalenus anterior.</strong></p>\n<p>The course of the left phrenic nerve:</p>\n<p><strong>Cervical region - </strong>both phrenic nerves pass,</p>\n<ul>\n<li>Anterior to scalenus anterior muscle</li>\n<li>Posterior to sternocleidomastoid and&nbsp;inferior belly of omohyoid</li>\n<li>Posterior to internal jugular vein, transverse cervical artery, and suprascapular artery</li>\n<li>Posterior to the thoracic duct on the left</li>\n</ul>\n<p><strong>Root of the neck</strong> - It lies&nbsp;medial to the trunks of the brachial plexus in the neck.&nbsp;At the <strong>root of the neck</strong>, it runs anterior to the second part of the subclavian artery and posterior to the subclavian vein.&nbsp;</p>\n<p><strong>Thorax</strong> - The phrenic nerve<strong> enters the thorax</strong> by crossing <strong>medially </strong>in front of the internal thoracic artery. Within the thorax, the phrenic nerve descends <strong>anterior</strong> to the<strong> pulmonary&nbsp;hilum </strong>between the fibrous pericardium and mediastinal pleura, accompanied by the pericardiacophrenic vessels.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d67221b99bf14146a043a1366fa1a789.GIF"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a19e57540547467a88c5a58de59eaf7dx1280x1887.JPEG"
    ]
  },
  {
    "text": "What are Purkinje fibers?",
    "choices": [
      {
        "id": 1,
        "text": "Modified nerve fibers"
      },
      {
        "id": 2,
        "text": "Modified smooth muscle"
      },
      {
        "id": 3,
        "text": "Modified cardiac muscle"
      },
      {
        "id": 4,
        "text": "Fibrous tissue"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Purkinje fibers</strong> are <strong>modified cardiac muscles.</strong></p>\n<p>The Purkinje network is subendocardial and the&nbsp;<strong>muscular excitation</strong> proceeds from<strong> endocardium to epicardium</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following statements are true except:",
    "choices": [
      {
        "id": 1,
        "text": "Horizontal fissure meets the oblique fissure at the midclavicular line"
      },
      {
        "id": 2,
        "text": "Oblique fissure follows the contour of the 6th rib anteriorly"
      },
      {
        "id": 3,
        "text": "Left oblique fissure is more vertical than the corresponding fissure on the right side"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Horizontal fissure</strong>\u00a0meets oblique fissure at the <strong>mid-axillary line\u00a0</strong>(not mid-clavicular line).</p>\n<p>Oblique fissure begins at the spinous process of T4 (right side) and between spinous process of T3 and T4 (left side), hence the left oblique fissure is more vertical, crosses 5<sup>th</sup> ICS laterally and follows contour of 6<sup>th</sup> rib anteriorly.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "On the ides of March, Julius Caesar was stabbed 23 times. One such stab wound was present in the left supraclavicular fossa, piercing his left lung. Which of the following provides the vertebral attachment to the fascia present here?",
    "choices": [
      {
        "id": 1,
        "text": "C1"
      },
      {
        "id": 2,
        "text": "C2"
      },
      {
        "id": 3,
        "text": "C5"
      },
      {
        "id": 4,
        "text": "C7"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The stab injury penetrated the <strong>apex</strong> of the <strong>lung.</strong> It is covered by <strong>Sibson's fascia</strong>, also known as the suprapleural membrane. <strong>Attachment</strong> of Sibson's fascia is at vertebra <strong>C7.</strong></p>\n<p>Sibson's fascia is attached:</p>\n<ul>\n<li>Anteriorly to the inner border of the first rib</li>\n<li>Posteriorly to the anterior border of the transverse process of the C7 vertebra.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/18d7417bf3a74c1a96e44824c94a2becx1280x1352.JPEG"
    ]
  },
  {
    "text": "A man was brought to the emergency department after he fell into a manhole and injured his perineum. He was unable to pass urine and blood was seen at the tip of the urethra. A diagnosis of bulbar urethral injury was made.  Where do you least expect the urine to get collected in this case?",
    "choices": [
      {
        "id": 1,
        "text": "Perineum"
      },
      {
        "id": 2,
        "text": "Anterior abdominal wall"
      },
      {
        "id": 3,
        "text": "Medial portion of thigh"
      },
      {
        "id": 4,
        "text": "Root of scrotum"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>In <strong>bulbar</strong>\u00a0<strong>urethral injury</strong>, the\u00a0<strong>medial portion </strong>of the<strong> thigh</strong> is the <strong>least likely</strong> site for the collection of urine.</p>\n<p>The rupture of the urethra below the urogenital diaphragm will result in extravasation of urine into the\u00a0superficial perineal pouch, penis and scrotum in males and labia majora in females, and the anterior abdominal wall.</p>\n<p>The superficial fascia of the abdomen is divided below the umbilicus into a superficial fatty layer (fascia of Camper) and a deep membranous layer (fascia of Scarpa). <strong>Scarpa's fascia</strong> is <strong>continuous</strong> with the membranous layer of the superficial perineal fascia (<strong>Colles' fascia</strong>).\u00a0</p>\n<p>Colles' fascia is <strong>attached to</strong>\u00a0<strong>fascia lata</strong>\u00a0(the deep fascia of the thigh) along the\u00a0<strong>Holden's line\u00a0</strong>that extends from the pubic tubercle laterally for 8 cm. Extravasated\u00a0<strong>fluid cannot pass</strong> into the medial thigh below\u00a0Holden's line <strong>due to the firm attachment</strong> of Colles' fascia to the fascia lata.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4d27d6c98b794564b8b5e358d61af3c2x600x759.JPEG"
    ]
  },
  {
    "text": "Which of the following structure is a carcinoma head of the pancreas likely to invade if it extends posteriorly?",
    "choices": [
      {
        "id": 1,
        "text": "Right renal vein"
      },
      {
        "id": 2,
        "text": "Transverse colon"
      },
      {
        "id": 3,
        "text": "Aorta"
      },
      {
        "id": 4,
        "text": "Lesser sac"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The <strong>right renal vein\u00a0</strong>forms the <strong>posterior relation</strong> of the <strong>head of the pancreas. </strong>So it\u00a0is invaded by posterior expansion of the carcinoma of the head of the pancreas.</p>\n<p><strong>Relations of the head of the pancreas:</strong></p>\n<ul>\n<li><strong>Anterior</strong>:\n<ul>\n<li>1st part of the duodenum</li>\n<li>Origin of the transverse mesocolon</li>\n</ul>\n</li>\n<li><strong>Posterior:</strong>\n<ul>\n<li>Right renal vein</li>\n<li>Right renal artery</li>\n<li>Inferior vena cava</li>\n<li>Common bile duct (which is embedded in the head)</li>\n<li>Right crus of the diaphragm</li>\n<li>Termination of the right gonadal vein</li>\n</ul>\n</li>\n</ul>\n<p><strong>Relations of the neck of the pancreas:</strong></p>\n<ul>\n<li><strong>Anterior:</strong>\n<ul>\n<li>Lesser sac\u00a0</li>\n<li>pylorus</li>\n<li>The anterior superior pancreaticoduodenal branch of the gastroduodenal artery</li>\n</ul>\n</li>\n<li><strong>Posterior:</strong>\n<ul>\n<li>Portal vein</li>\n<li>Superior mesenteric vein</li>\n<li>Inferior mesenteric vein (in 1/3rd individuals)</li>\n</ul>\n</li>\n</ul>\n<p>Clinical note: <strong>Cancers</strong> arising from the head or neck of the pancreas are <strong>difficult to operate</strong> on due to the <strong>confluence</strong> <strong>of</strong> so many <strong>vessels</strong> near them. This also makes <strong>blood-borne spread faster</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/59209918479c454c9478edce5d72c882x600x685.JPEG"
    ]
  },
  {
    "text": "Identify the angle shown in the image below.",
    "choices": [
      {
        "id": 1,
        "text": "Renal angle"
      },
      {
        "id": 2,
        "text": "Costovertebral angle"
      },
      {
        "id": 3,
        "text": "Lumbar angle"
      },
      {
        "id": 4,
        "text": "Pyelovertebral angle"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The angle shown in the image is the&nbsp;<strong>costovertebral angle,&nbsp;</strong>formed between the&nbsp;<strong>lower border</strong> of the <strong>12<sup>th</sup> rib</strong> and the <strong>vertebral column.&nbsp;</strong></p>\n<p>Causes for&nbsp;pain/tenderness at the&nbsp;costovertebral angle include:</p>\n<ul>\n<li>Nephrolithiasis</li>\n<li>Pelviureteric junction obstruction</li>\n<li>Pyelonephritis</li>\n<li>Hemorrhagic fever with renal syndrome (HFRS) - caused by Hantavirus.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/4ca0822cd1ae4e42a7353c59a98b07e9.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2f24289536e8421eb1bcc9710bae5a15x600x774.JPEG"
    ]
  },
  {
    "text": "A middle-aged woman was undergoing cholecystectomy. During the procedure, the resident accidentally advanced the scissors along the epiploic foramen and worried she might have injured the structures around it. All are true about the boundaries of the epiploic foramen except:",
    "choices": [
      {
        "id": 1,
        "text": "Superiorly - Caudate lobe of liver"
      },
      {
        "id": 2,
        "text": "Anteriorly - Hepato duodenal ligament"
      },
      {
        "id": 3,
        "text": "Posteriorly -  Aorta and origin of celiac trunk"
      },
      {
        "id": 4,
        "text": "Inferiorly - 1st part of duodenum"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Posterior relation of epiploic foramen <strong>does not</strong> include aorta and origin of celiac trunk.</p>\n<p><strong>Epiploic foramen</strong> is posteriorly related to<strong> inferior vena cava</strong>,<strong> right suprarenal</strong> <strong>gland,</strong> and body of <strong>T12</strong> vertebra. Commencement of <strong>abdominal aorta</strong> and <strong>celiac trunk</strong> forms posterior relation of the <strong>lesser sac</strong> and not of Epiploic foramen.\u00a0</p>\n<p>The epiploic foramen (foramen of <strong>Winslow</strong> or aditus to the lesser sac) is a short vertical slit situated behind the free right border of the lesser omentum. It\u00a0<strong>connects</strong>\u00a0the\u00a0<strong>lesser sac</strong>\u00a0to the\u00a0<strong>greater</strong>\u00a0<strong>sac</strong>.</p>\n<p>Boundaries of epiploic foramen are:</p>\n<ul>\n<li>Anterior\u00a0\u2013<strong> Hepatoduodenal ligament</strong> containing hepatic artery, portal vein, bile duct.</li>\n<li>Posterior\u00a0\u2013 Body of T12 vertebra, Inferior vena cava, right adrenal gland.</li>\n<li>Superior\u00a0\u2013 <strong>Caudate lobe of the liver</strong>.</li>\n<li>Inferior\u00a0\u2013 <strong>First part of the duodenum</strong> and the horizontal part of the hepatic artery.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/bfd6d61468804612b89889b24ee5076fx1279x1333.JPEG"
    ]
  },
  {
    "text": "Which of the following arteries gives rise to helicine arteries of the penis?",
    "choices": [
      {
        "id": 1,
        "text": "Dorsal artery of the penis"
      },
      {
        "id": 2,
        "text": "Deep artery of the penis"
      },
      {
        "id": 3,
        "text": "Bulbourethral artery"
      },
      {
        "id": 4,
        "text": "Perineal artery"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The <strong>deep artery </strong>of the<strong> penis </strong>(cavernosal artery) gives rise to <strong>helicine arteries</strong> of the penis. They open up into the sinusoidal space of the <strong>corpora cavernosa</strong> and supply it.</p>\n<p>Blood supply of the penis:</p>\n<ul>\n<li>The external pudendal artery supplies the skin of the penis.</li>\n<li>The internal pudendal artery gives the following two branches:\n<ul>\n<li>Perineal artery - supplies the ischiocavernosus, bulbospongiosus and posterior scrotal surface.</li>\n<li>Common penile artery - divides into the following three branches and supplies the shaft of the penis.</li>\n</ul>\n</li>\n</ul>\n<table style=\"height: 112px; width: 522.984375px;\">\n<tbody>\n<tr style=\"height: 16px;\">\n<td style=\"width: 235px; height: 16px;\"><strong>Branches of the common penile artery</strong></td>\n<td style=\"width: 278.984375px; height: 16px;\"><strong>Structures supplied</strong></td>\n</tr>\n<tr style=\"height: 26px;\">\n<td style=\"width: 235px; height: 26px;\">Bulbourethral artery</td>\n<td style=\"width: 278.984375px; height: 26px;\">\n<p>Bulb of the penis</p>\n<p>Corpus spongiosum with the urethra</p>\n<p>Glans penis</p>\n</td>\n</tr>\n<tr style=\"height: 64px;\">\n<td style=\"width: 235px; height: 64px;\">\n<p>Deep artery of the penis (cavernosal artery)</p>\n</td>\n<td style=\"width: 278.984375px; height: 64px;\">\n<p>Corpora cavernosa</p>\n</td>\n</tr>\n<tr style=\"height: 82px;\">\n<td style=\"width: 235px; height: 82px;\">Dorsal artery of the penis</td>\n<td style=\"width: 278.984375px; height: 82px;\">\n<p>Glans penis</p>\n<p>Corpus spongiosum (through the circumferential branches)</p>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f31c09511e364e3c87a648d57a6e88a4x600x790.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3ad7aefb65c9486ea8d192a29ba0db46x600x603.JPEG"
    ]
  },
  {
    "text": "Which of the following does not form an anatomical boundary of the perineum?",
    "choices": [
      {
        "id": 1,
        "text": "Arcuate ligament of pubis"
      },
      {
        "id": 2,
        "text": "Sacrotuberous ligaments"
      },
      {
        "id": 3,
        "text": "Sacrospinous ligaments"
      },
      {
        "id": 4,
        "text": "Coccyx"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The sacrospinous ligament&nbsp;does not form an anatomical boundary of the perineum.</p>\n<p>The <strong>perineum</strong> is a diamond-shaped region that <strong>overlies</strong> the <strong>pelvic outlet.</strong></p>\n<p><strong>Boundaries</strong> <strong>of perineum:</strong></p>\n<ul>\n<li><strong>Anteriorly</strong>: Pubic symphysis and its arcuate ligament.</li>\n<li><strong>Posteriorly</strong>: Coccyx</li>\n<li><strong>Anterolaterally</strong>: Ischiopubic rami and the ischial tuberosities.</li>\n<li><strong>Posterolaterally</strong>: Sacrotuberous ligaments</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0c02a8af1f7447f7b3870e36b9c21ca1x1280x1700.JPEG"
    ]
  },
  {
    "text": "What type of bone is the patella?",
    "choices": [
      {
        "id": 1,
        "text": "Flat bone"
      },
      {
        "id": 2,
        "text": "Pneumatic bone"
      },
      {
        "id": 3,
        "text": "Sesamoid bone"
      },
      {
        "id": 4,
        "text": "Irregular bone"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The <strong>patella</strong> is an example of <strong>sesamoid</strong> bone, which is formed within the tendon of the&nbsp;<strong>quadriceps femoris muscle.</strong></p>\n<p>It is <strong>triangular</strong> in shape and lies in the patellofemoral groove. The <strong>apex</strong> is directed inferiorly which gives attachment to the <strong>patellar ligament</strong> and the <strong>base</strong> is directed superiorly which gives attachment to the <strong>quadriceps femoris</strong> muscle.</p>\n<p>Its convex anterior surface is perforated by numerous nutrient vessels and is <strong>separated from</strong> the <strong>skin </strong>by a <strong>prepatellar bursa</strong>. Its&nbsp;posterior surface has an oval articular area crossed by a smooth vertical ridge that fits into the intercondylar groove. This ridge divides the patellar articular area into medial and lateral facets. These facets articulate with the corresponding condyles of the femur.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1901f4b7fc544b1cb050fc31e6290718x599x490.JPEG"
    ]
  },
  {
    "text": "Which of the following statements is false about the ligaments of the hip joint?",
    "choices": [
      {
        "id": 1,
        "text": "Iliofemoral ligament is the strongest ligament of hip joint"
      },
      {
        "id": 2,
        "text": "Transverse acetabular ligament contains cartilage cells"
      },
      {
        "id": 3,
        "text": "Ischiofemoral fibers fuse with the zona orbicularis"
      },
      {
        "id": 4,
        "text": "Pubofemoral ligament is triangular in shape"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Transverse acetabular ligament does not contain cartilage cells. This ligament crosses the acetabular notch and continues peripherally with the labrum.&nbsp;</p>\n<p><strong>Ligaments</strong> of the <strong>hip joint</strong> are:</p>\n<ol>\n<li>Iliofemoral ligament - strongest ligament of hip joint</li>\n<li>Pubofemoral ligament - triangular in shape</li>\n<li>Ischiofemoral ligament - some fibers fuse with zona orbicularis and inferior fibers attach to the posterior circumference of femoral neck</li>\n<li>Transverse acetabular ligament - forms a foramen to allow vessels and nerves to enter the hip joint</li>\n<li>Ligament of head of femur - apex is attached to fovea and base is attached to the edges of acetabular notch</li>\n</ol>\n<p>The images given below show the ligaments of the hip joint.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/eca3305acde148d9ae9f23f28039799fx1280x1443.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/07d377da1ff64d90a02843ebd38358e3x600x621.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/eba491dde7884acaaa3b89778f7d0a32x600x648.JPEG"
    ]
  },
  {
    "text": "A 40-year-old woman presented with severe pain in the buttocks extending down the back of the right leg. MRI revealed inflammation of the piriformis muscle. Entrapment of which of the following nerves is likely to cause the given condition?",
    "choices": [
      {
        "id": 1,
        "text": "Obturator nerve"
      },
      {
        "id": 2,
        "text": "Superior gluteal nerve"
      },
      {
        "id": 3,
        "text": "Inferior gluteal nerve"
      },
      {
        "id": 4,
        "text": "Sciatic nerve"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The clinical features are suggestive of <strong>piriformis syndrome,</strong> which occurs due to the entrapment of the <strong>sciatic nerve.</strong></p>\n<p>It is triggered by sitting for a long time or running, climbing stairs, or applying firm <strong>pressure</strong> directly <strong>over</strong> the <strong>piriformis muscle.&nbsp;</strong>Early signs include <strong>pain, tingling,</strong> or <strong>numbness</strong> in the <strong>buttocks.</strong> Later it may lead to severe pain extending down the length of the sciatic nerve.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/66ed0f4956d84dfcaadbbb35b498f974x1280x1989.JPEG"
    ]
  },
  {
    "text": "In a patient, following venous cut down for access to the great saphenous vein, sensation over the medial side of the leg was lost. The affected nerve is a branch of which of the following nerves?",
    "choices": [
      {
        "id": 1,
        "text": "Obturator nerve"
      },
      {
        "id": 2,
        "text": "Posterior division of femoral nerve"
      },
      {
        "id": 3,
        "text": "Sural nerve"
      },
      {
        "id": 4,
        "text": "Anterior division of femoral nerve"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Loss of <strong>sensation </strong>of the <strong>medial side </strong>of the <strong>leg</strong>&nbsp;denotes injury to the <strong>saphenous nerve.</strong> It&nbsp;is a <strong>branch</strong> of the&nbsp;<strong>posterior division</strong> of&nbsp;the<strong> femoral nerve</strong>.</p>\n<p>The saphenous nerve is the&nbsp;<strong>largest cutaneous</strong> branch of the femoral nerve.</p>\n<p>It arises from the <strong>posterior division</strong> of the <strong>femoral nerve.</strong> In the femoral triangle, it lies lateral to the femoral artery. It then enters the adductor canal where it crosses anterior to the femoral artery to lie medial to it. It leaves the adductor canal by piercing the fascia lata between the gracilis and sartorius and supplies the skin over the patella.</p>\n<p>It then descends along the medial border of the tibia along <strong>with</strong> the<strong> long saphenous vein</strong> and supplies the skin on the <strong>medial side </strong>of the <strong>knee leg</strong> and<strong> foot&nbsp;</strong>as far as up to the first metatarsophalangeal joint.</p>\n<p>The images given below show the cutaneous innervation of the lower limb.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/dfde2b565bb340668bff7a7ed049329dx600x954.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2dc4d2f9c1bf47f587e3bb911e34a671x600x789.PNG"
    ]
  },
  {
    "text": "Which of the following statements is false about the inferior extensor retinaculum of the foot?",
    "choices": [
      {
        "id": 1,
        "text": "The upper band is attached to the lower end of the fibula"
      },
      {
        "id": 2,
        "text": "Y shaped"
      },
      {
        "id": 3,
        "text": "The lower band is attached to the deep fascia of sole"
      },
      {
        "id": 4,
        "text": "Laterally it is attached to calcaneum"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Upper band is attached to <strong>medial malleolus</strong>&nbsp;of the tibia and not fibula.</p>\n<p>Inferior extensor retinaculum:</p>\n<ul>\n<li>It is a <strong>Y-shaped band</strong> lying anterior to the ankle joint.</li>\n<li>The <strong>stem</strong> of the Y is at the lateral end and is attached to the upper surface of the calcaneus.</li>\n<li>The <strong>limbs</strong> of the Y are at the medial end. The proximal limb attaches to the medial malleolus and&nbsp;the distal limb blends with the plantar aponeurosis.</li>\n</ul>\n<p>Structures passing deep to retinaculum are:</p>\n<ul>\n<li>Peroneus tertius</li>\n<li><strong>Extensor digitorum longus</strong></li>\n<li><strong>Extensor hallucis longus</strong></li>\n<li><strong>Tibialis anterior</strong></li>\n<li>Anterior tibial vessels</li>\n<li><strong>Dorsalis pedis artery</strong></li>\n<li>Deep peroneal nerve</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/04178508cbcc4fc586c8f36ade556081x1280x1363.JPEG"
    ]
  },
  {
    "text": "A young patient presented with an itchy, rough rash with silvery scales along the extensor surface of her elbows, knees and scalp. Histopathological examination of the skin sample showed marked elongation and clubbing of the structure marked X in the given image. Identify the structure marked X.",
    "choices": [
      {
        "id": 1,
        "text": "Reticular dermis"
      },
      {
        "id": 2,
        "text": "Hair follicle"
      },
      {
        "id": 3,
        "text": "Papillary dermis"
      },
      {
        "id": 4,
        "text": "Epidermal pegs"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The clinical history is suggestive of <strong>psoriasis</strong> and the structure marked X are the <strong>epidermal pegs</strong> or <strong>Rete ridges,</strong> which are <strong>downward</strong> <strong>projections</strong> of the <strong>epidermis</strong> in the intervals between the dermal papillae.</p>\n<p>Histopathological examination of the skin in a case of psoriasis will show clubbing and elongation of the Rete ridges as shown in the given image.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/066959cf863e4ca2a5d4f06567620df9.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/933f2387100049a798bd599488f88fe5x1280x1418.JPEG"
    ]
  },
  {
    "text": "Which of the following statements is false regarding Cardiac jelly?",
    "choices": [
      {
        "id": 1,
        "text": "Forms myocardium"
      },
      {
        "id": 2,
        "text": "Found exterior to endocardium"
      },
      {
        "id": 3,
        "text": "Secreted by cardiac myocytes surrounding primitive heart tube"
      },
      {
        "id": 4,
        "text": "Transforms into connective tissue of the endocardium"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li>The cardiac jelly is a <strong>gelatinous substance</strong> present <strong>between the endocardium</strong> and <strong>myocardium</strong> of the embryonic heart that transforms into the connective tissue of the endocardium.</li>\n<li>The extracellular matrix of the heart or the <strong>cardiac jelly</strong>\u00a0is <strong>secreted by myocardium. </strong></li>\n<li>It promotes occlusion of the endocardial tubular lumen during myocardial contraction.</li>\n<li>It has been called a <strong>gelatinoreticulum</strong>, a <strong>myoepicardial reticulum</strong> and, more recently, the <strong>myocardial basement membrane</strong>.</li>\n<li>It is composed of <strong>hyaluronic acid</strong>, <strong>hyaluronidase</strong> and <strong>fibronectin</strong>, among other things.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/90085ef3d2a84c8a8224c1af65e544c9x1094x842.PNG"
    ]
  },
  {
    "text": "The nucleus indicated by the arrow shown in the longitudinal section of the nerve fibers in the image belongs to ______",
    "choices": [
      {
        "id": 1,
        "text": "Schwann cells"
      },
      {
        "id": 2,
        "text": "Smooth muscle cells"
      },
      {
        "id": 3,
        "text": "Fibroblasts of perineurium"
      },
      {
        "id": 4,
        "text": "Dorsal root (sensory) ganglion neurons"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image shows the nucleus of <strong>Schwann cells</strong>.</p>\n<p><strong>Nerve fibers</strong> (axons) in the peripheral nervous system may be myelinated or unmyelinated. The myelin sheath surrounding the myelinated nerve fibers is provided by the <strong>Schwann</strong> <strong>cells</strong>.\u00a0The cytoplasm and the nucleus of the Schwann cells are pushed to the periphery. Since each axon is surrounded by myelin sheaths provided by several axons, on H&amp;E staining, several nuclei of these Schwann\u00a0cells appear as basophilic structures on either side of the axon along its length.</p>\n<p><strong>Other options</strong>:</p>\n<ul>\n<li>In the question, it is already mentioned that the given section is of the nerve fiber. However, in case it is not mentioned, on H&amp;E stain the <strong>smooth</strong> <strong>muscle</strong> <strong>cells</strong> appear spindle-shaped, with a centrally placed, elongated nucleus.</li>\n<li><strong>The</strong> <strong>fibroblasts</strong> may be seen in the perineurium or endoneurium surrounding the bundles of nerve fibers. They are elongated and stain denser than the nuclei of Schwann cells.</li>\n<li><strong>The dorsal root ganglion</strong> consists of cell bodies of the neurons, with satellite cells.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/01ec4c111990456695397b5a7d8d994f.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following will you test in patients with median nerve injury at the wrist?",
    "choices": [
      {
        "id": 1,
        "text": "Contraction of flexor pollicis brevis"
      },
      {
        "id": 2,
        "text": "Loss of sensation of the palm"
      },
      {
        "id": 3,
        "text": "Contraction of abductor pollicis brevis"
      },
      {
        "id": 4,
        "text": "Loss of sensation on the ring finger"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Injury to the&nbsp;<strong>median nerve</strong> at the <strong>wrist</strong> is tested by <strong>contraction</strong> of the&nbsp;<strong>abductor pollicis brevis.&nbsp;</strong>Loss of thumb mobility and opposition (abductor&nbsp;pollicis brevis) is tested by <strong>pen test.&nbsp;</strong></p>\n<p>Option A: Paralysis of <strong>flexor pollicis brevis</strong> can occur in median nerve <strong>injury</strong> at the <strong>arm</strong> and <strong>elbow.</strong>&nbsp;<strong>Benediction hand sign </strong>(attempt to make a fist gives pointed index and middle finger) and&nbsp;<strong>Ochsner's clasping test </strong>(attempt to&nbsp;clasp both hands show&nbsp;pointing index finger) are used to test such injuries.</p>\n<p>The images below show the&nbsp;Benediction hand sign and&nbsp;Ochsner's clasping test.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/69526a82cd0c4671ab9f2c4d3cd069c2x1280x1442.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4a8a0fa0dbe046729f57315e6adb33bbx1280x1223.JPEG"
    ]
  },
  {
    "text": "Which of the following zones of the prostate primarily encircles the ejaculatory duct?",
    "choices": [
      {
        "id": 1,
        "text": "Fibromuscular zone"
      },
      {
        "id": 2,
        "text": "Transitional zone"
      },
      {
        "id": 3,
        "text": "Central zone"
      },
      {
        "id": 4,
        "text": "Peripheral zone"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The <strong>central zone</strong> of the prostate primarily surrounds the<strong> ejaculatory ducts.</strong></p>\n<p>The prostate has three distinct zones as follows:</p>\n<table style=\"height: 272px; width: 630.265625px;\">\n<tbody>\n<tr style=\"height: 26px;\">\n<td style=\"width: 150px; height: 26px;\"><strong>Zone</strong></td>\n<td style=\"width: 174px; height: 26px;\"><strong>Structures enclosed</strong></td>\n<td style=\"width: 290.265625px; height: 26px;\"><strong>Clinical significance</strong></td>\n</tr>\n<tr style=\"height: 31px;\">\n<td style=\"width: 150px; height: 31px;\">Transitional zone</td>\n<td style=\"width: 174px; height: 31px;\">Urethra&nbsp;</td>\n<td style=\"width: 290.265625px; height: 31px;\">Most common site for benign prostatic hyperplasia (BPH)</td>\n</tr>\n<tr style=\"height: 31px;\">\n<td style=\"width: 150px; height: 31px;\">Central zone</td>\n<td style=\"width: 174px; height: 31px;\">Ejaculatory ducts</td>\n<td style=\"width: 290.265625px; height: 31px;\">Rarely diseased</td>\n</tr>\n<tr style=\"height: 37.3125px;\">\n<td style=\"width: 150px; height: 37.3125px;\">Peripheral zone</td>\n<td style=\"width: 174px; height: 37.3125px;\">\n<p>Central and transitional zones</p>\n<p>Pre-prostatic urethra</p>\n</td>\n<td style=\"width: 290.265625px; height: 37.3125px;\">Most common site for prostatic carcinoma</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7f43fcb60b864aefa2be6884f5567ac9x600x568.JPEG"
    ]
  },
  {
    "text": "The urogenital ridge develops from which layer?",
    "choices": [
      {
        "id": 1,
        "text": "Paraxial mesoderm"
      },
      {
        "id": 2,
        "text": "Intermediate mesoderm"
      },
      {
        "id": 3,
        "text": "Lateral plate mesoderm"
      },
      {
        "id": 4,
        "text": "Extraembryonic mesoderm"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The <strong>urogenital ridge</strong> develops from the <strong>intermediate mesoderm</strong>.</p>\n<p>After the formation of the peritoneal cavity, the intermediate mesoderm is seen as a <strong>bulge</strong> in the <strong>posterior abdominal wall</strong>. This bulge\u00a0lateral to the attachment of the dorsal mesentery is known as the <strong>urogenital ridge</strong>.</p>\n<p>The urogenital ridge has 2 parts:</p>\n<ul>\n<li>The <strong>genital ridge</strong>, which is <strong>medial</strong> and gives rise to the genital system</li>\n<li>The <strong>nephrogenic cord</strong>, which is <strong>lateral</strong> and contributes to the urinary system</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/70678559e6654edc8d01a5c2e31db58dx600x519.JPEG",
      "https://trello.com/1/cards/66a0a42f1cb6bb65006ecf4e/attachments/66a0a43e7f01ad353ac9efad/previews/66a0a43f7f01ad353ac9efbd/download/111._MCQ_125899%2C_Anatomy.jpg"
    ]
  },
  {
    "text": "Area of the Internal capsule marked with an arrow in the diagram below contains ______",
    "choices": [
      {
        "id": 1,
        "text": "Corticonuclear fibres"
      },
      {
        "id": 2,
        "text": "Superior thalamic radiations"
      },
      {
        "id": 3,
        "text": "Anterior thalamic radiations"
      },
      {
        "id": 4,
        "text": "A and B"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Area marked is the <strong>Genu</strong> of Internal Capsule. Corticonuclear fibers (Corticobulbar fibers) and superior thalamic radiations both pass through the genu of the Internal capsule.</p>\n<p><strong>Internal capsule</strong></p>\n<ul>\n<li>It is a bundle of projection fibers that lie between the head of caudate nucleus and the thalamus.</li>\n<li>It connects cerebral cortex with subcortical centres in the thalamus.</li>\n<li>It can be divided into 5 parts namely the anterior limb, genu, posterior limb, retro lentiform part, sub lentiform part.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/2f2a6d00c91f4f568a28366ad1974214.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2159f59dd0f142fe9292d87d45874d84x1227x750.PNG"
    ]
  }
];
        let quizName = 'Anatomy St 2 (From Q-Bank)';
        const quizFilename = 'anatomy-st-2-from-q-bank-c07f7024.html';
        let hierarchy = ["Marrow", "NEET PG Test Series Subject Wise", "Year 2017 - 18"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>