<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>20 Organic Irritants - Plant And Animal Poisons - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / qBank / Forensic Medicine
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">26</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Which of the following plants is commonly referred to as poison hemlock?",
    "choices": [
      {
        "id": 1,
        "text": "Ricinus communis"
      },
      {
        "id": 2,
        "text": "Abrus precatorius"
      },
      {
        "id": 3,
        "text": "Conium maculatum"
      },
      {
        "id": 4,
        "text": "Nerium odorum"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Conium maculatum&nbsp;</strong>is commonly referred to as&nbsp;<strong>poison hemlock.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4e0309d88c1848acb807c588e89ee512x512x384.JPEG"
    ]
  },
  {
    "text": "A 5-year-old child dies after consuming poisoned hemlock by accident. What is the likely mechanism by which the death occurred in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Inhibition of cytochrome oxidase"
      },
      {
        "id": 2,
        "text": "Anticholinesterase activity"
      },
      {
        "id": 3,
        "text": "Inhibition of glycine reuptake"
      },
      {
        "id": 4,
        "text": "Overstimulation of nicotinic receptors"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Death</strong> from <strong>poison hemlock</strong> (<strong><em>Conium maculatum</em></strong>) occurs due to the\u00a0<strong>overstimulation</strong> of<strong> nicotinic receptors.\u00a0</strong></p>\n<p><strong>All parts</strong> of poison hemlock contain <strong>coniine</strong> and similar alkaloids that are structurally and functionally <strong>analogous</strong> to <strong>nicotine</strong>. The mechanism of poisoning is <strong>two-fold:</strong></p>\n<ul>\n<li><strong>Non depolarising muscle blockade </strong>at the neuromuscular junction leading to flaccid paralysis and respiratory paralysis.</li>\n<li><strong>Initial overstimulation</strong> followed by <strong>rapid depression\u00a0</strong>by the <strong>nicotinic receptors. </strong></li>\n</ul>\n<p>These cause symptoms such as salivation, mydriasis, initial tachycardia followed by bradycardia, coma and death. Typically, ingestion of poison hemlock is due to <strong>misidentification</strong> because of its similarity in appearance to <strong>wild carrots</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which among the following is not a cardiac poison?",
    "choices": [
      {
        "id": 1,
        "text": "Nicotiana tabacum"
      },
      {
        "id": 2,
        "text": "Nerium odorum"
      },
      {
        "id": 3,
        "text": "Cerbera thevetia"
      },
      {
        "id": 4,
        "text": "Cicuta maculate"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Cicuta maculate</strong> (<strong>water hemlock</strong>) is a <strong>convulsant</strong>, not a cardiac poison.</p>\n<p>The following are considered&nbsp;<strong>cardiac poisons:</strong></p>\n<ul>\n<li>Digitalis purpurea - contains digitoxin, digitalin, digitonin, and digoxin</li>\n<li>Nerium odorum (Oleander) - contains oleandroside (oleandrin) and nerioside (nerin) which resemble digitalis in action</li>\n<li>Cerbera thevetia (yellow oleander) - contains thevetin and thevetoxin, similar to digitalis in action.</li>\n<li>Cerbera odollam - closely related to cerebra thevetia</li>\n<li>Aconite - Aconitine is the major component</li>\n<li>Quinine</li>\n<li>Nicotine</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient is brought due to accidental exposure to the following plant roots while experimenting with herbs. Which of the following associated finding may be seen?",
    "choices": [
      {
        "id": 1,
        "text": "Hippus"
      },
      {
        "id": 2,
        "text": "Hunaan hand"
      },
      {
        "id": 3,
        "text": "Jamaican vomiting sickness"
      },
      {
        "id": 4,
        "text": "St Anthony's fire"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image shows roots resembling horseradish, suggestive of the <strong>aconite</strong> plant.&nbsp;<strong>Hippus&nbsp;</strong>is associated with&nbsp;<strong>aconite poisoning.&nbsp;</strong></p>\n<p>Hippus is an abnormal <strong>exaggeration</strong> of the rhythmic <strong>contraction</strong> and <strong>dilatation</strong> of the <strong>pupil</strong>, independent of changes in illumination or in fixation of the eyes.</p>\n<p><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;Poisoning with aconite has never been common. Most reported cases are accidental in nature, resulting from therapeutic misadventures. Aconite is used in herbal medicines, or to increase intoxicating effect of alcoholic beverages.&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:829,&quot;3&quot;:{&quot;1&quot;:0},&quot;5&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;6&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;7&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;8&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;11&quot;:4,&quot;12&quot;:0}\">Poisoning with aconite has never been common. Most reported cases are <strong>accidental</strong> in nature, resulting from therapeutic misadventures. Aconite is used in <strong>herbal medicines</strong>, or to increase the <strong>intoxicating effect</strong> of alcoholic beverages.</span></p>\n<p>Option B: <strong>Hunan hand</strong> is due to <strong>capsicum annum</strong>.&nbsp;<strong>Dermatitis</strong> and burning of <strong>hands</strong> and fingers known as Hunan hand. This is common among the <strong>pickle industry</strong> workers, who use their hands for handling <strong>chilly paste</strong> or powder for a prolonged period.</p>\n<p>Option C:<strong> Jamaican vomiting sickness</strong>, is a syndrome characterized by vomiting and hypoglycemia, seen in ingestion of the&nbsp;<strong>unripe ackee fruit.&nbsp;</strong></p>\n<p>Option D:<strong> St Anthony's fire&nbsp;</strong>is the burning pain seen in <strong>gangrene</strong> caused by&nbsp;<strong>ergot poisoning.&nbsp;</strong></p>\n<p>The image below is of horseradish, given for comparison.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3196df1d6c6b455dab8e2817edb0a72a.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e670be61d711425684446b0ee0b2cabex415x796.PNG"
    ]
  },
  {
    "text": "A person died after the consumption of seeds, which were found to be of the given plant. What is the main mechanism by which this plant poison acts?",
    "choices": [
      {
        "id": 1,
        "text": "Inhibition of protein synthesis"
      },
      {
        "id": 2,
        "text": "Stimulation of sodium channels"
      },
      {
        "id": 3,
        "text": "Direct cardiotoxicity"
      },
      {
        "id": 4,
        "text": "Anticholinesterase action"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image shown is of the&nbsp;<strong>Ricinus communis</strong> (castor oil) plant. Ricin acts by <strong>inhibiting protein synthesis.</strong></p>\n<p>The main <strong>toxic</strong> element of the castor oil plant is <strong>ricin</strong>, a toxalbumin. It exerts its toxicity by entering cells and inhibiting protein synthesis. The entire plant is toxic, but the <strong>seeds</strong> contain the <strong>highest</strong> amount of toxalbumin.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/de72795efc21446e89206431e2b2b81b.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A cattle poison named sui is associated with which of the following plant poisons?",
    "choices": [
      {
        "id": 1,
        "text": "Ricin communis"
      },
      {
        "id": 2,
        "text": "Croton tiglium"
      },
      {
        "id": 3,
        "text": "Semecarpus anacardium"
      },
      {
        "id": 4,
        "text": "Abrus precatorius"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Abrus precatorius&nbsp;</strong>is commonly used as a <strong>cattle poison</strong> in the form of <strong>suis</strong>.</p>\n<p><strong>Toxic principles</strong> of Abrus precatorius are:</p>\n<ul>\n<li>Abrin</li>\n<li>Abrine</li>\n<li>Abralin</li>\n</ul>\n<p><strong>Medicolegal importance -&nbsp;</strong>It is a commonly used <strong>cattle poison</strong> in Indian villages by injecting the seed extract into the animal in the form of certain fine <strong>needle-shaped</strong> structures known as sui (meaning needle in Hindi).</p>\n<p>These are prepared by mixing the seed extract with opium, datura, and spirit/water and then blended into a paste, shaped into fine needles dried in the sun, and used to kill cattle by driving it deep into the animal body by blowing through a hollow bamboo pipe.</p>\n<p>The image given below shows seeds of Abrus precatorius.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/62c241c49364473889ae9a718900d9ffx1280x960.JPEG"
    ]
  },
  {
    "text": "A man presents with multiple bruises over his left arm. He puts allegations that his neighbor assaulted him. You are suspecting malingering. Which of the following may have been used to simulate these bruises?",
    "choices": [
      {
        "id": 1,
        "text": "Ricinus communis"
      },
      {
        "id": 2,
        "text": "Semecarpus anacardium"
      },
      {
        "id": 3,
        "text": "Abrus precatorius"
      },
      {
        "id": 4,
        "text": "Croton tiglium"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong><em>Semecarpus anacardium</em>&nbsp;</strong>can be used to produce <strong>fake bruises</strong>.</p>\n<p>When the<strong> juice</strong> of the seed is applied to the skin, it causes <strong>irritation</strong>, <strong>itching,</strong> and a painful<strong> blister</strong>.&nbsp;The lesion resembles a bruise.</p>\n<p>The image shows Semecarpus anacardium seeds<strong>&nbsp;</strong>which<strong>&nbsp;</strong>are black, cone, or heart-shaped with a rough projection at the base.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/7d9d341f10d049a486935736bbff2c30x551x383.PNG"
    ]
  },
  {
    "text": "A patient presents to you with a history of having ingested one of the seeds shown in the image below. Which of the following is not true?",
    "choices": [
      {
        "id": 1,
        "text": "It acts by blocking the action of GABA in the spinal cord"
      },
      {
        "id": 2,
        "text": "Ingestion of one crushed seed causes fatality"
      },
      {
        "id": 3,
        "text": "Death is associated with postmortem caloricity"
      },
      {
        "id": 4,
        "text": "Person remains conscious till death"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image shows seeds of <em><strong>Strychnos-nux vomica </strong></em>which contains\u00a0<strong>strychnine</strong>. It is a competitive <strong>antagonist</strong> of <strong>glycine</strong> at the <strong>postsynaptic receptors</strong> in the <strong>motor neurons</strong> of the <strong>anterior horn</strong> of the spinal cord. This leads to increased activity in the motor neurons.\u00a0</p>\n<p>The fatal dose is 15-30 mg of strychnine or <strong>one crushed seed.\u00a0</strong>If death is preceded by a severe convulsion, as in strychnine poisoning, it causes an increase in the body temperature called\u00a0<strong>postmortem caloricity.\u00a0</strong></p>\n<p>The toxin<strong> strychnine\u00a0</strong>does not affect any receptors in the brain and the person remains <strong>conscious</strong> till death. Strychnine poisoning is characterized by\u00a0<strong>conscious seizures.\u00a0</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/28da31995d734b79823977bed702dd3a.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following is the characteristic clinical feature seen in a patient with aconite poisoning?",
    "choices": [
      {
        "id": 1,
        "text": "Nausea and vomiting"
      },
      {
        "id": 2,
        "text": "Hypotension and bradycardia"
      },
      {
        "id": 3,
        "text": "Tingling and numbness"
      },
      {
        "id": 4,
        "text": "Miosis and fasciculations"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The characteristic finding of <strong>aconite toxicity</strong> is&nbsp;<strong>numbness </strong>and<strong> tingling.</strong></p>\n<p>Aconite is also known as&nbsp;<strong>monk's hood&nbsp;</strong>or&nbsp;<strong>wolf's bane.&nbsp;</strong>The&nbsp;<strong>roots&nbsp;</strong>are the most poisonous part of the plant and are mistaken for&nbsp;<strong>horseradish root.</strong></p>\n<p><strong> The toxic</strong>&nbsp;principle is <strong>a</strong><strong>conitine.</strong>&nbsp;It&nbsp;acts on the<strong> voltage-sensitive sodium channels</strong> of the cell membranes of excitable tissues. Aconitine first stimulates and then <strong>paralyzes</strong> the peripheral terminations of sensory and secretory nerves, CNS, and nerves of the myocardium, skeletal and smooth muscles.</p>\n<p>Patients present mainly with a combination of gastrointestinal, cardiovascular, and neurological features.&nbsp;Numbness and tingling<strong>&nbsp;</strong>are characteristic features. The fatal period is 2-6 hours.</p>\n<p>Aconite is commonly used for <strong>homicidal poisoning</strong> because:</p>\n<ul>\n<li>Cheap and easily available</li>\n<li>Short fatal period</li>\n<li>Extremely unstable and destroyed by putrefaction</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 35-year-old man presented with cardiac dysrhythmia. On probing, he says he consumed the leaves of the plant shown in the image. What is the active principle of this plant?",
    "choices": [
      {
        "id": 1,
        "text": "Cerebra thevetia"
      },
      {
        "id": 2,
        "text": "Aconitine"
      },
      {
        "id": 3,
        "text": "Thevetoxin"
      },
      {
        "id": 4,
        "text": "Digitonin"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The plant in the image is <strong>Digitalis purpurea.</strong>&nbsp;Its&nbsp;<strong>active principle</strong> is <strong>digitonin</strong>.</p>\n<p>Digitalis purpurea contains digitoxin, digitalin, digitonin, and digoxin. It can cause <strong>cardiac dysrhythmia</strong> in acute toxicity.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d787930056ee4fe186df7c4e26ada0b7.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A woman presented with vomiting and diarrhea followed by chest pain and palpitations. Later, it was revealed that due to her unfaithfulness, her husband poisoned her with foxglove. Which of the following is the most specific treatment for this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Digoxin immune Fab"
      },
      {
        "id": 2,
        "text": "IV hydration"
      },
      {
        "id": 3,
        "text": "Atropine administration"
      },
      {
        "id": 4,
        "text": "Potassium supplementation"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong><em>Digitalis purpurea</em>&nbsp;</strong>is also known as <strong>foxglove</strong>. The most <strong>specific antidote</strong> for its poisoning is&nbsp;<strong>digoxin-immune Fab fragments.&nbsp;</strong></p>\n<p>Digitalis is a <strong>cardioactive steroid</strong> that acts by <strong>inhibiting</strong> the sodium/potassium (<strong>Na<sup>+</sup>-K<sup>+</sup></strong>)&nbsp;<strong>ATPase</strong> pump. Acute toxicity closely resembles that caused by digoxin and includes <strong>early GI symptoms</strong>,&nbsp;followed by <strong>cardiac dysrhythmias</strong>.</p>\n<p>Digoxin immune Fab fragments should be administered to those with serum <strong>potassium &gt;5 mEq/L</strong> in patients with acute toxicity.&nbsp;</p>\n<p>The following image shows the <em>Digitalis purpurea</em> plant.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/267aede590644f1fab241b69a1a53667x1280x1786.JPEG"
    ]
  },
  {
    "text": "Which of the following is incorrect regarding the image shown?",
    "choices": [
      {
        "id": 1,
        "text": "Only the roots of this plant are poisonous"
      },
      {
        "id": 2,
        "text": "Causes AV block"
      },
      {
        "id": 3,
        "text": "Drug of choice for poisoning is Atropine"
      },
      {
        "id": 4,
        "text": "Mitha zaher is one of the variety of this plant"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image is of\u00a0<strong>aconite.\u00a0All</strong><strong>\u00a0parts </strong>of this plant (especially the roots and seeds) are <strong>poisonous.</strong></p>\n<p>Varieties of this plant are monkhood,\u00a0<strong>mitha zaher</strong>, bish, and\u00a0bikh.</p>\n<p>It is a cardiac poison and causes <strong>AV block</strong>, bradycardia. <strong>Atropine</strong> is used in the treatment of its toxicity.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/40e962db75ee488b9b59860936e6db1f.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the plant which produces a deliriant toxin.",
    "choices": [
      {
        "id": 1,
        "text": "Erythroxylum cocca"
      },
      {
        "id": 2,
        "text": "Datura"
      },
      {
        "id": 3,
        "text": "Hyoscine"
      },
      {
        "id": 4,
        "text": "Digitalis purpura/cannabis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given plant is&nbsp;<strong><em>Erythroxylum cocca</em>.</strong></p>\n<p><strong>Cocaine</strong> is the principal alkaloid found in the cultivated varieties of coca.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/056e0f745fd64196aad71659b3f2b6ca.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 28-year-old man presented with dry mouth, urinary retention, and constipation after consuming an unknown substance. On examination, his PR - 110bpm, and his pupils were dilated. What did he most likely consume?",
    "choices": [
      {
        "id": 1,
        "text": "Heroin"
      },
      {
        "id": 2,
        "text": "Morphine"
      },
      {
        "id": 3,
        "text": "Malathion"
      },
      {
        "id": 4,
        "text": "Belladona"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given clinical scenario with&nbsp;<strong>dilatation</strong> of the <strong>pupil</strong> indicates&nbsp;<strong>Atropa belladonna</strong>&nbsp;consumption.</p>\n<p>Atropa Belladonna acts by <strong>inhibiting</strong> the <strong>muscarinic</strong> effects of acetylcholine. All the parts of the plants are toxic. The active principle is <strong>1-hyoscyamine.</strong></p>\n<p>Heroin, morphine, and malathion cause constriction of the pupil.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A woman had gone on a trip to West African countries. She ate some fruit while trying out the local cuisine. After some time she developed severe nausea and vomiting. She was taken to a nearby clinic and on examination her blood sugar levels were low. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Hippus"
      },
      {
        "id": 2,
        "text": "Jamaican vomiting sickness"
      },
      {
        "id": 3,
        "text": "Ophitoxemia"
      },
      {
        "id": 4,
        "text": "St. Anthony's fire"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario with<strong> hypoglycemia</strong>&nbsp;as the predominant feature is most likely&nbsp;<strong>Jamaican vomiting sickness</strong>.</p>\n<p><strong>Ackee fruit</strong> grows on the Blighia sapida tree, and it is a common ingredient in West African and Jamaican cuisine. <strong>Unripe ackee fruit</strong> contains heat-stable toxins <strong>hypoglycin A and B</strong>. The resulting clinical syndrome, which is characterized by severe <strong>vomiting </strong>and<strong> hypoglycemia</strong>, is <strong>Jamaican vomiting sickness.</strong></p>\n<p>Option A: Hippus is an abnormal&nbsp;exaggeration&nbsp;of the rhythmic&nbsp;contraction&nbsp;and&nbsp;dilatation&nbsp;of the&nbsp;pupil seen in aconite poisoning.</p>\n<p>Option C: Ophitoxemia is snake envenomation.</p>\n<p>Option D:&nbsp;St. Anthony's fire&nbsp;is the burning pain seen in&nbsp;gangrene&nbsp;caused by&nbsp;ergot poisoning.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 22-year-old man was using mushrooms for recreational purposes. On one of his bad days, he overdosed on them and presented to ER with symptoms of poisoning. What is the drug of choice for this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Physostigmine"
      },
      {
        "id": 2,
        "text": "Atropine"
      },
      {
        "id": 3,
        "text": "Adrenaline"
      },
      {
        "id": 4,
        "text": "Diazepam"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The drug of choice for <strong>mushroom poisoning</strong> is <strong>atropine</strong>.</p>\n<p><em>Stropharia semeglobata, Hypholoma fasciculare, </em>and<em> Lactarius vellereus</em> are among the poisonous varieties of mushrooms found in India. It presents with signs of <strong>parasympathetic excess </strong>and hence <strong>atropine</strong> is the <strong>drug of choice.</strong></p>\n<p>Atropine is of <strong>no value</strong> in the <strong>delayed onset</strong> of <strong>mushroom poisoning</strong> that occurs after ingestion of <strong>Amanita</strong> phyllodes.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 35-year-old male came to the OPD with complaints of an increase in his heart rate and palpitations. On examination, there was episodic tachycardia and occasional extrasystole. Ocular examination showed visual field defects. Which of the following is the likely cause?",
    "choices": [
      {
        "id": 1,
        "text": "Cocaine"
      },
      {
        "id": 2,
        "text": "Nicotine"
      },
      {
        "id": 3,
        "text": "Cannabis"
      },
      {
        "id": 4,
        "text": "Atropine"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario is suggestive of&nbsp;<strong>nicotine poisoning</strong>. &nbsp;</p>\n<p>Chronic poisoning of nicotine also known as nicotine addiction leads to a condition called<strong>&nbsp;tobacco heart.&nbsp;</strong>It is&nbsp;characterized by irregularities of the heart with occasional<strong> extrasystoles </strong>and<strong> angina</strong>. It also causes<strong> amblyopia </strong>and<strong> narrowing</strong> of the<strong> field of vision.</strong></p>\n<p>Effects on CVS and eyes by different poisons are given below:</p>\n<table style=\"width: 468px;\" border=\"0\">\n<tbody>\n<tr>\n<td style=\"width: 65px;\">Poison</td>\n<td style=\"width: 166px;\">Effect on CVS</td>\n<td style=\"width: 225px;\">Effect on ocular system</td>\n</tr>\n<tr>\n<td style=\"width: 65px;\">Cocaine</td>\n<td style=\"width: 166px;\">\n<ol>\n<li>Tachycardia</li>\n<li>Systemic arterial hypertension</li>\n<li>MI (due to coronary vasoconstriction)</li>\n<li>Tachyarrhythmias</li>\n<li>Dilated cardiomyopathy</li>\n<li>Aortic dissection &amp; rupture</li>\n</ol>\n</td>\n<td style=\"width: 225px;\">\n<ol>\n<li>Madarosis (Loss of eyebrow/eyelashes)</li>\n<li>Corneal abrasions/ulcerations</li>\n<li>CRAO</li>\n<li>Bilateral blindness</li>\n</ol>\n</td>\n</tr>\n<tr>\n<td style=\"width: 65px;\">Nicotine</td>\n<td style=\"width: 166px;\">\n<ol>\n<li>Irregularities of heart with occasional extrasystole</li>\n<li>Episodes of chest pain suggestive of angina</li>\n</ol>\n</td>\n<td style=\"width: 225px;\">\n<ol>\n<li>Amblyopia</li>\n<li>Narrowing of field of vision</li>\n<li>Blindness</li>\n</ol>\n</td>\n</tr>\n<tr>\n<td style=\"width: 65px;\">Cannabis</td>\n<td style=\"width: 166px;\">\n<ol>\n<li>Tachycardia</li>\n<li>Palpitation</li>\n<li>Hypertension</li>\n</ol>\n</td>\n<td style=\"width: 225px;\">\n<ol>\n<li>Bloodshot eyes (conjunctival congestions),</li>\n<li>Occasional mydriasis</li>\n<li>Nystagmus</li>\n</ol>\n</td>\n</tr>\n<tr>\n<td style=\"width: 65px;\">Atropine</td>\n<td style=\"width: 166px;\">\n<ol>\n<li>Tachycardia</li>\n<li>Arrhythmias</li>\n</ol>\n</td>\n<td style=\"width: 225px;\">\n<ol>\n<li>Dilated pupil (Mydriasis)</li>\n<li>Diplopia</li>\n</ol>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Common krait belongs to which of the following families?",
    "choices": [
      {
        "id": 1,
        "text": "Colubridae"
      },
      {
        "id": 2,
        "text": "Elapidae"
      },
      {
        "id": 3,
        "text": "Viperidae"
      },
      {
        "id": 4,
        "text": "Crotalinae"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Common krait</strong> belongs to the&nbsp;<strong>Elapidae</strong> family.</p>\n<table style=\"width: 330px; height: 198px;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"width: 100px;\"><strong>Family</strong></td>\n<td style=\"width: 77px;\"><strong>Species</strong></td>\n</tr>\n<tr>\n<td style=\"width: 100px;\">Colubridae</td>\n<td style=\"width: 77px;\">Boomslang&nbsp;<br />Keel snake<br /> Twig snake</td>\n</tr>\n<tr>\n<td style=\"width: 100px;\">Elapidae</td>\n<td style=\"width: 77px;\">\n<p>Cobra<br />Krait<br />Sea snakes</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 100px;\">Viperidae</td>\n<td style=\"width: 77px;\">\n<p>Pit viper<br />Russell's viper</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>Note:&nbsp;Crotalinae is a subfamily of Viperidae.&nbsp;<strong>Pit Viper</strong> belongs to the family <strong>Viperidae</strong> and the subfamily <strong>Crotalinae</strong>, so if the question is about Viper any of the two options can be selected as the correct answer based on the choices given in the question.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A scuba diver while on one of his adventures was bitten by a sea snake. What is the predominant feature of this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Muscle necrosis"
      },
      {
        "id": 2,
        "text": "Bleeding profusely"
      },
      {
        "id": 3,
        "text": "Muscle paralysis"
      },
      {
        "id": 4,
        "text": "Slurred speech"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The venom of sea snakes is <strong>myotoxic</strong>. Myotoxin causes&nbsp;a non-enzymatic mechanism that leads to severe <strong>muscle necrosis.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the following poisonous snakes.",
    "choices": [
      {
        "id": 1,
        "text": "1-b, 2-c, 3-d, 4-a"
      },
      {
        "id": 2,
        "text": "1-c, 2-d, 3-b, 4-a"
      },
      {
        "id": 3,
        "text": "1-b, 2-a, 3-d, 4-c"
      },
      {
        "id": 4,
        "text": "1-c, 2-d, 3-a, 4-b"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The correct match is:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/efda97f4c8494af4a5b6b1ddadb28d5c.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/55249b5ca72a4af382310f2f5621df51x1280x1516.JPEG"
    ]
  },
  {
    "text": "A patient has been bitten by a snake and the relatives have brought the snake with them. Which of the following findings will assure you that the snake is non-poisonous?",
    "choices": [
      {
        "id": 1,
        "text": "Long and canalized fangs"
      },
      {
        "id": 2,
        "text": "Compressed tail"
      },
      {
        "id": 3,
        "text": "Small head scaled"
      },
      {
        "id": 4,
        "text": "Incomplete belly scales"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Incomplete belly scales</strong> are usually seen in <strong>non-poisonous</strong> snakes.</p>\n<p>In poisonous snakes, belly scales are large and cover the entire belly.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following family of snakes can exert voluntary control over the injection of venom when biting?",
    "choices": [
      {
        "id": 1,
        "text": "Boidae"
      },
      {
        "id": 2,
        "text": "Elapidae"
      },
      {
        "id": 3,
        "text": "Colubridae"
      },
      {
        "id": 4,
        "text": "Pythonidae"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Snakes</strong> of the <strong>Elapidae</strong>&nbsp;family are found to be able to <strong>control</strong> the <strong>injection</strong> of <strong>venom</strong> when they are biting.</p>\n<p>Because of this, they can <strong>decide</strong> when to inject venom and when not to, this leads to the frequent occurrence of a <strong>dry bite</strong> in the case of Elapidae (they choose not to inject venom).</p>\n<p><strong>Crotalinae snakes</strong> (pit viper) which are part of the Viperidae family, also have <strong>voluntary control</strong> over the injection of venom and 25% of their bites are dry.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "While camping in a forest, your friend is bitten by a snake. You rush to provide first aid. Which of the following measures can be done in this scenario?",
    "choices": [
      {
        "id": 1,
        "text": "Suction and incision"
      },
      {
        "id": 2,
        "text": "Ice water immersion of the bitten limb"
      },
      {
        "id": 3,
        "text": "Application of torniquet"
      },
      {
        "id": 4,
        "text": "Application of constriction bands"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Constriction bands </strong>may be <strong>useful</strong>, especially when immediate medical care is not available.</p>\n<p>A <strong>constriction band</strong> is an elastic bandage or Penrose drain, thick rope, or piece of clothing wrapped circumferentially above the bite. It is applied with enough tension to <strong>restrict superficial venous </strong>and<strong> lymphatic flow</strong> while <strong>maintaining</strong> <strong>distal pulses</strong> and capillary filling.</p>\n<p>Measures that <strong>can be done</strong> in the case of snakebite:</p>\n<ul>\n<li>Apply firm pressure over the bitten area, which delays absorption of venom</li>\n<li>Pressure immobilization is recommended for elapid and sea-snake bites, but not for viper bites as it may cause local necrosis</li>\n<li>Clean the wound with soap and water, or iodine and cover with a sterile dressing&nbsp;</li>\n<li>Immediately apply a broad firm bandage (Sutherland wrap) on the bitten area and around the limb. As much of the limb should be bandaged as is possible. It should be tight enough to occlude the superficial venous and lymphatic return, but not the arterial or deep venous flow. A pressure of 50 to 70 mm Hg is maintained</li>\n<li>In bites on the trunk, head, or neck, apply firm pressure over the bitten area</li>\n<li>Immobilize the limb, as movement can accelerate the spread of venom</li>\n<li>Make the patient lie on one side in the recovery position so that the airway is clear, in case of vomiting or fainting</li>\n</ul>\n<p>Measures<strong> contraindicated</strong> in the case of <strong>snakebite:</strong></p>\n<ul>\n<li><strong>Suction</strong> and<strong> incision</strong> of the wound</li>\n<li>Electric shock treatment of wound site</li>\n<li><strong>Application of tourniquets</strong>&nbsp;because they obstruct arterial flow and cause ischemia</li>\n<li><strong>Ice water immersion</strong> of the bitten limb&nbsp;</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 44-year-old man presents with an erection of the penis for the past 5 hours. He says he was camping in a forest the night before and something must have bitten him. Which of the following is responsible for this?",
    "choices": [
      {
        "id": 1,
        "text": "Common krait"
      },
      {
        "id": 2,
        "text": "Spanish fly"
      },
      {
        "id": 3,
        "text": "Bee sting"
      },
      {
        "id": 4,
        "text": "Rattle snake"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given scenario with the persistent erection of the penis for &gt; 4 hours is indicative of&nbsp;<strong>priapism.&nbsp;</strong>It can&nbsp;occur with the bite or ingestion of the <strong>Spanish fly.</strong></p>\n<p>Spanish fly&nbsp;is&nbsp;<strong>green </strong>in color with<strong> shiny wings </strong>of the same color. <strong>Cantharidin</strong> is an animal poison produced by cantharides (Spanish fly or blister beetle). It causes <strong>vesicle</strong> or <strong>blister</strong> formation and <strong>priapism.</strong></p>\n<p>The insect as such or the powder of dried body has the toxic (active) principle<strong>&nbsp;</strong>cantharidin. The route of absorption is&nbsp;skin and other mucosal surfaces.</p>\n<p>The image given below shows cantharides/ Spanish fly/ blister beetle.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e3a46035253046ee9175f1154e3ae534x1280x684.JPEG"
    ]
  },
  {
    "text": "Which of the following acts as a physiological antidote to scorpion venom?",
    "choices": [
      {
        "id": 1,
        "text": "Physostigmine"
      },
      {
        "id": 2,
        "text": "Norepinephrine"
      },
      {
        "id": 3,
        "text": "Prazosin"
      },
      {
        "id": 4,
        "text": "Atropine"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Prazosin</strong> acts as a physiological antidote for <strong>scorpion venom.&nbsp;</strong></p>\n<p>The venom is a clear, colorless, proteinous toxalbumen, having a <strong>hemolytic</strong> and <strong>neurotoxic</strong> effect. Its toxicity is more than that of snakes, but only a small quantity is injected. The venom is a <strong>potent autonomic stimulator</strong>, resulting in the release of massive amounts of <strong>catecholamines</strong> from the adrenals.</p>\n<p>If the scorpion has <strong>hemolytic</strong> venom, the reaction is mainly local and simulates the viper snake bite. The scorpion sting will have only <strong>one hole</strong> in the center of the reddened area. The <strong>extremity</strong> will have <strong>edema, pain, and reddening</strong>. This usually lasts for one to two hours.</p>\n<p>The symptoms produced by a <strong>neurotoxic</strong> venom are similar to a cobra bite. There is usually <strong>no marked</strong> reaction in the <strong>local area</strong>. Nausea, vomiting, extreme restlessness, fever, various types of paralysis, cardiac arrhythmias, convulsions, coma, respiratory depression, and death may occur within hours from <strong>pulmonary edema</strong> or <strong>cardiac failure.</strong></p>\n<p><strong>Prazosin&nbsp;</strong>can <strong>counteract</strong> the <strong>alpha-adrenergic</strong> effects of autonomic stimulation, such as hypertension.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following statements are true about the given condition except:",
    "choices": [
      {
        "id": 1,
        "text": "Swabs should be taken immediately after moistening with sterile water"
      },
      {
        "id": 2,
        "text": "It is most commonly caused by incisors and canines"
      },
      {
        "id": 3,
        "text": "Photograph is taken with two scales at right angle to one another in the vertical plane"
      },
      {
        "id": 4,
        "text": "3D imaging is possible in the given condition"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above image shows a <strong>human</strong>&nbsp;<strong>bite mark</strong>. The <strong>photograph</strong> is taken with <strong>two scales</strong> at the <strong>right angle</strong> to one another in the <strong>horizontal plane</strong>.</p>\n<p>Human bites are usually semi-circular or <strong>crescentic</strong> caused by the front teeth (<strong>incisors, canine</strong>).</p>\n<p><strong>Swabs</strong> of bite marks should be taken <strong>immediately</strong> using a <strong>swab</strong> moistened with <strong>sterile water</strong>. A sample of the <strong>control area</strong> adjacent to the mark and of the <strong>victim's saliva</strong> should also be taken using <strong>swabs</strong> moistened with sterile water.</p>\n<p><strong>3D imaging</strong> is done in which the image is measurable with high precision.</p>\n<p>A plastic substance such as <strong>rubber</strong> is laid over the bite mark which produces a permanent <strong>negative cast.&nbsp;</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/2c5619bd2696407e838fc423d65b6f5b.PNG"
    ],
    "explanation_images": []
  }
];
        let quizName = '20 Organic Irritants - Plant And Animal Poisons';
        let hierarchy = ["Marrow", "qBank", "Forensic Medicine"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>