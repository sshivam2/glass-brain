<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recent Updates Test - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Mini Test Series / 2018-19
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">30</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "As per WHO 2017 Global Recommendation, the latest addition to the treatment of postpartum hemorrhage is:",
    "choices": [
      {
        "id": 1,
        "text": "Late cord clamping is recommended for all births"
      },
      {
        "id": 2,
        "text": "Oxytocin 10 U IV/IM is the recommended uterotonic drug in the prevention of PPH"
      },
      {
        "id": 3,
        "text": "Intravenous oxytocin alone is the recommended uterotonic drug for the treatment of PPH"
      },
      {
        "id": 4,
        "text": "Early use of intravenous tranexamic acid is recommended in all cases of PPH"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The latest update in treatment of Postpartum Hemorrhage (PPH) as per WHO 2017 Global recommendations is the early use of intravenous tranexamic acid (a competitive inhibitor of plasminogen activation) is recommended in all cases of PPH.</p>\n<p>PPH is the leading cause of maternal mortality worldwide and in India.</p>\n<p>WHO 2012 recommendations included a conditional recommendation to use TXA for treatment of PPH when uterotonics fail to control the bleeding or the bleeding is thought to be due to trauma.</p>\n<p>In 2017, WHO updated its 2012 PPH treatment recommendations to include use of TXA for treatment of PPH.</p>\n<p>WHO 2017 Global Recommendation, latest addition to the treatment of PPH:</p>\n<ul>\n<li>Early use of intravenous tranexamic acid (TXA) within <strong>3 hours</strong> of birth for women with clinically diagnosed postpartum haemorrhage (PPH).</li>\n<li>TXA should be used in <strong>all cases</strong> of PPH, regardless of the cause.</li>\n<li>TXA should be administered at a fixed dose of 1 g in 10 mL (<strong>100 mg/mL</strong>) IV at 1 mL per minute (i.e., administered over 10 minutes), with a second dose of 1 g IV if bleeding continues after 30 minutes.</li>\n<li>TXA should be administered via an <strong>IV route</strong> only for treatment of PPH.</li>\n</ul>\n<p>WHO recommendations for the prevention and treatment of postpartum haemorrhage (2012)</p>\n<ul>\n<li>Oxytocin (10 IU, IV/IM) is the recommended uterotonic drug for the <strong>prevention</strong> of PPH.</li>\n<li>Intravenous oxytocin alone is the recommended uterotonic drug for the <strong>treatment</strong> of PPH.</li>\n<li>If oxytocin is unavailable, other injectable uterotonics (ergometrine/methylergometrine or the fixed drug combination of oxytocin and ergometrine) or oral misoprostol (600 &micro;g) is recommended.</li>\n<li>Late cord clamping (performed after 1 to 3 minutes after birth) is recommended for all births.</li>\n<li>Controlled cord traction is the recommended method for removal of the placenta in caesarean section.</li>\n</ul>\n<p>In 2017, the results of World Maternal Antifibrinolytic Trial showed that early use of IV TXA (within 3 hours of birth and as soon as possible after onset of bleeding) reduces death due to bleeding in women with PPH, regardless of cause, and with no adverse maternal effects.&nbsp;In response to this new evidence,&nbsp;WHO updated its 2012 PPH treatment recommendations to include use of TXA for treatment of PPH. This recommendation supersedes the recommendation on TXA in the existing 2012 WHO recommendations for the prevention and treatment of PPH.&nbsp;The goals of the WHO 2017 recommendation on TXA for PPH treatment are to improve the quality of care for women with PPH and prevent maternal deaths due to PPH</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following drugs is currently approved for the treatment of small pox?",
    "choices": [
      {
        "id": 1,
        "text": "Tecovirimat"
      },
      {
        "id": 2,
        "text": "Lumacaftor"
      },
      {
        "id": 3,
        "text": "Pegvaliase"
      },
      {
        "id": 4,
        "text": "Apalutamide"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p style=\"text-align: left;\"><strong>Tecovirimat</strong>&nbsp;has been recently approved as a <strong>treatment of smallpox</strong>.</p>\n<p style=\"text-align: left;\">It was <strong>approved under the FDA's animal rule</strong>, which allows findings from animal studies to support an FDA approval when it is not feasible or ethical to conduct efficacy trials in humans.&nbsp;Cidofovir has also been approved by the FDA for smallpox under this rule.</p>\n<p style=\"text-align: left;\">Both these drugs are currently stockpiled by CDC&rsquo;s strategic national stockpile, which has the medical supplies required to protect the public in case of a public health emergency.</p>\n<p style=\"text-align: left;\">Tecovirimat could also be used under an investigational new drug (IND) protocol to<strong> treat</strong> <strong>adverse reactions from vaccinia</strong> vaccination.</p>\n<p style=\"text-align: left;\">Option B:&nbsp;<strong>Lumacaftor </strong>is a drug approved for<strong>&nbsp;cystic fibrosis.</strong></p>\n<p style=\"text-align: left;\">Option C:&nbsp;<strong>Pegvaliase</strong> has been approved for the treatment of<strong> phenylketonuria</strong> in adults.</p>\n<p style=\"text-align: left;\">Option D:&nbsp;<strong>Apalutamide</strong> is a nonsteroidal <strong>antiandrogen</strong> medication which is used in the treatment of prostate cancer. It is specifically indicated for use in conjunction with castration in the treatment of <strong>non-metastatic castration-resistant prostate cancer.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Histopathological findings of a lung tumor biopsy are shown below. Which of the following is the most sensitive and specific marker of this tumor?",
    "choices": [
      {
        "id": 1,
        "text": "P40"
      },
      {
        "id": 2,
        "text": "P63"
      },
      {
        "id": 3,
        "text": "P53"
      },
      {
        "id": 4,
        "text": "TTF-1"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given image shows<strong> keratin pearls</strong> and&nbsp;islands of large polygonal malignant cells. These as seen in <strong>squamous cell carcinoma</strong> of the lungs.&nbsp;<strong>P40</strong> is the most sensitive and specific marker for squamous cell carcinoma (SCC) of the lungs.</p>\n<p>Other markers include <strong>cytokeratin 5/6 </strong>and<strong> P63.</strong></p>\n<p><strong>TTF-1 </strong>and<strong> napsin-A</strong> are the markers for adenocarcinoma.</p>\n<div class=\"page\" title=\"Page 724\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Chromogranin, synaptophysin, </strong>and<strong> CD56</strong> are the markers for small cell lung carcinoma.</p>\n<p>Note: The 2015 World Health Organization Classification of Lung Tumors has made a&nbsp;recommendation that at least one antibody each for squamous (P40 or P63) and glandular&nbsp;(e.g. TTF-1) differentiation should be used for an initial workup. Thus a simple panel of TTF-1 and p40 may be able to classify most non-small cell carcinoma-not otherwise specified cases.</p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://upload.wikimedia.org/wikipedia/commons/e/e0/Lung_squamous_carcinoma_--_low_mag.jpg"
    ],
    "explanation_images": []
  },
  {
    "text": "According to ESC 2018 guidelines, blood pressure is classified as high normal if ______ (mmHg)",
    "choices": [
      {
        "id": 1,
        "text": "SBP 120-129 and DBP 85-89"
      },
      {
        "id": 2,
        "text": "SBP 130-139 and DBP 85-89"
      },
      {
        "id": 3,
        "text": "SBP 120-129 and DBP 80-84"
      },
      {
        "id": 4,
        "text": "SBP 130-139 and DBP 80-84"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>According to ESC guidelines, blood pressure is classified as high normal if SBP 130-139 mmHg and DBP 85-89 mmHg.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not a component of Polio Endgame Strategy 2019-2023 by WHO?",
    "choices": [
      {
        "id": 1,
        "text": "Stop all circulating vaccine-derived poliovirus (cVDPV) outbreaks within 120 days of detection"
      },
      {
        "id": 2,
        "text": "Separation of polio surveillance and vaccine preventable disease surveillance"
      },
      {
        "id": 3,
        "text": "Certify eradication of Wild Poliovirus (WPV)"
      },
      {
        "id": 4,
        "text": "Interrupt transmission of all wild poliovirus (WPV)"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Integration,&nbsp;</strong>not separation, of polio surveillance with vaccine-preventable disease (VPD) surveillance, is a part of <strong>Polio Endgame Strategy 2019-2023.</strong></p>\n<p><span style=\"text-decoration: underline;\">Goals of the Polio Endgame Strategy 2019&ndash;2023</span></p>\n<p><strong>Goal One: Eradication </strong></p>\n<ul>\n<li>Interrupt transmission of all wild poliovirus (WPV)</li>\n<li>Stop all circulating vaccine-derived poliovirus (cVDPV) outbreaks within 120 days of detection and eliminate the risk of emergence of future VDPVs</li>\n</ul>\n<p><strong>Goal two: Integration</strong></p>\n<ul>\n<li>Contribute to strengthening immunization and health systems to help achieve and sustain polio eradication</li>\n<li>Ensure sensitive poliovirus surveillance through integration with comprehensive vaccine-preventable disease (VPD) and communicable disease surveillance systems</li>\n<li>Prepare for and respond to future outbreaks and emergencies</li>\n</ul>\n<p><strong>Goal Three: Certification &amp; Containment</strong></p>\n<ul>\n<li>Certify eradication of WPV</li>\n<li>Contain all polioviruses</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A man is convicted for the offense of rape. Which section of the BNS lays down punishment for the same?",
    "choices": [
      {
        "id": 1,
        "text": "Section 63 (IPC 375)"
      },
      {
        "id": 2,
        "text": "Section 64 (IPC 376)"
      },
      {
        "id": 3,
        "text": "Section 72 (IPC 228A)"
      },
      {
        "id": 4,
        "text": "Section 75 (IPC 354A)"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Section 64 of the BNS </strong>(IPC 376) lays down the <strong>punishment</strong> for the offense of <strong>rape</strong>.\u00a0\u00a0</p>\n<p>Section 64 (1) of the BNS outlines the punishment for rape and section 64 (2) outlines the punishment for rape in custody/rape by a person in a position of authority or trust.</p>\n<p><strong>Section 63</strong> of the BNS (IPC 375) outlines the <strong>definition of rape</strong>.</p>\n<p><strong>Section 72</strong> of the BNS (IPC 228A) deals with the <strong>disclosure of a rape victim's identity</strong>.</p>\n<p><strong>Section 75</strong> of the BNS (IPC 354A) deals with <strong>sexual harassment</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which monoclonal antibody is approved for use in HIV-1?",
    "choices": [
      {
        "id": 1,
        "text": "Ixekizumab"
      },
      {
        "id": 2,
        "text": "Ibalizumab"
      },
      {
        "id": 3,
        "text": "Idarucizumab"
      },
      {
        "id": 4,
        "text": "Ipilimumab"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p style=\"text-align: justify;\"><strong>Ibalizumab</strong>\u00a0is a monoclonal antibody approved for use in the treatment of <strong>resistant HIV-1 infections</strong>.\u00a0</p>\n<p style=\"text-align: justify;\">Ibalizumab blocks HIV-1 from infecting CD4+ T cells by binding to domain 2 of CD4 cells. It also interferes with post-attachment steps required for the entry of HIV-1 virus particles into host cells and thus prevents the viral transmission that occurs via cell-cell fusion.</p>\n<p style=\"text-align: justify;\">Option A: Ixekizumab is an <strong>IL-17A antagonist</strong> indicated in moderate to <strong>severe plaque psoriasis</strong>.\u00a0</p>\n<p style=\"text-align: justify;\">Option C: Idarucizumab is a <strong>reversal</strong> agent for <strong>dabigatran</strong>.</p>\n<p style=\"text-align: justify;\">Option D: Ipilimumab is a monoclonal antibody <strong>against CTLA-4</strong> and acts as an immune checkpoint inhibitor.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with rheumatoid arthritis has inadequate disease control with methotrexate. Which Janus kinase inhibitor can you add to his treatment regimen?",
    "choices": [
      {
        "id": 1,
        "text": "Ruxolitinib"
      },
      {
        "id": 2,
        "text": "Baricitinib"
      },
      {
        "id": 3,
        "text": "Dasatinib"
      },
      {
        "id": 4,
        "text": "Ponatinib"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p style=\"text-align: justify;\"><strong>Baricitinib</strong> is a<strong> Janus kinase inhibitor</strong> approved for use in <strong>rheumatoid arthritis</strong>.&nbsp;</p>\n<p style=\"text-align: justify;\">Oral Janus kinase inhibitors for rheumatoid arthritis are:</p>\n<ul style=\"text-align: justify;\">\n<li>Baricitinib&nbsp;</li>\n<li>Tofacitinib&nbsp;</li>\n</ul>\n<p style=\"text-align: justify;\">Option A: <strong>Ruxolitinib</strong> is a <strong>Janus kinase inhibitor</strong> approved for use in various forms of <strong>myelofibrosis</strong>, <strong>polycythemia vera</strong> and acute graft vs host disease.</p>\n<p style=\"text-align: justify;\">Options C and D: Dasatinib and ponatinib are <strong>BCR-ABL tyrosine kinase inhibitors</strong> indicated for CML.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Nonpeptide oral GnRH antagonist that is recently approved for endometriosis treatment is:",
    "choices": [
      {
        "id": 1,
        "text": "Cetrorelix"
      },
      {
        "id": 2,
        "text": "Hysteroscopy"
      },
      {
        "id": 3,
        "text": "Ganirelix"
      },
      {
        "id": 4,
        "text": "Elagolix"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>A new agent, <strong>elagolix&nbsp;</strong>sodium (orilissa), is a nonpeptide oral GnRH antagonist that is recently approved by FDA for&nbsp;the management of moderate to severe pain associated with endometriosis.</p>\n<ul>\n<li>GnRH antagonists, cetrorelix and ganirelix, are currently FDA approved for infertility use in women undergoing controlled ovarian hyperstimulation</li>\n<li>However, a limitation of these drugs is that they are daily injectables. Also, a depot form of cetrorelix did not provide adequate or consistent suppression of estrogen production or leiomyoma growth.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The only FDA approved drug for primary progressive multiple sclerosis is _________.",
    "choices": [
      {
        "id": 1,
        "text": "Ocrelizumab"
      },
      {
        "id": 2,
        "text": "Natalizumab"
      },
      {
        "id": 3,
        "text": "Alemtuzumab"
      },
      {
        "id": 4,
        "text": "Glatimer acetate"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Ocrelizumab is the only FDA approved drug (2017) for the treatment of primary progressive multiple sclerosis <strong>(PPMS</strong>)</p>\n<ul>\n<li><strong>Natalizumab</strong> is FDA approved for the treatment of relapsing remitting multiple sclerosis (<strong>RRMS</strong>) and <strong>Crohn&rsquo;s disease</strong>. It increases the risk of Progressive multifocal leukoencephalopathy(<strong>PML</strong>).</li>\n<li><strong>Alemtuzumab</strong> is also FDA approved for relapsing forms of MS. It contains a black box warning for serious fatal autoimmune conditions.</li>\n<li><strong>Glatimer acetate</strong> is found to be effective in <strong>RRMS</strong>.</li>\n</ul>\n<p>Treatment of multiple sclerosis:</p>\n<ul>\n<li>Glucocorticoids are used to manage either first attacks or acute exacerbations. Intravenous methylprednisolone, 500&ndash;1000 mg/d for 3&ndash;5 days, followed by a course of oral prednisone beginning at a dose of 60&ndash;80 mg/d and gradually tapered over 2 weeks is given. They reduce the severity and shorten the duration of attacks.</li>\n</ul>\n<ul>\n<li>Disease modifying therapies for relapsing forms of multiple sclerosis are:\n<ol>\n<li><strong>IFN-&beta;-1a</strong> (Avonex)</li>\n<li><strong>IFN-&beta;-1a</strong> (Rebif)</li>\n<li>IFN-&beta;-1b (Betaseron or Extavia)</li>\n<li><strong>Glatiramer acetate</strong></li>\n<li><strong>Natalizumab</strong></li>\n<li>Fingolimod</li>\n<li>Dimethyl fumarate</li>\n<li>Teriflunomide</li>\n<li>Mitoxantrone</li>\n<li>Alemtuzumab</li>\n</ol>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The most effective bariatric surgery for morbid obesity among  the following options is:",
    "choices": [
      {
        "id": 1,
        "text": "Gastric bypass"
      },
      {
        "id": 2,
        "text": "Sleeve gastrectomy"
      },
      {
        "id": 3,
        "text": "Biliopancreatic diversion"
      },
      {
        "id": 4,
        "text": "Laproscopic adjustable gastric banding"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The most effective bariatric surgery for morbid obesity among the following options is biliopancreatic diversion.</p>\n<p>Following table represents Malabsorption,percent excess weight loss and diabetic remission after various bariartic surgery:</p>\n<table style=\"height: 224px;\" border=\"1\" width=\"518\">\n<tbody>\n<tr>\n<td style=\"width: 178px;\">\u00a0</td>\n<td style=\"width: 114px;\">Protein/calorie\u00a0 malabsorption</td>\n<td style=\"width: 74px;\">3year %EWL</td>\n<td style=\"width: 124px;\"><strong>3year%diabetes remission</strong></td>\n</tr>\n<tr>\n<td style=\"width: 178px;\">Gastric band</td>\n<td style=\"width: 114px;\">No</td>\n<td style=\"width: 74px;\">40-50%</td>\n<td style=\"width: 124px;\">20%</td>\n</tr>\n<tr>\n<td style=\"width: 178px;\">Gastric bypass</td>\n<td style=\"width: 114px;\">No</td>\n<td style=\"width: 74px;\">50-60%</td>\n<td style=\"width: 124px;\">50%</td>\n</tr>\n<tr>\n<td style=\"width: 178px;\">Sleeve gastrectomy</td>\n<td style=\"width: 114px;\">No</td>\n<td style=\"width: 74px;\">50-60%</td>\n<td style=\"width: 124px;\">50%</td>\n</tr>\n<tr>\n<td style=\"width: 178px;\">Bilio pancreatic diversion/Duodenal switch</td>\n<td style=\"width: 114px;\">Yes</td>\n<td style=\"width: 74px;\">70-80%</td>\n<td style=\"width: 124px;\">80%</td>\n</tr>\n</tbody>\n</table>\n<p>%EWL =Excess weight lost above a notional upper normal BMI of 25.</p>\n<p>Laproscopic adjustable gastric banding is the safest and reversible bariatric surgery.</p>\n<p><strong>Bariatric surgery:</strong></p>\n<p>Indications:</p>\n<ul>\n<li>Patients with BMI greater than equal to 40kg/m2 regardless of comorbidity.</li>\n<li>Patients with BMI greater or equal to 35 kg/m2 with comorbidity.\n<p><strong>\u00a0Restrictive\u00a0 Bariatric surgeries</strong></p>\n<ul>\n<li>Laparoscopic adjustable gastric banding</li>\n<li>Laparoscopic sleeve gastrectomy</li>\n</ul>\n<p><strong>\u00a0Restrictive</strong>\u00a0<strong>and\u00a0malabsorptive bypass surgeries</strong></p>\n<ul>\n<li>Roux-en-Y gastric bypass - M/C bypass procedure(Largely restrictive/Mildly malabsorptive)</li>\n<li>Biliopancreatic diversion(Largely malabsorptive /Mildly restrictive)</li>\n<li>Biliopancreatic diversion with duodenal switch (Largely malabsorptive /Mildly restrictive)</li>\n</ul>\n</li>\n</ul>\n<p>\u00a0</p>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "According to the Tokyo Consensus Guidelines for grading the severity of acute cholecystitis, which of the following conditions is classified under moderate (Grade II) acute cholecystitis?",
    "choices": [
      {
        "id": 1,
        "text": "Presence of cardiovascular dysfunction"
      },
      {
        "id": 2,
        "text": "WBC count > 12000/mm3"
      },
      {
        "id": 3,
        "text": "Right upper quadrant pain"
      },
      {
        "id": 4,
        "text": "Duration of complaints >72 hours"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>If the duration of complaints is <strong>&gt;72 hours</strong>,&nbsp;the patient is classified as having <strong>moderate (Grade II) acute cholecystitis.</strong></p>\n<table style=\"height: 342px; width: 547px;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"width: 533px;\" colspan=\"2\"><strong><strong>Tokyo Consensus Guidelines for&nbsp;</strong></strong><strong>grading the severity of acute cholecystitis</strong></td>\n</tr>\n<tr>\n<td style=\"width: 533px; text-align: center;\" colspan=\"2\"><strong>Grade III (severe) acute cholecystitis</strong></td>\n</tr>\n<tr>\n<td style=\"width: 533px;\" colspan=\"2\">Associated with organ dysfunction</td>\n</tr>\n<tr>\n<td style=\"width: 259px;\">1. Cardiovascular dysfunction</td>\n<td style=\"width: 274px;\"><strong>Hypotension*</strong> requiring treatment with dopamine <strong>&gt;5 mcg/kg/min</strong>, or any dose of noradrenaline</td>\n</tr>\n<tr>\n<td style=\"width: 259px;\">2. Neurological dysfunction</td>\n<td style=\"width: 274px;\">Decreased level of consciousness</td>\n</tr>\n<tr>\n<td style=\"width: 259px;\">3. Respiratory dysfunction</td>\n<td style=\"width: 274px;\">PaO<sub>2</sub>/FiO<sub>2</sub>&nbsp;ratio &lt;300</td>\n</tr>\n<tr>\n<td style=\"width: 259px;\">4. Renal dysfunction</td>\n<td style=\"width: 274px;\">Oliguria; serum creatinine &gt;2 mg/dL</td>\n</tr>\n<tr>\n<td style=\"width: 259px;\">5. Hepatic dysfunction</td>\n<td style=\"width: 274px;\">Prothrombin time (PT-INR)&gt;1.5</td>\n</tr>\n<tr>\n<td style=\"width: 259px;\">6. Hematological dysfunction&nbsp;</td>\n<td style=\"width: 274px;\">Platelet count, &lt;100,000/mm<sup>3</sup></td>\n</tr>\n<tr>\n<td style=\"width: 533px; text-align: center;\" colspan=\"2\"><strong>Grade II (moderate) acute cholecystitis</strong></td>\n</tr>\n<tr>\n<td style=\"width: 533px;\" colspan=\"2\">\n<p>Associated with dysfunction of any one of the following:</p>\n<ol>\n<li style=\"text-align: left;\">Elevated white blood cell count (&gt;18,000/mm<sup>3</sup>)</li>\n<li>Palpable tender mass in the right upper abdominal quadrant</li>\n<li>Duration of complaints &gt;72 hours</li>\n<li>Marked local inflammation (gangrenous cholecystitis, pericholecystic abscess, hepatic abscess, biliary peritonitis, emphysematous cholecystitis)</li>\n</ol>\n</td>\n</tr>\n<tr>\n<td style=\"width: 533px; text-align: center;\" colspan=\"2\"><strong>Grade I (mild) acute cholecystitis&nbsp;</strong></td>\n</tr>\n<tr>\n<td style=\"width: 533px;\" colspan=\"2\">\n<p>Does not meet the criteria of grade II or III acute cholecystitis.</p>\n<p>Acute cholecystitis in a healthy person with no organ dysfunction and mild inflammatory changes in the gall bladder, making cholecystectomy a safe and low-risk operative procedure.</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p><br />Acute cholecystitis is treated by keeping the patient <strong>nil per oral (NPO)</strong>, administering&nbsp;<strong>intravenous fluids</strong>,&nbsp;<strong>analgesics</strong>, and <strong>IV&nbsp;antibiotics</strong>.</p>\n<p>The timing of surgery in acute cholecystitis remains controversial:</p>\n<ul>\n<li>If the patient presents <strong>within 3 days</strong>, <strong>emergency cholecystectomy</strong> is done.</li>\n<li>If the patient presents <strong>after 3 days</strong>, <strong>conservative management</strong> is done initially. Once the inflammation subsides, cholecystectomy is performed after 6 weeks (<strong>interval cholecystectomy</strong>).</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not included in the Mental Healthcare Act of 2017?",
    "choices": [
      {
        "id": 1,
        "text": "Advance directive rights of the mentally ill"
      },
      {
        "id": 2,
        "text": "Decriminalizing suicide"
      },
      {
        "id": 3,
        "text": "Establishing mobile mental health camps"
      },
      {
        "id": 4,
        "text": "Procedure for admission, treatment and discharge of the mentally ill"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Establishing mobile mental health camps for the benefit of&nbsp;mentally ill patients is not included under the <strong>Mental Healthcare Act of 2017</strong>.</p>\n<p>This act encourages the mobilization of resources to improve mental health care across the country as well as <strong>reduce stigma</strong> and improve social inclusion/support for those with mental illness. It also has provisions to improve outcomes and <strong>protect their rights</strong>.</p>\n<p>The<strong>&nbsp;</strong>provisions of this act include:</p>\n<ul>\n<li>Rights of persons&nbsp;with mental illness to <strong>access&nbsp;</strong><strong>health care</strong>, live without discrimination and enjoy <strong>confidentiality</strong>.</li>\n<li><strong>Advance directives&nbsp;</strong>to allow&nbsp;mentally ill people to make decisions about their treatment&nbsp;</li>\n<li>Procedures&nbsp;for admission, treatment (behavioral and <strong>interpersonal</strong> <strong>therapy</strong>, medications), and discharge&nbsp;</li>\n<li><strong>Decriminalizing</strong>&nbsp;<strong>suicide&nbsp;</strong>and prohibiting electroconvulsive therapy unless anesthesia is used</li>\n</ul>\n<p>The act also has clear instructions for the central and state mental health authorities and other mental health establishments on their endeavors.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The percentage of immature erythroid precursors required to diagnose pure erythroid leukaemia is _________.",
    "choices": [
      {
        "id": 1,
        "text": ">20%"
      },
      {
        "id": 2,
        "text": ">30%"
      },
      {
        "id": 3,
        "text": ">50%"
      },
      {
        "id": 4,
        "text": ">80%"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Pure erythroid leukemia</strong> or acute myeloid leukemia (AML) NOS, acute erythroid leukemia can be diagnosed if <strong>&gt;80% of the bone marrow cells are erythroid</strong>, with &gt;=30% proerythroblasts and no evidence of a significant myeloblastic component.</p>\n<div class=\"page\" title=\"Page 159\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Previously, cases were classified as erythroleukemia (erythroid/myeloid type) on the basis of counting myeloblasts as a percentage of non-erythroid cells when erythroid precursor cells constituted &gt;50% of the marrow cells.</p>\n<p>Such cases are now classified as</p>\n<ul>\n<li><strong> MDS with excess blasts,</strong> if myeloblasts constitute &lt;20% of all marrow or blood cells</li>\n<li><strong>Acute myeloid leukemia (AML) with myelodysplasia-related changes,</strong> if myeloblasts constitute &gt;=20% of the cells, irrespective of the erythroid precursor cell count.</li>\n</ul>\n<p><strong>Note:</strong> AML with myelodysplasia-related changes requires &gt;20% myeloblasts, whereas the neoplastic cells in pure erythroid leukaemia are erythroblasts.</p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 10-year-old girl has just started menstruating. Under which of the following national programmes, she will be provided with a pack of sanitary napkins by the ASHA worker in her village?",
    "choices": [
      {
        "id": 1,
        "text": "Janani Suraksha Yojana"
      },
      {
        "id": 2,
        "text": "Rashtriya Kishor Swasthya Karyakram"
      },
      {
        "id": 3,
        "text": "Sukanya Samriddhi Yojana"
      },
      {
        "id": 4,
        "text": "Kishori Shakti Yojana"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The girl will be provided with a pack of 6 sanitary napkins for 6 Rupees (called <strong>Freedays</strong>) by the ASHA worker through the <strong>Menstrual Hygiene Scheme</strong> under the <strong>Rashtriya Kishor Swasthya Karyakram (RKSK).</strong></p>\n<p>RKSK focuses on:</p>\n<ul>\n<li>Development of adolescent population (10-19 years).</li>\n<li>Weekly Iron and Folic Acid supplementation (100mg Fe + 500 mcg Folic Acid)</li>\n<li>Menstrual hygiene: A&nbsp;pack of 6 sanitary napkins for 6 Rupees (called <strong>Freedays</strong>) by the ASHA.</li>\n<li>It also includes enhancement of mental health and prevention of substance abuse and violence.</li>\n</ul>\n<p><strong>Sukanya Samriddhi Yojana&nbsp;</strong>is a government-sponsored <strong>savings program</strong> for parents of girl children &lt;10 years age.&nbsp;It helps parents to set aside money for their female child&rsquo;s potential <strong>college and marriage expenses</strong> by opening an account at any post office branch or any commercial bank approved by the central government.</p>\n<p><strong>Kishori Shakti Yojana</strong> (KSY) seeks to <strong>empower adolescent girls</strong>, so as to enable them to take charge of their lives.&nbsp;The objectives are to:</p>\n<ul>\n<li>improve the nutritional, health and development status of adolescent girls</li>\n<li>promote awareness of health, hygiene, nutrition and family care</li>\n<li>opportunities for learning life skills</li>\n<li>going back to school</li>\n<li>help them gain a better understanding of their social environment</li>\n<li>take initiatives to become productive members of society.</li>\n</ul>\n<p><strong>Recent update:</strong>&nbsp;Department of Pharmaceuticals under Ministry of Chemicals and Fertilizers has recently launched<strong> &lsquo;Suvidha&rsquo;</strong>&nbsp;(<strong>100% Oxo-biodegradable Sanitary Napkin),</strong>&nbsp;under the <strong>Pradhan Mantri Bhartiya Janaushadhi Pariyojana (PMBJP) </strong>on World menstrual hygiene day.<strong>&nbsp;</strong>&lsquo;Swachhta, Swasthya and Suvidha&rsquo;&nbsp;will be available for Rs. 1 per pad over 3200 Janaushadhi Kendras for the underprivileged women of India.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/068ec92f207f4c09800d45bfaf47356cx188x269.PNG"
    ]
  },
  {
    "text": "What is the fluid requirement of a 50 kg man with first degree burns to his left arm and leg, circumferential second degree burns to his right upper limb and third degree burns to his posterior torso and right lower limb. What is the rate of initial fluid resuscitation?",
    "choices": [
      {
        "id": 1,
        "text": "2.25L over 8 hours, followed by 2.25L over 16 hours"
      },
      {
        "id": 2,
        "text": "4.5 L over 8 hours, followed by 4.5 L over 16 hours"
      },
      {
        "id": 3,
        "text": "6 L over 8 hours, followed by 6 L over 16 hours"
      },
      {
        "id": 4,
        "text": "9 L over 8 hours, followed by 9 L over 16 hours"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Total volume of fluid needed <strong>is 4.5 litres</strong> of which <strong>2.25L is given in first 8 hours</strong> and<strong> 2.25L is given in next 16 hours</strong> as indicated by&nbsp;</p>\n<p>Step 1<strong>: </strong>Calculating % of burns using rule of nines</p>\n<ul>\n<li><strong>This includes only 2<sup>nd</sup> and 3<sup>rd</sup> degree burns.</strong></li>\n<li>Right upper limb + right lower limb and posterior torso = 9 + 18 + 18 = 45%</li>\n</ul>\n<p>STEP 2 : Calculating fluid using resucitation formula for thermal burns - 2ml x 50(kg) x 45(TBSA%) = 4.5 litres.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/e016399a872b4854a258aecde28074cdx322x631.PNG"
    ]
  },
  {
    "text": "The nanny of a 3-year-old boy brings the child to the ER after he had accidentally ingested button batteries from the mobile phone toy that he was playing with. What would be the next best step in the management of this child?",
    "choices": [
      {
        "id": 1,
        "text": "Urgent endoscopy and removal"
      },
      {
        "id": 2,
        "text": "Observation and follow up in 24 hours"
      },
      {
        "id": 3,
        "text": "Observation until the foreign body passes out in faeces"
      },
      {
        "id": 4,
        "text": "Repeat Xray after 4 hours"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Button batteries </strong>and&nbsp;<strong>sharp objects</strong> in the oesophagus and foreign bodies associated with <strong>respiratory symptoms</strong> all mandate <strong>urgent endoscopic removal</strong>.</p>\n<p>Button batteries, in particular, are very dangerous foreign bodies, which must be expediently removed because they can cause:</p>\n<ul>\n<li><strong>Mucosal injury</strong> in 1-hour contact time</li>\n<li><strong>Involve all layers</strong> of the oesophagus in 4 hours</li>\n</ul>\n<p>Injury is thought to be secondary to electrochemical burns from electrical discharge.<strong> Chemical burns</strong> from <strong>electrolyte alkali leakage</strong> and <strong>pressure necrosis</strong> also may contribute to mucosal injury.</p>\n<p>Asymptomatic blunt objects and coins lodged in the oesophagus can be observed for up to 24 hr in anticipation of passage into the stomach.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "King\u2019s College selection criteria for liver transplantation in Non-paracetamol induced acute liver failure does not include:",
    "choices": [
      {
        "id": 1,
        "text": "Age <10 years"
      },
      {
        "id": 2,
        "text": "Age >40 years"
      },
      {
        "id": 3,
        "text": "PT >100 s"
      },
      {
        "id": 4,
        "text": "PT <15 s"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>King&rsquo;s College selection criteria for liver transplantation in acute liver failure</p>\n<p><strong>Paracetamol induced </strong></p>\n<ul>\n<li>pH &lt;7.30 (irrespective of grade of encephalopathy)</li>\n<li><strong>OR</strong> prothrombin time (PT) &gt;100 s + serum creatinine &gt;300 &mu;mol/L + grade 3 or 4 encephalopathy.</li>\n</ul>\n<p><strong> Non-paracetamol induced (irrespective of encephalopathy)</strong></p>\n<p>PT &gt;100 s <strong>or</strong> any three of the following:</p>\n<ul>\n<li style=\"font-weight: 400;\"><strong>Age &lt;10 years or &gt;40 years</strong></li>\n<li style=\"font-weight: 400;\">Aetiology non-A, non-B, halothane or idiosyncratic drug reaction</li>\n<li style=\"font-weight: 400;\">More than 7 days&rsquo; jaundice before encephalopathy</li>\n<li style=\"font-weight: 400;\">PT &gt;50 s</li>\n<li style=\"font-weight: 400;\">Bilirubin &gt;300 &mu;mol/L</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which among the following best describes sepsis?",
    "choices": [
      {
        "id": 1,
        "text": "Suspected or documented infection with SIRS score \u2265 1"
      },
      {
        "id": 2,
        "text": "Suspected or documented infection with SOFA score \u2265 2"
      },
      {
        "id": 3,
        "text": "Suspected or documented infection with qSOFA score  \u2265 1"
      },
      {
        "id": 4,
        "text": "Suspected or documented infection with LODS score \u2265 1"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p class=\"p1\"><strong><span class=\"s1\">Suspected </span></strong><span class=\"s1\">or </span><strong><span class=\"s1\">documented infection </span></strong><span class=\"s1\">with </span><strong><span class=\"s1\">SOFA score &ge; 2</span></strong><span class=\"s2\"> best describes sepsis among the given options.</span></p>\n<p class=\"p2\"><span class=\"s3\">Sepsis is defined as, life-threatening </span><strong><span class=\"s4\">organ dysfunction</span></strong><span class=\"s3\"> due to a dysregulated host response to infection.</span></p>\n<p class=\"p2\"><span class=\"s3\">To help in recognizing sepsis, Sepsis-3 clinical criteria have been used, which include:</span></p>\n<ul>\n<li class=\"p2\"><span class=\"s3\"><strong>Suspected infection</strong>&nbsp;&nbsp;</span></li>\n<li class=\"p2\"><strong><span class=\"s4\">Organ dysfunction</span></strong><span class=\"s4\"> which is assessed using the</span><strong><span class=\"s4\"> SOFA score - </span></strong><span class=\"s4\">an increase&nbsp;<strong><span class=\"s1\">of&nbsp;&ge; 2 points&nbsp;</span></strong>from the baseline of this score</span><span class=\"s3\">&nbsp;</span></li>\n</ul>\n<p><span class=\"s3\">SOFA score&nbsp;</span>ranges from 0 to 24 points and is divided across 6 organ systems. It includes:</p>\n<ul>\n<li class=\"p3\"><span class=\"s3\"><strong>Circulation</strong> - Systolic BP &amp; need for vasopressors and platelet count</span></li>\n<li class=\"p3\"><span class=\"s3\"><strong>Respiration</strong> - PaO2/FiO2 &amp; need for mechanical ventilation</span></li>\n<li class=\"p3\"><span class=\"s3\"><strong>Mentation</strong> - Glasgow coma score</span></li>\n<li class=\"p3\"><span class=\"s3\"><strong>Hepatic function</strong> - Bilirubin</span></li>\n<li class=\"p3\"><span class=\"s3\"><strong>Renal function</strong> - Creatinine</span></li>\n</ul>\n<p class=\"p1\"><span class=\"s2\">A simplified version of the SOFA score is known as the&nbsp;</span><span class=\"s1\"><strong>qSOFA score </strong>(Option C). </span><span class=\"s2\">It includes:</span></p>\n<ul>\n<li class=\"p3\"><span class=\"s3\">Systolic BP &le;100 mmHg</span></li>\n<li class=\"p3\"><span class=\"s3\">Respiratory rate &ge; 22/min</span></li>\n<li class=\"p3\"><span class=\"s3\">Altered mentation/sensorium</span></li>\n</ul>\n<p class=\"p2\"><span class=\"s3\">Each criterion carries 1 point. A </span><strong><span class=\"s4\">qSOFA score of &ge; 2</span></strong><span class=\"s3\"> is associated with </span><span class=\"s4\"><strong>increased mortality</strong> due to sepsis</span><span class=\"s3\">.</span></p>\n<p class=\"p1\"><strong><span class=\"s1\">SOFA vs qSOFA:</span></strong></p>\n<ul>\n<li class=\"p3\"><strong><span class=\"s4\">SOFA</span></strong><span class=\"s3\"> is a more <strong>comprehensive</strong> and <strong>accurate</strong> scoring system that is considered&nbsp;</span><span class=\"s4\">superior to&nbsp;qSOFA in the <strong>ICU setting.</strong></span></li>\n<li class=\"p3\"><strong><span class=\"s4\">qSOFA</span></strong><span class=\"s3\"> is a <strong>simplified</strong> derivative of SOFA for <strong>bedside</strong> assessment that is&nbsp;</span><span class=\"s4\">particularly useful <strong>outside the ICU setting</strong></span><span class=\"s3\"> (i.e. ward/emergency department).</span></li>\n</ul>\n<p class=\"p2\"><span class=\"s3\">Thus, the best description of sepsis would be :</span></p>\n<ul>\n<li class=\"p3\"><span class=\"s3\">Suspected or documented infection with <strong>SOFA score &ge; 2</strong><br />OR</span></li>\n<li class=\"p3\"><span class=\"s3\">Suspected or documented infection with <strong>qSOFA score &ge; 2</strong></span></li>\n</ul>\n<p><span class=\"s3\">Other scoring systems for sepsis:</span></p>\n<p class=\"p2\"><span class=\"s3\">Option A:</span></p>\n<p class=\"p1\">Systemic inflammatory response syndrome (SIRS) is an&nbsp;<strong>exaggerated defence response</strong>&nbsp;of the body to a noxious stressor to localize and then eliminate the endogenous or exogenous source of the insult. SIRS is diagnosed when&nbsp;<strong>two</strong>&nbsp;of the following are present:</p>\n<ul>\n<li class=\"p2\">Hyperthermia (&gt;38 Degree Celcius) or Hypothermia (&lt;36 Degree Celcius)</li>\n<li class=\"p2\">Tachypnoea (&gt;20/min) or arterial carbon dioxide tension (PaCO2) of less than 32 mm Hg</li>\n<li class=\"p2\">Tachycardia (&gt;90/min)&nbsp;</li>\n<li class=\"p2\">White cell count &gt;12 x 10<sup>9</sup>/litre or &lt;4 x 10<sup>9</sup>/litre or &gt;10% Band forms</li>\n</ul>\n<p class=\"p2\">&nbsp;Sepsis is SIRS with a documented infection.&nbsp;<span class=\"s4\"><strong>SIRS&nbsp;</strong></span><span class=\"s3\">score is no longer recommended as is it <strong>not specific to infection.</strong></span></p>\n<p class=\"p2\"><span class=\"s3\">Option D:</span><span class=\"s4\">&nbsp;<strong>LODS&nbsp;</strong></span><span class=\"s3\">score is not recommended as it is <strong>complex</strong> and has too many variables.</span></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What was the theme of World TB Day 2023?",
    "choices": [
      {
        "id": 1,
        "text": "Yes! We can end TB!"
      },
      {
        "id": 2,
        "text": "It's time to end TB"
      },
      {
        "id": 3,
        "text": "Invest to End TB. Save Lives"
      },
      {
        "id": 4,
        "text": "The clock is ticking"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The theme of world TB day 2023 was <strong>'Yes! We can end TB!'</strong>.</p>\n<p><strong>World Tuberculosis Day</strong> is observed on <strong>24th March</strong> of every year.</p>\n<p>The themes for the other world TB days are:</p>\n<p>The theme of 2024 continues to be, 'Yes! We can end TB!'</p>\n<p>2022:\u00a0Invest to End TB. Save Lives</p>\n<p>2021: The clock is ticking</p>\n<p>2020: It's time to End TB</p>\n<p>2019: It\u2019s time for action</p>\n<p>2018: Wanted: Leaders for a TB-free world\u00a0</p>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following drug is recently approved by FDA to treat patients with anaplastic lymphoma kinase positive metastatic non small cell lung cancer?",
    "choices": [
      {
        "id": 1,
        "text": "Lorlatinib"
      },
      {
        "id": 2,
        "text": "Vizimpro"
      },
      {
        "id": 3,
        "text": "Lumoxiti"
      },
      {
        "id": 4,
        "text": "Emgality"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Lorlatinib is recently approved drug(2/11/2018) by FDA to treat patients with anaplastic lymphoma kinase positive metastatic non small cell lung cancer.</p>\n<p>Other options:</p>\n<ul>\n<li>Vizimpro(dacomitnib): U.S. FDA approved first line treatment with EGFR-metastatic non small cell lung cancer.</li>\n<li>Lumoxiti(moxetumomab pasudotox-tdfk): FDA approved to treat hairy cell leukemia.</li>\n<li>Emgality(galcanezumab): (FDA) has approved the calcitonin gene\u2013related peptide (CGRP) antagonist, for the preventive treatment of migraine in adults.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 23-year-old man presented to the CHC with fever and chills for the past 2 days. His peripheral blood smear is given. Treatment was started with chloroquine. Which of the following drugs can you prescribe to prevent relapse in him?",
    "choices": [
      {
        "id": 1,
        "text": "Halofantrine"
      },
      {
        "id": 2,
        "text": "Tafenoquine"
      },
      {
        "id": 3,
        "text": "Ivacaftor"
      },
      {
        "id": 4,
        "text": "Ibalizumab"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p style=\"text-align: justify;\">Tafenoquine can be prescribed to prevent relapse in the patient. The given clinical features and the image containing<strong><em> Plasmodium vivax</em> trophozoites </strong>point toward a diagnosis of malaria.&nbsp;<strong>Tafenoquine </strong>can be used for the<strong> prevention of relapse</strong> of <em>Plasmodium vivax</em> malaria in patients who are <strong>16 years or older</strong>. It has been recently approved for the <strong>radical cure of plasmodium vivax malaria</strong>.&nbsp;It is <strong>not</strong> indicated <strong>in acute</strong> infection.</p>\n<p>Option C:&nbsp;<strong>Ivacaftor</strong> is a cystic fibrosis transmembrane conductance regulator (CFTR) potentiator, that is used for the treatment of <strong>cystic fibrosis</strong> (CF) in patients age 2 years and older.</p>\n<p>Option D:&nbsp;<strong>Ibalizumab</strong> is a CD4 directed HIV-1 inhibitor. It is used in the treatment of <strong>multidrug-resistant HIV</strong> infection.</p>",
    "explanation_video": "",
    "question_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4621fcc2e13940929343baf5156861dex1280x852.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The treatment of choice for the initial episode of non severe Clostridium difficile colitis is :",
    "choices": [
      {
        "id": 1,
        "text": "IV metronidazole"
      },
      {
        "id": 2,
        "text": "Oral vancomycin"
      },
      {
        "id": 3,
        "text": "Oral fidaxomicin"
      },
      {
        "id": 4,
        "text": "Oral metronidazole"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The treatment of choice for the <strong>initial episode</strong> of <strong>non-severe</strong> Clostridium difficile colitis is <strong>oral fidaxomicin.\u00a0</strong></p>\n<table style=\"width: 384px;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"width: 371px;\" colspan=\"2\"><strong>Management of Clostridium difficile infection according to SHEA and IDSA 2021 guidelines</strong></td>\n</tr>\n<tr>\n<td style=\"width: 151.016px;\">\u00a0Nonfulminant\u00a0 disease- Initial episode</td>\n<td style=\"width: 219.984px;\">\u00a0Oral fidaxomicin is preferred over oral vancomycin</td>\n</tr>\n<tr>\n<td style=\"width: 151.016px;\">\u00a0Nonfulminant\u00a0 disease- recurrent episode</td>\n<td style=\"width: 219.984px;\">\u00a0Oral fidaxomicin is preferred over oral vancomycin<br />Bezlotoxumab can be used as an adjunctive</td>\n</tr>\n<tr>\n<td style=\"width: 151.016px;\">\u00a0Fulminant disease (presence of hypotension, shock, megacolon) without ileus</td>\n<td style=\"width: 219.984px;\">\u00a0Oral vancomycin plus intravenous metronidazole\u00a0</td>\n</tr>\n<tr>\n<td style=\"width: 151.016px;\">\u00a0Fulminant disease (presence of hypotension, shock, megacolon) with ileus</td>\n<td style=\"width: 219.984px;\">\u00a0Fecal microbiota transplantation (FMT) or rectal vancomycin</td>\n</tr>\n</tbody>\n</table>\n<p>Fidaxomicin is preferred over oral vancomycin because it has less relapse rates.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is a WHO-approved dengue vaccine for individuals seropositive for dengue virus?",
    "choices": [
      {
        "id": 1,
        "text": "Dengvaxia"
      },
      {
        "id": 2,
        "text": "DENVax"
      },
      {
        "id": 3,
        "text": "Tetravax -DV"
      },
      {
        "id": 4,
        "text": "TDENV PIV"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Dengvaxia</strong>\u00a0is a\u00a0WHO-approved vaccine for individuals <strong>seropositive</strong> for <strong>dengue</strong> virus.\u00a0It is\u00a0currently licensed in 20 countries.</p>\n<p>A pre-vaccination screening strategy must be adopted so that only dengue-seropositive individuals are vaccinated.\u00a0It is indicated for individuals between <strong>9 to 16 years</strong>. It is given in\u00a03 doses, 6 months apart. Booster doses are not required.</p>\n<p>However, it\u00a0carries an increased <strong>risk</strong> of <strong>severe</strong> dengue in those who experience their <strong>first</strong> natural dengue infection <strong>after vaccination</strong> (seronegative individuals).</p>\n<p>Note: <strong>TV003</strong>, a live, attenuated, <strong>tetravalent dengue vaccine is</strong> currently in Phase-3 trials. It has shown <strong>efficacy</strong> in promoting immunity in both <strong>seropositive</strong> and <strong>seronegative</strong> individuals between <strong>2-59 </strong>years of age.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is false about the Ayushman Bharat-National Health Protection Mission?",
    "choices": [
      {
        "id": 1,
        "text": "Government provides health insurance cover of up to Rs. 5,00,000 per family per year"
      },
      {
        "id": 2,
        "text": "The limit of the family size that is covered is up to 7 members"
      },
      {
        "id": 3,
        "text": "All pre-existing diseases of the individual are covered"
      },
      {
        "id": 4,
        "text": "It covers secondary and tertiary care hospitalization"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>There is<strong> no cap</strong> on family size or the age of the members. All the families listed under the Socio-Economic Caste Census (SECC) database are covered as per the defined criteria.</p>\n<p>The following are the benefits provided under this program:</p>\n<ul>\n<li>Health insurance cover of up to <strong>Rs. 5,00,000 per family per year.</strong></li>\n<li>All families listed in the SECC database, as per the defined criteria, will be covered. There is&nbsp;<strong>no cap on family size and age of members.</strong></li>\n<li><strong>Free treatment</strong> is available at<strong> all public and empanelled private hospitals</strong></li>\n<li>Both <strong>secondary and tertiary care </strong>hospitalization is covered.</li>\n<li>All <strong>pre-existing diseases </strong>are <strong>covered. </strong>Hospitals <strong>cannot deny treatment.</strong></li>\n<li>To control costs, the payments for treatment will be done on a package rate (to be defined by the Government in advance) basis.</li>\n<li>Cashless and paperless access to quality health care services.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/abdb823c778f4f939f358d9f3f5ecdddx647x374.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ca7b32dbf41a439da3ebdc34be2d8613x680x365.JPEG"
    ]
  },
  {
    "text": "Calculate the GCS Score in an intubated patient, with findings of eye movements to pain and abnormal flexion?",
    "choices": [
      {
        "id": 1,
        "text": "E2VTM4"
      },
      {
        "id": 2,
        "text": "E2VTM3"
      },
      {
        "id": 3,
        "text": "E2V1M3"
      },
      {
        "id": 4,
        "text": "E2VNTM3"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The GCS score is <strong>E2VNTM3.&nbsp;</strong>In this case:</p>\n<ul>\n<li>Eye-opening to pain: E2</li>\n<li>In case of endotracheal intubation or tracheostomy, the verbal component of the score is denoted as 'not testable/NT'. Earlier in intubated patients, the V score was denoted as VT. According to the current update, the V score should be VNT.</li>\n<li>Abnormal flexion: M3</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Grade 3 hemorrhagic shock the % of blood loss is:",
    "choices": [
      {
        "id": 1,
        "text": "<15%"
      },
      {
        "id": 2,
        "text": "15-30%"
      },
      {
        "id": 3,
        "text": "31-40%"
      },
      {
        "id": 4,
        "text": ">40%"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>When there is 31-40% Blood loss it is termed as Grade/Class 3 Hemorrhage.</p>\n<p>The physiological effects are divided into four classes, based on clinical signs, which are useful for estimating the percentage of acute blood loss. The clinical signs represent a continuum of ongoing hemorrhage and serve only to guide initial therapy.</p>\n<table style=\"height: 488px; width: 513px;\">\n<tbody>\n<tr style=\"height: 25px;\">\n<td style=\"width: 90px; text-align: center; height: 25px;\">Parameter</td>\n<td style=\"width: 102.168px; text-align: center; height: 25px;\">CLass I</td>\n<td style=\"width: 72.8324px; text-align: center; height: 25px;\">Class II(mild)</td>\n<td style=\"width: 128px; text-align: center; height: 25px;\">\n<p>Class III</p>\n<p>(moderate)</p>\n</td>\n<td style=\"width: 82px; text-align: center; height: 25px;\">\n<p>Class IV</p>\n<p>(severe)</p>\n</td>\n</tr>\n<tr style=\"height: 50px;\">\n<td style=\"width: 90px; height: 50px;\">Approximate blood loss</td>\n<td style=\"width: 102.168px; text-align: center; height: 50px;\">&lt;15%</td>\n<td style=\"width: 72.8324px; text-align: center; height: 50px;\">15-30%</td>\n<td style=\"width: 128px; text-align: center; height: 50px;\">31-40%</td>\n<td style=\"width: 82px; text-align: center; height: 50px;\">&gt;40%</td>\n</tr>\n<tr style=\"height: 48px;\">\n<td style=\"width: 90px; height: 48px;\">Heart Rate</td>\n<td style=\"width: 102.168px; text-align: center; height: 48px;\">Nomal</td>\n<td style=\"width: 72.8324px; text-align: center; height: 48px;\">Normal/Increased</td>\n<td style=\"width: 128px; text-align: center; height: 48px;\">Increased</td>\n<td style=\"width: 82px; text-align: center; height: 48px;\">Increased</td>\n</tr>\n<tr style=\"height: 50px;\">\n<td style=\"width: 90px; height: 50px;\">Blood Pressure</td>\n<td style=\"width: 102.168px; text-align: center; height: 50px;\">Normal</td>\n<td style=\"width: 72.8324px; text-align: center; height: 50px;\">Normal</td>\n<td style=\"width: 128px; text-align: center; height: 50px;\">Normal/Decreased</td>\n<td style=\"width: 82px; text-align: center; height: 50px;\">Decreased</td>\n</tr>\n<tr style=\"height: 50px;\">\n<td style=\"width: 90px; height: 50px;\">Pulse Pressure</td>\n<td style=\"width: 102.168px; text-align: center; height: 50px;\">Normal</td>\n<td style=\"width: 72.8324px; text-align: center; height: 50px;\">Decreased</td>\n<td style=\"width: 128px; text-align: center; height: 50px;\">Decreased</td>\n<td style=\"width: 82px; text-align: center; height: 50px;\">Decreased</td>\n</tr>\n<tr style=\"height: 50px;\">\n<td style=\"width: 90px; height: 50px;\">Respiratory Rate</td>\n<td style=\"width: 102.168px; text-align: center; height: 50px;\">Normal</td>\n<td style=\"width: 72.8324px; text-align: center; height: 50px;\">Normal</td>\n<td style=\"width: 128px; text-align: center; height: 50px;\">Normal/Increased</td>\n<td style=\"width: 82px; text-align: center; height: 50px;\">Increased</td>\n</tr>\n<tr style=\"height: 50px;\">\n<td style=\"width: 90px; height: 50px;\">Urine Output</td>\n<td style=\"width: 102.168px; text-align: center; height: 50px;\">Normal</td>\n<td style=\"width: 72.8324px; text-align: center; height: 50px;\">Normal</td>\n<td style=\"width: 128px; text-align: center; height: 50px;\">Decreased</td>\n<td style=\"width: 82px; text-align: center; height: 50px;\">Decreased</td>\n</tr>\n<tr style=\"height: 50px;\">\n<td style=\"width: 90px; height: 50px;\">Glasgow Coma Scale</td>\n<td style=\"width: 102.168px; text-align: center; height: 50px;\">Normal</td>\n<td style=\"width: 72.8324px; text-align: center; height: 50px;\">Normal</td>\n<td style=\"width: 128px; text-align: center; height: 50px;\">Decreased</td>\n<td style=\"width: 82px; text-align: center; height: 50px;\">Decreased</td>\n</tr>\n<tr style=\"height: 50.6px;\">\n<td style=\"width: 90px; height: 50.6px;\">Need for blood products</td>\n<td style=\"width: 102.168px; text-align: center; height: 50.6px;\">Monitor</td>\n<td style=\"width: 72.8324px; text-align: center; height: 50.6px;\">Possible</td>\n<td style=\"width: 128px; text-align: center; height: 50.6px;\">Yes</td>\n<td style=\"width: 82px; text-align: center; height: 50.6px;\">\n<p>Massive Transfusion Protocol</p>\n</td>\n</tr>\n<tr style=\"height: 50.6px;\">\n<td style=\"width: 90px; height: 50.6px;\">\n<p class=\"p1\"><strong>Base deficit<span class=\"s1\">\u00a0</span>\u00a0\u00a0</strong></p>\n</td>\n<td style=\"width: 102.168px; text-align: center; height: 50.6px;\">0 to \u20132 mEq/L</td>\n<td style=\"width: 72.8324px; text-align: center; height: 50.6px;\">\u20132 to \u20136 mEq/L\u00a0</td>\n<td style=\"width: 128px; text-align: center; height: 50.6px;\">\u00a0\u20136 to \u201310 mEq/L</td>\n<td style=\"width: 82px; text-align: center; height: 50.6px;\">\u201310 mEq/L or less\u00a0</td>\n</tr>\n</tbody>\n</table>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The biopsy of a hemicolectomy specimen revealed an adenocarcinoma with colonic subserosa invasion. Deposits were found on the mesentery but lymph nodes were not involved. Further investigation on the patient did not indicate local or distant metastases. What is the stage of the tumor ?",
    "choices": [
      {
        "id": 1,
        "text": "T4b N0 M1c"
      },
      {
        "id": 2,
        "text": "T4a N2b M0"
      },
      {
        "id": 3,
        "text": "T3 N1c M0"
      },
      {
        "id": 4,
        "text": "T3 N0 M1"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>According to 8th American Joint Committee on Cancer (AJCC) classification of colorectal cancers, <strong>tumor deposits in the subserosa or mesentery</strong> are staged as <strong>N1c</strong> and <strong>tumor invading the subserosa without involvement of peritonealized organs</strong> is <strong>T3</strong>.\u00a0</p>\n<table style=\"width: 408px;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"width: 76px;\">TNM staging</td>\n<td style=\"width: 151.926px;\">7th AJCC (2010)</td>\n<td style=\"width: 163.074px;\"><strong>8th AJCC (2018)</strong></td>\n</tr>\n<tr>\n<td style=\"width: 76px;\">Primary tumor(pT)</td>\n<td style=\"width: 151.926px;\">\u00a0</td>\n<td style=\"width: 163.074px;\">\u00a0</td>\n</tr>\n<tr>\n<td style=\"width: 76px;\">TX</td>\n<td style=\"width: 151.926px;\">Cannot be assessed</td>\n<td style=\"width: 163.074px;\">-do-</td>\n</tr>\n<tr>\n<td style=\"width: 76px;\">T0</td>\n<td style=\"width: 151.926px;\">No evidence of cancer</td>\n<td style=\"width: 163.074px;\">-do-</td>\n</tr>\n<tr>\n<td style=\"width: 76px;\">Tis</td>\n<td style=\"width: 151.926px;\">Carcinoma in situ</td>\n<td style=\"width: 163.074px;\">Carcinoma in situ, <strong>intramucosal carcinoma</strong> (involvement of lamina propria with no extension through muscularis mucosae)</td>\n</tr>\n<tr>\n<td style=\"width: 76px;\">T1</td>\n<td style=\"width: 151.926px;\">invades submucosa</td>\n<td style=\"width: 163.074px;\">-do-</td>\n</tr>\n<tr>\n<td style=\"width: 76px;\">T2</td>\n<td style=\"width: 151.926px;\">invades muscularis propria</td>\n<td style=\"width: 163.074px;\">-do-</td>\n</tr>\n<tr>\n<td style=\"width: 76px;\">T3</td>\n<td style=\"width: 151.926px;\">invades muscularis propria into subserosa or into nonperitonealized pericolic or perirectal tissues</td>\n<td style=\"width: 163.074px;\">-do-</td>\n</tr>\n<tr>\n<td style=\"width: 76px;\">T4</td>\n<td style=\"width: 151.926px;\">invades other organs or tissues or perforates the visceral peritoneum of specimen</td>\n<td style=\"width: 163.074px;\">\n<p><strong>T4a:\u00a0</strong>invades through visceral peritoneum (including gross perforation of the bowel and invasion of tumor through areas of inflammation to the surface of the visceral peritoneum)</p>\n<p><strong>T4b:\u00a0</strong>invades or adheres to other adjacent organs or structures<br /><br /></p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 76px;\">Regional lymph nodes (pN)</td>\n</tr>\n<tr>\n<td style=\"width: 76px;\">NX</td>\n<td style=\"width: 151.926px;\">Regional lymph nodes cannot be assessed</td>\n<td style=\"width: 163.074px;\">-do-</td>\n</tr>\n<tr>\n<td style=\"width: 76px;\">N0</td>\n<td style=\"width: 151.926px;\">No lymph node metastasis</td>\n<td style=\"width: 163.074px;\">-do-</td>\n</tr>\n<tr>\n<td style=\"width: 76px;\">N1</td>\n<td style=\"width: 151.926px;\">1-3 pericolic or perirectal lymph nodes</td>\n<td style=\"width: 163.074px;\">\n<p><strong>N1a:</strong> 1 regional lymph node</p>\n<p><strong>N1b:</strong> 2 - 3 regional lymph nodes</p>\n<p><strong>N1c:</strong> no regional lymph nodes are positive but there are <strong>tumor deposits</strong> in the subserosa, mesentery or nonperitonealized pericolic or perirectal / mesorectal tissues</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 76px;\">N2</td>\n<td style=\"width: 151.926px;\">Metastasis to &gt; 4 pericolic or perirectal lymph nodes</td>\n<td style=\"width: 163.074px;\">\n<p><strong>N2a:</strong> 4 - 6 regional lymph nodes</p>\n<p><strong>N2b:</strong>\u00a0 <span style=\"text-decoration: underline;\">&gt;</span>7 regional lymph nodes<br /><br /></p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 76px;\">Distant metastasis (pM)</td>\n</tr>\n<tr>\n<td style=\"width: 76px;\">M0</td>\n<td style=\"width: 151.926px;\">No Distant metastasis</td>\n<td style=\"width: 163.074px;\">-do-</td>\n</tr>\n<tr>\n<td style=\"width: 76px;\">M1</td>\n<td style=\"width: 151.926px;\">Distant metastasis present</td>\n<td style=\"width: 163.074px;\">\n<p><strong>M1a</strong>: confined to 1 organ or site without peritoneal metastasis</p>\n<p><strong>M1b:</strong> metastasis to <span style=\"text-decoration: underline;\">&gt;</span>2 sites or organs is identified without peritoneal metastasis</p>\n<p><strong>M1c:</strong> metastasis to the peritoneal surface is identified alone or with other site or organ metastases</p>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 57-year-old male patient presents to the surgery OPD, with a 7cm lesion over the left buccal mucosa and difficulty opening the mouth. On examination, the right cervical lymph node is 4cm in size with overlying skin involvement. What is the TNM staging of this lesion?",
    "choices": [
      {
        "id": 1,
        "text": "T4aN2bMx"
      },
      {
        "id": 2,
        "text": "T4bN3aMx"
      },
      {
        "id": 3,
        "text": "T4bN3bMx"
      },
      {
        "id": 4,
        "text": "T4aN2cMx"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The TNM staging in this patient is&nbsp;<strong>T4bN3bMX</strong>.&nbsp;A 7-cm primary tumor in the&nbsp;oral cavity with difficulty in opening mouth denotes a <strong>locally advanced tumor</strong>: <strong>T4b</strong>.&nbsp;<strong>Contralateral cervical lymph node</strong> involvement with skin involvement (<strong>extranodal extension-positive):&nbsp;N3b</strong></p>\n<p>Note:<strong>&nbsp;</strong>Here the skin invasion corresponds to ENE positive, and hence, the N staging is N3b instead of N2c (contralateral lymph nodes, &lt;6 cm and ENE\u2010negative).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An unmarried man had consensual sexual intercourse with the wife of his friend. His friend found about the affair and filed an FIR against the man. Under which of the following BNS section can the man be booked?",
    "choices": [
      {
        "id": 1,
        "text": "BNS 318(4)/ IPC 420"
      },
      {
        "id": 2,
        "text": "BNS 75/ IPC 354 A"
      },
      {
        "id": 3,
        "text": "IPC 497"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Adultery is not liable for criminal prosecution.</p>\n<p><strong>Section 497</strong> of the Indian Penal Code dealing with <strong>adultery</strong> was<strong> invalidated</strong> (struck down as unconstitutional being violative of articles 14 and 21) by the Hon\u2019ble Supreme Court of India on 27<sup>th</sup> September 2018. However, there might be civil liabilities including ground for divorce and dissolution of marriage.</p>\n<p>However, BNS retains Section 498 of the IPC as BNS Section 84 which penalizes a man for enticing the wife of another man so that she may have intercourse with any person.\u00a0</p>\n<p>Option A: BNS <strong>318(4)</strong>/IPC\u00a0<strong>420</strong> deals with cheating and dishonestly inducing delivery of property.</p>\n<p>Option B: BNS <strong>75</strong>/IPC<strong> 354A</strong> deals with sexual harassment and punishment of sexual harassment. Consensual sexual intercourse is not included in this.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Recent Updates Test';
        let hierarchy = ["Marrow", "NEET PG Mini Test Series", "2018-19"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>