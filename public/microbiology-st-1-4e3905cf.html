<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Microbiology St 1 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Test Series Subject Wise / Year 2017 - 18
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Which of the following methods is routinely used for the isolation of the bacteria?",
    "choices": [
      {
        "id": 1,
        "text": "Streak culture"
      },
      {
        "id": 2,
        "text": "Lawn culture"
      },
      {
        "id": 3,
        "text": "Liquid culture"
      },
      {
        "id": 4,
        "text": "Stab culture"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The method used for the\u00a0<strong>isolation of the bacteria\u00a0</strong>is\u00a0<strong>streak culture</strong>.</p>\n<p><strong>Streak culture</strong>\u00a0is routinely used for the\u00a0<strong>isolation</strong>\u00a0<strong>of</strong>\u00a0<strong>bacteria</strong> in pure culture from clinical specimens. It is prepared by picking the specimen using platinum loops or straight wires and transferring it onto a well-dried plate. The inoculum is then distributed thinly over the plate by streaking it with the loop in a series of parallel lines in different segments of the plate.\u00a0</p>\n<p>Other methods used in bacterial culture:</p>\n<p><strong>Lawn culture/carpet culture</strong>: It is used for\u00a0<strong>bacteriophage</strong>\u00a0<strong>typing</strong>\u00a0and\u00a0<strong>antibiotic</strong>\u00a0<strong>sensitivity</strong> testing. It is prepared by flooding the surface of the plate with a liquid culture.</p>\n<p><strong>Stab culture</strong> is prepared by puncturing a suitable medium with a\u00a0<strong>long, straight, charged wire</strong>. The\u00a0<strong>oxygen-requiring bacteria</strong>\u00a0will grow on the\u00a0<strong>surface</strong>, and the bacteria that do not require oxygen will grow at the bottom.</p>\n<p><strong>Stroke culture</strong>: It provides pure growth of bacterium for slide agglutination and other diagnostic tests.</p>\n<p><strong>Pour plate culture</strong>: It gives an estimate of\u00a0<strong>viable bacterial count</strong> in a suspension. It is prepared by adding appropriate dilutions of the inoculum (1 ml) to the molten (40-45\u00b0C) agar, which is mixed and poured into sterile Petri dishes. After incubation, colonies are seen to be distributed throughout the depth of the medium.\u00a0</p>\n<p><strong>Liquid culture</strong>: These are preferred for\u00a0<strong>inocula containing antibiotics</strong> and other inhibitory substances. It is prepared by inoculating liquid cultures in tubes, bottles, or flasks by touching them with a charged loop, pipettes, or syringes.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e64cfd0a5fae4677866d86de0cace7d6x1280x7594.JPEG"
    ]
  },
  {
    "text": "The characteristic appearance on nutrient agar as shown in the image below is formed by _____",
    "choices": [
      {
        "id": 1,
        "text": "Staphylococcus aureus"
      },
      {
        "id": 2,
        "text": "Streptococcus pyogenes"
      },
      {
        "id": 3,
        "text": "Bacillus anthracis"
      },
      {
        "id": 4,
        "text": "Clostridium perfringens"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li>The above image shows characteristic &ldquo;<strong>Oil paint appeareance</strong>&rdquo; with <strong>golden yellow colour pigment</strong> formed by <strong>Staphylococcus aureus</strong>.</li>\n<li>On&nbsp;nutrient agar, after 24 hours of incubation the Staphylococcus colonies are large, circular, convex, smooth, shiny, opaque and easily emulsifiable.</li>\n<li>Most strains produce <strong>golden yellow pigment</strong>, some may be white, orange or yellow. Pigment production occurs optimally at 22&deg;C and only in aerobic cultures.</li>\n<li>Golden yellow pigmentation on nutrient agar is due to <strong>&beta;-carotene</strong>.</li>\n<li>On nutrient agar slope, the confluent growth presents a characteristic &ldquo;oil-paint appearance&rdquo;. In liquid media, uniform turbidity is produced.</li>\n<li>Pigment production is enhanced when 1% glycerol or when milk is incorporated in the medium.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/f6d79a20fd8d418ea912079591a9948f.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "MHC molecules have promiscuous binding specificity. This implies that",
    "choices": [
      {
        "id": 1,
        "text": "A particular MHC molecule has the potential to bind to different peptides"
      },
      {
        "id": 2,
        "text": "When MHC molecules bind to peptides, they are degraded"
      },
      {
        "id": 3,
        "text": "Peptides bind with low affinity to MHC molecules"
      },
      {
        "id": 4,
        "text": "None of the above describes promiscuous binding specificity"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li>A particular MHC molecule has the potential to bind to different peptides</li>\n<li>MHC class I and II molecules are glycoproteins which present peptides to the T cells. Each MHC molecule has only one binding site. Many different peptides can bind to the same MHC molecule. This type of binding is termed as <strong>promiscuous binding.</strong></li>\n<li>Each class I or II molecule will bind only to certain peptides and will have a set of criteria that a peptide must have in order to bind to binding site.</li>\n<li>A few residues in the peptide, called <strong>anchor residues</strong>, bind to specific pockets on the MHC-I, resulting in some specificity of interactions with MHC.</li>\n<li>Thus, many different peptides can bind to a single MHC, however, some peptides can bind to more than one MHC.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following play a role in the virulence of Vibrio cholera except",
    "choices": [
      {
        "id": 1,
        "text": "Lipopolysaccharide"
      },
      {
        "id": 2,
        "text": "Flagella"
      },
      {
        "id": 3,
        "text": "Pilum"
      },
      {
        "id": 4,
        "text": "Cholera toxin"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li>Though <strong>Vibrio</strong> <strong>cholera</strong> is a <strong>gram</strong> <strong>negative</strong> <strong>bacillus</strong> possessing <strong>Lipopolysaccharide </strong>(<strong>LPS)</strong> <strong>O antigen</strong>, it apparently plays no role in the pathogenesis of Cholera but is responsible for the immunity induced by killed vaccines.</li>\n<li><strong>Vibrio</strong> <strong>cholerae</strong> is a <strong>highly</strong> <strong>motile</strong> bacterium which possesses a <strong>single</strong> <strong>polar</strong> <strong>flagellum</strong> as a locomotion organelle. <strong>Motility</strong> is thought to be an important factor for the <strong>virulence</strong> of V. cholerae.</li>\n<li><strong>Special</strong> <strong>fimbriae</strong> present on Vibrio cholerae, known as &ldquo;<strong>Toxin co-regulated Pilus&rdquo; (TCP)</strong> is essential for the <strong>adhesion</strong> to the epithelial surface and <strong>colonization</strong> of the bacteria in small intestine.</li>\n<li><strong>Cholera Toxin</strong> (also known as <strong>Choleragen</strong>, <strong>cholera</strong> <strong>enterotoxin</strong>) plays an important role in causing <strong>watery</strong> <strong>diarrhoea</strong> through <strong>cAMP</strong> mediated pathway.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A junior doctor sustained a needle-stick injury while sampling the blood of a patient who is HIV positive. A decision is taken to offer him post-exposure prophylaxis. Which one of the following regimen would be the best recommendation?",
    "choices": [
      {
        "id": 1,
        "text": "Zidovudine + Lamivudine for 6 weeks"
      },
      {
        "id": 2,
        "text": "Zidovudine + Lamivudine + Nevirapine for 4 weeks"
      },
      {
        "id": 3,
        "text": "Tenofovir + Lamivudine + Dolutegravir  for 4 weeks"
      },
      {
        "id": 4,
        "text": "Zidovudine + Lamivudine + Indinavir for 6 weeks"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Recommended Post-exposure prophylaxis(PEP) is a three drug regimen which includes<strong> Lamivudine 300mg ,\u00a0</strong><strong>Tenofovir 300mg and Dolutegravir 50mg</strong>. A regimen for post - exposure prophylaxis for HIV with two ARV drugs is effective, but three drugs are preferred. The PEP must be initiated ideally within 2 hours and certainly within 72 hours.\u00a0WHO recommended PEP regimen :</p>\n<table style=\"height: 154px; width: 563px;\">\n<tbody>\n<tr>\n<td style=\"width: 234px;\">\u00a0 \u00a0 \u00a0 \u00a0 Drugs combination</td>\n<td style=\"width: 223.978271484375px;\">\u00a0 Recommendation for PEP</td>\n<td style=\"width: 173.021728515625px;\">\u00a0 \u00a0 \u00a0 \u00a0 Duration</td>\n</tr>\n<tr>\n<td style=\"width: 234px;\">Tenofovir (TDF) 300 mg + Lamivudine(3TC) 300 mg + Dolutegravir (DTG) 50mg</td>\n<td style=\"width: 223.978271484375px;\">\u00a0 \u00a0 \u00a0 \u00a0 \u00a0Once daily</td>\n<td style=\"width: 173.021728515625px;\">\u00a0 \u00a0 \u00a0 \u00a0 \u00a04 weeks</td>\n</tr>\n</tbody>\n</table>\n<div class=\"page\" title=\"Page 39\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>DTG is recommended as the preferred third drug for HIV post-exposure prophylaxis.\u00a0When available, ATV/r, DRV/r, LPV/r and RAL may be considered as alternative third drug options for post-exposure prophylaxis</p>\n</div>\n</div>\n</div>\n<p>The protocol followed is :Exposure within 72 hours --&gt; Assess exposed individual --&gt; Assess exposure source --&gt; Determine the risk of transmission --&gt; Counselling and support --&gt; 28 - day prescription with drug information --&gt; HIV test at 3 months after exposure.</p>\n<p>Note: The NACO October 2018 guidelines recommend the two drug regimen but the recent MOHFW JAN 2020 recommends the three drug regimen as per WHO December 2018 guidelines as the preferred treatment for PEP in HIV.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is false regarding Crimean-Congo hemorrhagic fever?",
    "choices": [
      {
        "id": 1,
        "text": "A recent outbreak has been reported in the Indian State of Gujarat"
      },
      {
        "id": 2,
        "text": "Caused by a virus belonging to Togavirus"
      },
      {
        "id": 3,
        "text": "Domestic animals like sheep and cattle are reservoirs"
      },
      {
        "id": 4,
        "text": "Ribavirin is effective"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li><strong>Crimean&ndash;Congo hemorrhagic fever</strong> (CCHF) virus (CCHFV) is a member of the family <strong>Bunyaviridae</strong>, genus <strong>Nairovirus</strong>.</li>\n<li>Recently, few cases of Crimean Congo haemorrhagic fever have been reported from <strong>Gujarat</strong>.</li>\n<li><strong>Domestic animals</strong> like sheep, goats and cattle can develop high titres of virus in their blood, but tend not to fall ill and thus act as reservoirs of infection.</li>\n</ul>\n<p><strong>Signs &amp; Symptoms:</strong></p>\n<ul>\n<li>The illness in humans is a severe form of hemorrhagic fever.</li>\n<li>Typically, after a 1&ndash;3 day incubation period following a tick bite or 5&ndash;6 days after exposure to infected blood or tissues, <strong>flu-like </strong>symptoms appear.</li>\n<li>The <strong>initial symptoms</strong> include mood instability, agitation, mental confusion and throat petechiae; and soon after nosebleeds, vomiting, and black stools.</li>\n<li>There may be associated painful hepatomegaly, disseminated intravascular coagulation may occur, as well as acute kidney failure, shock may occur.</li>\n</ul>\n<p><strong>Management:</strong></p>\n<ul>\n<li>Essentially, <strong>maintenance therapies</strong>, such as hydration, blood transfusion and other specific <strong>supportive therapies</strong> (i.e., the administration of diuretics and/or antibiotics &ndash; if necessary), should be initiated as soon as possible.</li>\n<li><strong>Ribavirin</strong> is the only antiviral drug that has been used to treat CCHF.</li>\n<li>Ribavirin inhibits the replication of CCHFV in vivo and in vitro.</li>\n<li>However, hematological and neurological abnormalities are common side effects induced by ribavirin treatment.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following chemical mediators of inflammation is an example of a CX3C or delta chemokine?",
    "choices": [
      {
        "id": 1,
        "text": "Lipoxin LXA \u2013 4"
      },
      {
        "id": 2,
        "text": "lymphotactin- \u03b1"
      },
      {
        "id": 3,
        "text": "Fractalkine"
      },
      {
        "id": 4,
        "text": "Monocyte chemo attractant protein MCP -1"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The major role of chemokines is to act as a chemo attractant to guide the migration of inflammatory cells.</p>\n<p>Members of the chemokine family are divided into four groups depending on the number and arrangement of Cysteine molecules.</p>\n<ol>\n<li><strong>CXC chemokines </strong>(or \u03b1-chemokines): The two cysteine molecules are <strong>separated by one amino acid</strong>, represented in this name with an \"X\". There have been 17 different CXC chemokines described in mammals. Eg: Interleukin -8 (CXCL8).</li>\n<li><strong>CC chemokines </strong>(or \u03b2-chemokines): They have total four cysteines of which <strong>two are adjacent cysteines (amino acids)</strong>, near their amino terminus. There have been at least 27 distinct members of this subgroup reported for mammals, called CC chemokine ligands (CCL)-1 to 28; CCL10 is the same as CCL9.</li>\n<li><strong>C chemokines </strong>(<strong>or</strong> \u03b3 chemokines): It has <strong>only two cysteine</strong>s; one N-terminal cysteine and one cysteine downstream. Two chemokines have been described for this subgroup and are called XCL1 (lymphotactin-\u03b1) and XCL2 (lymphotactin-\u03b2).</li>\n<li><strong>CX3C chemokines (</strong>or d-chemokines): They have <strong>three amino acids between the two cysteines</strong> and is termed CX3C chemokine (or d-chemokines). The only CX3C chemokine discovered to date is called fractalkine (or CX3CL1). It is both secreted and tethered to the surface of the cell that expresses it, thereby serving as both a <strong>chemoattractant</strong> and as an <strong>adhesion</strong> <strong>molecule</strong>.</li>\n</ol>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/b16f109e1b684f12a7f34ee438f17119x601x416.PNG"
    ]
  },
  {
    "text": "Identify the condition caused by M. Tuberculosis as shown in the MRI Image below.",
    "choices": [
      {
        "id": 1,
        "text": "Tuberculous osteomyelitis"
      },
      {
        "id": 2,
        "text": "Tuberculous arthropathy"
      },
      {
        "id": 3,
        "text": "Pott disease"
      },
      {
        "id": 4,
        "text": "Tuberculoma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above image shows <strong>Pott disease</strong>, also known as tuberculous spondylitis, refers to <strong>vertebral</strong> <strong>body</strong> and <strong>intervertebral</strong> <strong>disc</strong> involvement with tuberculosis (TB). It depicts sagittal T1W (A) and T2W (B) images in a patient with spinal tuberculosis showing a well-defined rounded lesion (arrow) with T1 hypointensity and T2 iso-hypointensity.</p>\n<p>The spine is the most frequent location of musculoskeletal TB, and commonly related symptoms are back pain and lower limb weakness/paraplegia.</p>\n<ul>\n<li>The spine is involved due to hematogenous spread via <strong>the venous plexus of Batson</strong>.</li>\n<li>There is usually a slow collapse of one or usually more vertebral bodies, which spreads underneath the longitudinal ligaments which results in an <strong>acute kyphotic</strong> or <strong>\"gibbus\" deformity</strong>. This angulation, coupled with epidural granulation tissue and bony fragments, can lead to <strong>cord compression.</strong></li>\n</ul>\n<p><strong>Radiographic Features:</strong></p>\n<p>Features include irregularity of both the endplate and anterior aspect of the vertebral bodies, with bone marrow oedema and enhancement seen on MRI:</p>\n<ul>\n<li>T1:&nbsp;hypointense marrow in adjacent vertebrae</li>\n<li>T2:&nbsp;hyperintense marrow, disc, soft tissue infection</li>\n<li>T1 C+ (Gd):&nbsp;marrow, subligamentous, disc, and dural enhancement</li>\n<li>The paraspinal collections are typically well circumscribed, with fluid centres and well-defined enhancing margins.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/9668788708124734821c51faf9e8a1cc.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is false about Trichomonas vaginalis?",
    "choices": [
      {
        "id": 1,
        "text": "It exists in 2 forms \u2013 cyst and trophozoite form"
      },
      {
        "id": 2,
        "text": "It is an obligate parasite"
      },
      {
        "id": 3,
        "text": "Gold standard method for diagnosis of Trichomonas infection is \u2013 culture on CPLM or PEM"
      },
      {
        "id": 4,
        "text": "The parasite causes petechial hemorrhage giving rise to the term \u201cstrawberry cervix\u201d"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li>Trichomonas vaginalis is the only protozoa with one stage in its life cycle with <strong>only Trophozoite form</strong> (No cyst stage is seen).</li>\n<li>It is an <strong>obligate parasite</strong> and cannot live without close association with vaginal, urethral or prostatic tissues.</li>\n<li>Culture is generally done when direct microscopy is negative. It is considered Gold standard. It is grown on solid or liquid media.</li>\n<li><strong>Cysteine-peptone-liver-maltose (CPLM) medium</strong> and <strong>Plastic envelope medium (PEM) </strong>are often used.</li>\n<li>Parasite causes petechial haemorrhage, termed as <strong>strawberry cervix.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/2668c9847a464b0393f980e4eecf41acx421x309.PNG"
    ]
  },
  {
    "text": "The characteristic appearance on culture as shown in the image below is caused by ______",
    "choices": [
      {
        "id": 1,
        "text": "Coccidioides immitis"
      },
      {
        "id": 2,
        "text": "Paracoccidioides brasiliensis"
      },
      {
        "id": 3,
        "text": "Histoplasma capsulatum"
      },
      {
        "id": 4,
        "text": "Blastomyces dermatitidis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above image shows characteristic &ldquo;<strong>Pilot wheel appearance</strong>&rdquo; on culture shown by <strong>Paracoccidioides brasiliensis.</strong></p>\n<ul>\n<li><strong>Paracoccidioidomycosis</strong> is a chronic granulomatous disease of the skin, mucosa, lymph nodes and internal organs caused by a thermally dimorphic fungus <strong>Paracoccidioides</strong> <strong>brasiliensis.</strong></li>\n<li>In cultures at 37<sup>o</sup>C, large, oval cells with multiple buds encircling the mother cell is seen as <strong>Mariner&rsquo;s or pilot&rsquo;s wheel appearance.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/e3e718fe9f43418ea41cd595d15890f0.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "All of the following statements are true regarding glanders disease except",
    "choices": [
      {
        "id": 1,
        "text": "Strauss reaction is Diagnostic of glanders disease"
      },
      {
        "id": 2,
        "text": "Acute glanders is characterized by mucopurulent nasal discharge"
      },
      {
        "id": 3,
        "text": "Mallein Test is used for diagnosis of glanders disease"
      },
      {
        "id": 4,
        "text": "Human infection is acquired rarely from infected animals"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Strauss reaction </strong>is <strong>not diagnostic of glanders</strong>, as in addition to <strong>Burkholderia mallei </strong>it may also be produced by inoculation of other bacteria such as <strong>brucella</strong> species, <strong>Preisz-Nocard bacillus</strong>, <strong>actinobacillus ligniersi</strong> and <strong>B. pseudomallei</strong>.</p>\n<p><strong>STRAUSS REACTION:</strong> Male guinea pigs are inoculated intraperitoneally with suspected material; if the <strong>glanders</strong> organism is present, it will usually set up a <strong>necrotizing inflammation</strong> in the <strong>scrotal sac</strong> within a few days and the specific organism can be confirmed bacteriologically.</p>\n<p><strong>About other options:</strong></p>\n<ul>\n<li><strong>Option B:</strong> Glanders disease may be acute or chronic. In acute glanders, there is fever, <strong>mucopurulent nasal discharge</strong> and severe <strong>prostration</strong>. The fatality rate is high.</li>\n<li><strong>Option C</strong>: <strong>Mallein test,</strong> is <strong>hypersensitivity</strong> <strong>test</strong> to the bacterial protein of <strong>Burkholderia mallei. Animal</strong> suffering from the glanders develop <strong>delayed hypersensitivity</strong> to the bacterial protein. This is the basis of mallein test used for diagnosis of <strong>glanders</strong>. This is analogous to the tuberculin test and may be performed by the subcutaneous, intracutaneous or conjunctival methods.</li>\n<li><strong>Option D:</strong> Human infection is occupational, found in Ostlers, grooms and veterinarians. Human infection is <strong>rarely acquired from infected animals.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Warthin-Finkeldey cells as shown in the image below are seen in",
    "choices": [
      {
        "id": 1,
        "text": "Measles"
      },
      {
        "id": 2,
        "text": "Mumps"
      },
      {
        "id": 3,
        "text": "Rubella"
      },
      {
        "id": 4,
        "text": "Yellow fever"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li><strong>Warthin-Finkeldey</strong> cells are <strong>multinucleate</strong> <strong>giant</strong> <strong>cells</strong> which are found in the lymphoid tissues of patients infected with <strong>measles</strong>.</li>\n<li>Cytopathic effect of measles consists <strong>of multinucleate syncytium formation</strong> with numerous acidophilic nuclear and cytoplasmic inclusions.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/27c0e7c66f0a40f599c8cf184bed7243.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following media is used as transport media for Neisseria species?",
    "choices": [
      {
        "id": 1,
        "text": "Cary Blair medium"
      },
      {
        "id": 2,
        "text": "VR medium"
      },
      {
        "id": 3,
        "text": "Stuart\u2019s medium"
      },
      {
        "id": 4,
        "text": "Pike\u2019s medium"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Stuart Transport Medium</strong>&nbsp;is recommended for the preservation and transportation of&nbsp;<strong>Neisseria</strong>&nbsp;species and other fastidious organisms from the clinic to laboratory.</p>\n<p><strong>Composition of Stuart Medium:</strong></p>\n<ul>\n<li>Sodium glycerophosphate</li>\n<li>Sodium thioglycollate</li>\n<li>Calcium chloride</li>\n<li>Methylene blue</li>\n<li>Agar</li>\n</ul>\n<p><strong>Characteristics of Stuart medium:</strong></p>\n<ul>\n<li>This medium is a chemically defined,&nbsp;<strong>semisolid</strong>,<strong>&nbsp;non-nutrient medium</strong>&nbsp;which prevent microbial proliferation.</li>\n<li>Because of this composition the medium ensures that microorganisms present are able to survive for a sufficiently long period of time.</li>\n<li><strong>Sodium&nbsp;thioglycollate</strong>&nbsp;produces a reduced environment so as to improve the recovery of anaerobes.</li>\n<li><strong>Methylene blue</strong>&nbsp;acts as<strong>&nbsp;oxidation reduction&nbsp;indicator</strong>.</li>\n<li><strong>Calcium chloride</strong>&nbsp;maintains permeability of bacterial cells and&nbsp;<strong>sodium glycerophosphate</strong>&nbsp;maintains the pH of the medium.</li>\n<li>The medium appears&nbsp;<strong>colourless in the reduced state</strong>&nbsp;and&nbsp;<strong>blue in the oxidized state</strong>.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The Prausnitz-Kustner (P-K) reaction is an example of _________",
    "choices": [
      {
        "id": 1,
        "text": "Type I hypersensitivity reaction"
      },
      {
        "id": 2,
        "text": "Type II hypersensitivity reaction"
      },
      {
        "id": 3,
        "text": "Type III hypersensitivity reaction"
      },
      {
        "id": 4,
        "text": "Type IV hypersensitivity reaction"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The <strong>Prausnitz&ndash;K&uuml;stner test</strong> (PK test, <strong>Prausnitz-K&uuml;stner reaction</strong>) is an immunologic test formerly used by physicians to determine if a patient has an allergic reaction to a specific antigen.</p>\n<p>It is an example of a&nbsp;<strong>Type I hypersensitivity reaction</strong>.</p>\n<p>The PK test involves <strong>transferring serum</strong> from the test subject to another healthy person. This test is not performed now and been replaced by the safer skin prick test.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following infections gives positive Weil-Felix test with OX K agglutinins?",
    "choices": [
      {
        "id": 1,
        "text": "Rocky mountain spotted fever"
      },
      {
        "id": 2,
        "text": "Epidemic typhus"
      },
      {
        "id": 3,
        "text": "Endemic typhus"
      },
      {
        "id": 4,
        "text": "Scrub typhus"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li><strong>Weil-Felix reaction</strong> is a <strong>heterophile agglutination reaction</strong> in which the sera are tested for agglutinins to the O antigens of certain Non-motile Proteus strains <strong>OX 19, OX 2 and OX K.</strong></li>\n<li>Basis of the test is sharing of an alkali stable carbohydrate antigen by some rickettsiae and by some strains of <strong>Proteus vulgaris OX 19 &amp; OX 2</strong> and <strong>Proteus mirabilis OX K.</strong></li>\n<li><strong>OX K</strong> is agglutinated <strong>only in Scrub typhus</strong>.</li>\n</ul>\n<p><strong>Good to know:</strong></p>\n<ul>\n<li>Similar antigens present on dissimilar organisms <strong>are heterophile antigens.</strong></li>\n<li>Antibodies reacting with such antigens are <strong>called heterophile antibodies.</strong></li>\n<li>Serologic tests employing these heterophile antigens are called <strong>Heterophile agglutination tests</strong>.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The characteristic appearance on Dienes staining as shown in the image below is caused by ______",
    "choices": [
      {
        "id": 1,
        "text": "Mycoplasma"
      },
      {
        "id": 2,
        "text": "Chlamydiae"
      },
      {
        "id": 3,
        "text": "Anthrax"
      },
      {
        "id": 4,
        "text": "Diphtheria"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The above <strong>Image</strong> shows a <strong>&lsquo;fried-egg&rsquo; colony (bottom)</strong> and a <strong>granular colony (top)</strong> of <strong>Mycoplasma</strong> stained by <strong>Diene&rsquo;s stain.</strong></p>\n<p>The <strong>central dark bluish</strong> area represents the area of mycoplasmal downgrowth whereas the <strong>pale blue periphery</strong> indicates superficial growth of Mycoplasma on the agar.</p>\n<p><strong>Diene&rsquo;s method:</strong></p>\n<ul>\n<li>A block of agar containing the colonies of <strong>Mycoplasma</strong> is cut and placed on a <strong>slide</strong>.</li>\n<li>It is covered with a cover slip on which an <strong>alcoholic solution</strong> of <strong>methylene blue</strong> and <strong>azure</strong> has been dried.</li>\n<li>The slide is observed under microscope.</li>\n<li>Mycoplasma with <strong>fired egg colony morphology</strong> will stain with a <strong>dark blue center</strong> and <strong>light blue periphery</strong> and will appear highly granular. The agar background will remain clear or slightly violet.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/da41cde32ab54c5fb634839c7a29c0dd.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The chromosome involved in DiGeorge syndrome is ______",
    "choices": [
      {
        "id": 1,
        "text": "Chromosome 10"
      },
      {
        "id": 2,
        "text": "Chromosome 21"
      },
      {
        "id": 3,
        "text": "Chromosome 22"
      },
      {
        "id": 4,
        "text": "Chromosome 18"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>DiGeorge syndrome</strong> (<strong>Thymic</strong> <strong>hypoplasia</strong>) is the most common&nbsp;micro deletion syndrome&nbsp;characterized by&nbsp;low copy repeats and the deletion which occurs near the middle of the&nbsp;<strong>chromosome 22</strong>&nbsp;at a location designated&nbsp;as 22q11.2<em>.</em></p>\n<p>It is a developmental defect involving the endodermal derivatives of the <strong>third and fourth pharyngeal pouches</strong>.</p>\n<p>It leads to aplasia and hypoplasia of <strong>thymus</strong> and <strong>parathyroid</strong> <strong>glands</strong>.</p>\n<p>It is usually associated with <strong>Fallot&rsquo;s tetralogy</strong> and other anomalies of heart. <strong>Neonatal</strong> tetany is also seen.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/36231d7985ae48adae261ac6e9bc8fa9x228x232.PNG"
    ]
  },
  {
    "text": "All of the following statements are false about Immunotherapy of cancer except",
    "choices": [
      {
        "id": 1,
        "text": "Active immunotherapy was the earliest method of cancer immunotherapy"
      },
      {
        "id": 2,
        "text": "Interferons are used in the treatment of squamous and basal cell carcinomas"
      },
      {
        "id": 3,
        "text": "Dinitrochlorobenzene is used in the treatment of leukemia"
      },
      {
        "id": 4,
        "text": "Lymphokine activated killer (LAK) cells are used in the treatment of renal cell carcinomas"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Lymphokine activated killer (LAK) cells are used in the treatment of renal cell carcinomas.</p>\n<p>There are different approaches in the immunotherapy of cancer which include, Passive, Active and Adoptive immunotherapy.</p>\n<ul>\n<li><strong>Passive</strong> <strong>immunotherapy</strong> was the <strong>earliest</strong> <strong>method</strong> of cancer immunotherapy which involved administration of the antisera, prepared by immunizing animals with tumor biopsy specimen. This method was later abandoned.</li>\n<li><strong>Active</strong> <strong>immunotherapy</strong> includes\n<ol>\n<li><strong>Dinitrochlorobenzene</strong> is used in the treatment of squamous and basal cell carcinomas</li>\n<li><strong>Interferons</strong> which are used in the treatment of leukaemia, and administration of intralesional <strong>BCG</strong> in malignant melanoma</li>\n</ol>\n</li>\n<li><strong>Lymphokine activated killer (LAK) cells</strong> obtained by treatment of <strong>natural killer cells</strong> with <strong>interleukin-2</strong> are used in <strong>adoptive</strong> <strong>immunotherapy</strong> in the treatment of <strong>renal</strong> <strong>cell</strong> <strong>carcinomas</strong>.</li>\n<li></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An infant had high grade fever and respiratory distress at the time of presentation to the emergency room. The sample collected for blood culture was subsequently positive showing growth of \u03b1 haemolytic colony. On Gram staining these were gram positive cocci. In the screening test for identification, the suspected pathogen is likely to be susceptible to the following agent",
    "choices": [
      {
        "id": 1,
        "text": "Bacitracin"
      },
      {
        "id": 2,
        "text": "Novobiocin"
      },
      {
        "id": 3,
        "text": "Optochin"
      },
      {
        "id": 4,
        "text": "Oxacillin"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>Growth of<strong> Alpha haemolytic colonies</strong> and <strong>gram positive cocci</strong> which are isolated from a sputum of a patient with high grade fever and respiratory distress is suggestive of <strong>Pneumococcal</strong> <strong>Pneumonia.</strong></li>\n<li>Both <strong>Str. viridans and Pneumococci </strong>produce <strong>alpha</strong> <strong>hemolysis</strong> on Blood Agar.</li>\n<li><strong>Optochin</strong> (Ethyl hydrocuprein hydrochloride) sensitivity test is done to differentiate Pneumococcus from commensal like Strept Viridans.</li>\n<li>When <strong>Optochin disk (6 mm, 5 &micro;g)</strong> is applied on a plate of blood agar inoculated with pneumococci and incubated, a wide zone of inhibition occurs.</li>\n</ul>\n<p><strong>Note</strong>: Optochin Test is considered positive / sensitive when the <strong>zone of inhibition is 14 mm or greater</strong> in diameter with 6 mm disk.</p>\n<ul>\n<li><strong>Pneumococcus</strong> &ndash; Optochin Sensitive / Positive Optochin Test</li>\n<li><strong>Strept. Viridans</strong> &ndash; Optochin Resistant / Negative Optochin Test</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6ee4ee58ecd240cbb17175434ebc7d5fx450x562.PNG"
    ]
  },
  {
    "text": "Which of the following fungi shows germ tube formation?",
    "choices": [
      {
        "id": 1,
        "text": "Cryptococcus"
      },
      {
        "id": 2,
        "text": "Candida albicans"
      },
      {
        "id": 3,
        "text": "Histoplasma capsulatum"
      },
      {
        "id": 4,
        "text": "Sporothrix schenckii"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Germ</strong> <strong>tube</strong> <strong>formation</strong> (also known as Reynold Braude phenomenon) is seen in <strong>Candida albicans.</strong></p>\n<p>This phenomena is also Seen in <strong>C. tropicalis</strong>.</p>\n<p>If a few colonies of <strong>Candida</strong> <strong>albicans</strong> are inoculated in serum, the yeast cells start to form elongations called <strong>germ tubes</strong> within 2 hours, when kept at 37&deg;C.</p>\n<p>It is also positive for a relatively new characterized species, Candida dubliniensis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The main cytokine, involved in erythema nodosum leprosum (ENL) reaction is:",
    "choices": [
      {
        "id": 1,
        "text": "Interleukin \u2013 2"
      },
      {
        "id": 2,
        "text": "Interferon \u2013 gamma"
      },
      {
        "id": 3,
        "text": "Tumor necrosis factor \u2013 alpha"
      },
      {
        "id": 4,
        "text": "Macrophage colony stimulating factor"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>Elevated levels of circulating <strong>tumor necrosis factor (TNF)</strong> have been demonstrated in ENL. Thus, TNF may play a central role in the pathobiology of this syndrome.</li>\n<li><strong>Erythema nodosum leprosum (ENL)</strong> is a type 2 lepra reaction which occurs exclusively in patients near the lepromatous end of the leprosy spectrum (<strong>BL/LL</strong>).</li>\n<li>The most common features of ENL are crops of <strong>painful</strong> <strong>erythematous</strong> <strong>papules</strong> that resolve spontaneously in a few days to a week but may recur.</li>\n<li>However, patients may also experience symptoms of <strong>neuritis</strong>, <strong>lymphadenitis</strong>, <strong>uveitis</strong>, <strong>orchitis</strong>, and <strong>glomerulonephritis</strong> and may develop anemia, leukocytosis, and abnormal liver function tests.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is used to test the efficiency of sterilization in an autoclave?",
    "choices": [
      {
        "id": 1,
        "text": "Serratia marscesens"
      },
      {
        "id": 2,
        "text": "Bacillus stearothermophilus"
      },
      {
        "id": 3,
        "text": "Bacillus pumilus"
      },
      {
        "id": 4,
        "text": "Bacillus cereus"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><em><strong>Bacillus stearothermophilus</strong></em> is used as <strong>biological sterilization indicator</strong> in the&nbsp;<strong>autoclave</strong>.</p>\n<p>A <strong>biological indicator</strong> provides information on whether necessary conditions were met to kill a specified number of microorganisms for a given sterilization process, providing a level of confidence in the process.</p>\n<table style=\"width: 305px; height: 446px;\">\n<tbody>\n<tr>\n<td style=\"width: 124.172px;\"><strong>Sterilization technique</strong></td>\n<td style=\"width: 164.828px;\"><strong>Bacteria</strong></td>\n</tr>\n<tr>\n<td style=\"width: 124.172px;\">Hot air oven</td>\n<td style=\"width: 164.828px;\">\n<p>Spores of <em>Bacillus subtilis subsp. Niger</em> (reclassified as <em>B.atrophaeus)</em></p>\n<p><em>Clostridium tetani<strong>&nbsp;</strong></em></p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 124.172px;\">Autoclave</td>\n<td style=\"width: 164.828px;\"><em>Geobacillus stearothermophilus</em></td>\n</tr>\n<tr>\n<td style=\"width: 124.172px;\">Filtration</td>\n<td style=\"width: 164.828px;\">\n<p><em>Serratia marscesens</em></p>\n<p><em>Brevundimonas diminuta</em></p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 124.172px;\">Ionizing radiation</td>\n<td style=\"width: 164.828px;\"><em>Bacillus pumilus</em></td>\n</tr>\n<tr>\n<td style=\"width: 124.172px;\">Ethylene oxide</td>\n<td style=\"width: 164.828px;\"><em>Bacillus globigii</em>&nbsp;(reclassified as <em>B.atrophaeus</em>)</td>\n</tr>\n<tr>\n<td style=\"width: 124.172px;\">Plasma sterilization</td>\n<td style=\"width: 164.828px;\">\n<p><em>Geobacillus stearothermophilus</em></p>\n<p><em>Bacillus atrophaeus&nbsp;(Bacillus subtilis subsp. Niger)</em></p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In a patient with UTI, CLED (Cystine, Lactose Electrolyte Deficient) Media is preferred over Mac Conkeys media because:",
    "choices": [
      {
        "id": 1,
        "text": "It is a differential medium"
      },
      {
        "id": 2,
        "text": "In inhibits swarming of Proteus"
      },
      {
        "id": 3,
        "text": "Promotes growth of Pseudomonas"
      },
      {
        "id": 4,
        "text": "Promotes growth of staphylococcus aureus and Candida"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li>Both CLED and Mac Conkey media are <strong>Differential Media</strong> and they inhibit proteus swarming and both promote growth of Pseudomonas.</li>\n<li><strong>MacConkey media</strong> inhibits growth of all gram positive bacteria, and also Staphylococcus and Candida due to the incorporation of inhibitor substance <strong>Crystal violet</strong>.</li>\n<li>Whereas <strong>CLED</strong> supports growth of Staphylococcus and Candida, which are also urinary pathogens.</li>\n<li>Hence it is preferable to use CLED for urine samples in the laboratories.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Innate immunity is stimulated by which part of bacteria?",
    "choices": [
      {
        "id": 1,
        "text": "Carbohydrate sequence in the cell wall"
      },
      {
        "id": 2,
        "text": "Fimbriae"
      },
      {
        "id": 3,
        "text": "Bacterial cell membrane"
      },
      {
        "id": 4,
        "text": "Nucleus"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li><strong>Pathogen-associated molecular patterns</strong>, or <strong>PAMPs</strong>, are molecules associated with groups of pathogens that are recognized by cells of the <strong>innate immune system</strong>.</li>\n<li>They are recognized by <strong>toll-like receptors (TLRs)</strong> and other <strong>pattern recognition receptors (PRRs).</strong></li>\n<li>Pattern recognition receptors are important component of innate immunity.</li>\n<li><strong>Toll-like receptors</strong> are e.g. of PRR Protein Family which bind to <strong>carbohydrate antigens on bacterial and viral surfaces</strong>.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following microorganisms has the appearance as shown in the image below?",
    "choices": [
      {
        "id": 1,
        "text": "Yersinia pestis"
      },
      {
        "id": 2,
        "text": "Bacillus anthracis"
      },
      {
        "id": 3,
        "text": "Proteus mirabilis"
      },
      {
        "id": 4,
        "text": "Klebsiella pneumonia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The above image shows characteristic bipolar staining giving a &ldquo;<strong>safety</strong> <strong>pin</strong> <strong>appearance</strong>&rdquo; shown by <strong>Yersinia</strong> <strong>pestis</strong>.</p>\n<p>In smears stained with Giemsa or methylene blue, Yersinia pestis shows bipolar staining with two ends densely stained and the central area clear.</p>\n<p>&nbsp;</p>\n<p><strong>Note: &nbsp;Bipolar staining is also shown by:</strong></p>\n<ul>\n<li>Haemophilus ducreyi</li>\n<li>Vibrio parahemolyticus</li>\n<li>Calymmatobacterium granulomatis</li>\n<li>Burkholderia mallei</li>\n<li>Burkholderia pseudomallei</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/e4a542095ac94fd780a2535662ddc8ee.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Skeletal Muscle biopsy is used in the diagnosis of infection by ______",
    "choices": [
      {
        "id": 1,
        "text": "Trichuris trichiura"
      },
      {
        "id": 2,
        "text": "Trichinella spiralis"
      },
      {
        "id": 3,
        "text": "Ascaris lumbricoides"
      },
      {
        "id": 4,
        "text": "Enterobius vermicularis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Encysted larvae of <strong>Trichinella spiralis </strong>are present in <strong>the striated muscles</strong> of its hosts.</p>\n<p>Adult worm is one of the smallest nematodes infecting humans.</p>\n<p>Detection of <strong>spiral larva in muscle tissue</strong> is done by performing a <strong>muscle biopsy</strong>.</p>\n<p>Deltoid, biceps, gastrocnemius or pectoralis muscles are usually selected for biopsy.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c7cc8b47fea3474cbd1563fbae1a44b5x688x599.JPEG"
    ]
  },
  {
    "text": "Calabar swellings are seen in",
    "choices": [
      {
        "id": 1,
        "text": "Loiasis"
      },
      {
        "id": 2,
        "text": "River blindness"
      },
      {
        "id": 3,
        "text": "Tropical pulmonary eosinophilia"
      },
      {
        "id": 4,
        "text": "Occult filariasis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li><strong>Calabar</strong> swellings are seen in <strong>Loiasis</strong>.</li>\n<li><strong>Loa loa</strong> causes Loiasis. The pathogenesis depends on the migratory habit of the adult worm.</li>\n<li>These wanderings through subcutaneous tissues set up a temporary foci of inflammation, which appear as swellings of up to 3 cm in size as shown in the image below called <strong>Calabar swellings or fugitive swellings</strong> because they disappear in a few days only to reappear elsewhere</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/8c4d6096d31a47a8b399eb581ee14e1fx297x223.PNG"
    ]
  },
  {
    "text": "Envelope antigen (HbeAg) of hepatitis B is encoded by the _________.",
    "choices": [
      {
        "id": 1,
        "text": "C gene"
      },
      {
        "id": 2,
        "text": "S gene"
      },
      {
        "id": 3,
        "text": "P gene"
      },
      {
        "id": 4,
        "text": "X gene"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li><strong>HBeAg</strong> is coded by the <strong>C gene</strong> if the translation begins from the&nbsp;<strong>pre-C region.</strong></li>\n<li>HBV contains a small, partially double-stranded (DS), relaxed-circular DNA (<strong>rcDNA</strong>) genome that replicates by reverse transcription of an RNA intermediate, the pre- genomic RNA (pgRNA). The genome encodes <strong>four overlapping open reading frames (ORFs)</strong> that are translated into <strong>viral core protein</strong>, <strong>surface proteins</strong>, <strong>polymerase/reverse transcriptase</strong> (RT), and <strong>HBx</strong>.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/f3725d68b06a41b6abe0217fe6b77635x425x421.PNG",
      "https://cdn1.dailyrounds.org/uploads/d4080b902cbb4859975bc5ca429f8627x638x479.JPEG"
    ]
  },
  {
    "text": "Which of the following cell cultures are continuous cell lines:\n1. HeLa\n2. WI - 38\n3. Hep-2\n4. MRC-5\n5. Mc-Coy",
    "choices": [
      {
        "id": 1,
        "text": "1, 3 and 4"
      },
      {
        "id": 2,
        "text": "1, 2 and 3"
      },
      {
        "id": 3,
        "text": "2, 3 and 4"
      },
      {
        "id": 4,
        "text": "1, 3 and 5"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>All of the above are continuous cell lines except <strong>WI-38 and MRC-5</strong> which are <strong>diploid human cell culture lines.</strong></p>\n<p><strong>Finite vs Continuous Cell Line:</strong></p>\n<ul>\n<li>Normal cells usually divide only a limited number of times before losing their ability to proliferate, which is a genetically determined event known as <strong>senescence</strong>; these cell lines are known as <strong>finite</strong>.</li>\n<li>However, some cell lines become immortal through a process called <strong>transformation</strong>, which can occur spontaneously or can be chemically or virally induced.&nbsp; When a finite cell line undergoes transformation and acquires the ability to divide indefinitely, it becomes a <strong>continuous</strong> <strong>cell</strong> <strong>line / immortalized cell line</strong>.</li>\n</ul>\n<p><strong>Cell cultures are classified into 3 types</strong></p>\n<ol>\n<li>Primary cell culture</li>\n<li>Diploid cell strains</li>\n<li>Continuous cell lines</li>\n</ol>\n<table style=\"width: 442.4px;\">\n<tbody>\n<tr>\n<td style=\"width: 133px;\"><strong>Primary cell culture</strong></td>\n<td style=\"width: 140px;\"><strong>Diploid cell culture</strong></td>\n<td style=\"width: 157.4px;\"><strong>Continuous cell lines</strong></td>\n</tr>\n<tr>\n<td style=\"width: 133px;\">Capable of only limited growth</td>\n<td style=\"width: 140px;\">Cells of single type that retain original diploid chromosome</td>\n<td style=\"width: 157.4px;\">Cells of single type derived from cancer cells</td>\n</tr>\n<tr>\n<td style=\"width: 133px;\">Cannot be maintained in serial culture</td>\n<td style=\"width: 140px;\">Serial subcultures can be done for a limited number of times &ndash; after that, they undergo &ldquo;senescence&rdquo;</td>\n<td style=\"width: 157.4px;\">Capable of continuous serial cultivation and can be stored in the cold (-70<sup>o</sup>C)</td>\n</tr>\n<tr>\n<td style=\"width: 133px;\">Used for isolation of viruses and cultivation for vaccine production</td>\n<td style=\"width: 140px;\">Used for production of viral vaccines</td>\n<td style=\"width: 157.4px;\">Used for vaccine manufacture</td>\n</tr>\n<tr>\n<td style=\"width: 133px;\">Ex: human embryonic kidney, human amnion, and chick embryo cell cultures.</td>\n<td style=\"width: 140px;\">&nbsp;Ex: Human fibroblast cell line for CMV,MRC-5, WI- 38</td>\n<td style=\"width: 157.4px;\">Ex: HeLa, Hep-2, KB, McCoy cell lines</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Grey or black colonies on Tellurite blood agar indicates the growth of which of the following bacteria?",
    "choices": [
      {
        "id": 1,
        "text": "Vibrio Cholera"
      },
      {
        "id": 2,
        "text": "Corynebacterium diphtheria"
      },
      {
        "id": 3,
        "text": "Staphylococcus aureus"
      },
      {
        "id": 4,
        "text": "Streptococcus pyogenes"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li>The diphtheria bacilli reduce&nbsp;<strong>tellurite to metallic tellurium</strong>, which is incorporated in the colonies, giving them a <strong>grey</strong> or <strong>black colour.</strong></li>\n<li>The growth of diphtheria bacilli may be delayed on the tellurite medium and colonies may take two days to appear.</li>\n<li>Based on the colony morphology on tellurite medium and other properties MacLeod classified diphtheria bacilli into three types, gravis intermedius and mitis.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 15 years old girl has received complete immunization against tetanus 7 years ago. Now she presents with a contaminated wound sustained 6 hours ago. She should now be given?",
    "choices": [
      {
        "id": 1,
        "text": "Full course tetanus toxoid"
      },
      {
        "id": 2,
        "text": "Single dose tetanus toxoid"
      },
      {
        "id": 3,
        "text": "Human tetanus immunoglobulin"
      },
      {
        "id": 4,
        "text": "Human tetanus immunoglobulin and single dose of toxoid"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The girl should be given <strong>a single dose of tetanus toxoid </strong>alone</p>\n<p>She presented with a contaminated wound sustained 6 hours ago and she has received complete immunization against tetanus 7 years back, which comes under Category B of Tetanus Immunization.</p>\n<p>According to the recommendations of the CDC:</p>\n<table style=\"height: 151px;\" width=\"626\">\n<tbody>\n<tr>\n<td style=\"width: 118px;\">Vaccination History</td>\n<td style=\"width: 118px;\">Clean Minor Wounds</td>\n<td style=\"width: 118px;\">All other wounds</td>\n</tr>\n<tr>\n<td style=\"width: 118px;\">Unknown or fewer than 3 doses</td>\n<td style=\"width: 118px;\">Tdap/Td</td>\n<td style=\"width: 118px;\">Tdap/TD + TIG</td>\n</tr>\n<tr>\n<td style=\"width: 118px;\">3 or more doses</td>\n<td style=\"width: 118px;\">Tdap/ Td Only if &gt; 10 years</td>\n<td style=\"width: 118px;\">Tdap/TD Only if &gt; 5 years</td>\n</tr>\n</tbody>\n</table>\n<p>Tdap - Tetanus, Diptheria, and Pertussis</p>\n<p>Td - Tetanus and Diptheria</p>\n<p>Tdap for children and Td for adults but Tdap is preferred to Td for adults who have never received Tdap.</p>\n<p>&nbsp;</p>\n<p><strong>Categories of Tetanus immunization:</strong></p>\n<ul>\n<li><strong>Category A</strong>&nbsp;- Taken a complete course of TT/booster within past 5 years</li>\n<li><strong>Category B</strong>&nbsp;- Taken a complete course of TT/booster within the past &gt; 5 years &lt; 10 years.</li>\n<li><strong>Category C</strong> - Taken a complete course of TT/booster within the past &gt;10 years</li>\n<li><strong>Category D</strong>&nbsp;- Not taken a complete course of TT/booster or immunity status not known.</li>\n</ul>\n<p>&nbsp;</p>\n<p>Note:</p>\n<p>WHO recommends a 3-dose primary vaccination series with tetanus-diphtheria containing vaccine followed by 3 booster doses.&nbsp;Ideally, there should be at least 4 years between booster doses.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7072435aef93478683f601da12a14192x610x458.PNG"
    ]
  },
  {
    "text": "The accepted threshold for bacteriuria to meet the definition of CAUTI is?",
    "choices": [
      {
        "id": 1,
        "text": ">10^2  CFU/ml"
      },
      {
        "id": 2,
        "text": ">10^3  CFU/ml"
      },
      {
        "id": 3,
        "text": ">10^4  CFU/ml"
      },
      {
        "id": 4,
        "text": ">10^5  CFU/ml"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The accepted threshold for bacteriuria for <strong>CAUTI (Catheter Associated Urinary Tract Infection)</strong> is <strong>&gt; 10<sup>3&nbsp; </sup>CFU/ml</strong> while the definition for Asymptomatic bacteriuria is &gt;10<sup>5&nbsp; </sup>CFU/ml.</p>\n<p>&nbsp;</p>\n<p><strong>Abbreviation</strong>: CFU/ml: Colony Forming Units per milliliter.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Diene\u2019s phenomenon as shown in the image below is exhibited by",
    "choices": [
      {
        "id": 1,
        "text": "Proteus"
      },
      {
        "id": 2,
        "text": "Klebsiella"
      },
      {
        "id": 3,
        "text": "Providencia"
      },
      {
        "id": 4,
        "text": "Bacillus anthracis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>When two <strong>identical strains of Proteus</strong> are inoculated at different places on the same culture plate, the resulting swarms of growth <strong>coalesce</strong> and no line is formed between swarming culture of the same strain.</p>\n<p>However if they are from <strong>two different strains</strong>, the spreading films of growth <strong>fail to coalesce</strong> and remain separated by a narrow but easily visible <strong>furrow</strong>.</p>\n<p>This is known as <strong>Diene&rsquo;s phenomenon.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/906b85ddfe5d494eae92823b5a690548.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "During community medicine postings, you are posted for the pulse polio immunization programme as an intern. You see only polio vaccine drops being administered orally to all children within the age of 0-5 years. Which of the following statements is true regarding types of vaccines against Polio?",
    "choices": [
      {
        "id": 1,
        "text": "Salk type has the live attenuated virus"
      },
      {
        "id": 2,
        "text": "OPV can be administered in immunocompromised persons"
      },
      {
        "id": 3,
        "text": "Salk type vaccine is associated with mutations that lead to reversal of virulence"
      },
      {
        "id": 4,
        "text": "Both OPV and IPV induces humoral Ig"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Both OPV</strong>&nbsp;(Oral polio vaccine)<strong> and IPV&nbsp;</strong>(Inactivated polio vaccine)&nbsp;induce <strong>humoral IgG</strong>&nbsp;and <strong>IgM antibodies</strong>.<strong>&nbsp;OPV</strong>&nbsp;also induces <strong>local immunity</strong> in the lining of the intestine.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following diseases is / are caused by HHV8?",
    "choices": [
      {
        "id": 1,
        "text": "Primary effusion lymphoma"
      },
      {
        "id": 2,
        "text": "Kaposi's sarcoma"
      },
      {
        "id": 3,
        "text": "Both a and b"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>HHV-8 or <strong>Kaposi&rsquo;s sarcoma&ndash;associated herpesvirus</strong> is a known as causative agent of <strong>four diseases</strong>:</p>\n<ol>\n<li><strong>Kaposi's sarcoma</strong> &ndash; an angio proliferative tumor that can involve skin (most often), lymph nodes, or viscera.</li>\n<li><strong>KSHV associated</strong> <strong>multicentric Castleman's disease (MCD)</strong> &ndash; a B-cell lymphoproliferative disorder.</li>\n<li><strong>Primary effusion lymphoma </strong>&ndash; KSHV-associated aggressive mature monoclonal B-cell lymphoma.</li>\n<li><strong>KSHV inflammatory cytokine syndrome</strong> &ndash; a syndrome with MCD-like symptoms but without associated pathology.</li>\n</ol>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following statements are false regarding the Milk Ring test except:",
    "choices": [
      {
        "id": 1,
        "text": "The test is used to identify the brucella antigens present in the milk"
      },
      {
        "id": 2,
        "text": "The milk is incubated at 50\u00b0C for 10 minutes"
      },
      {
        "id": 3,
        "text": "Formation of blue ring at the top leaving behind the remaining milk unstained implies MRT negative"
      },
      {
        "id": 4,
        "text": "A concentrated suspension of killed Br. abortus stained with hematoxylin is used as antigen for the test"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Milk Ring Test (MRT):</strong></p>\n<ul>\n<li>It is&nbsp;used to identify <strong>antibodies</strong> present in the milk, against the <strong>Brucella antigen</strong></li>\n<li>A concentrated suspension of <strong>killed Brucella abortus</strong> stained with <strong>hematoxylin</strong> is used as <strong>antigen</strong> for the test</li>\n<li>In the milk ring test, a sample of whole milk is mixed well with a drop of brucella antigen and <strong>incubated</strong> at <strong>70&deg;C for 40-50 minutes</strong></li>\n<li>If antibodies are present in the milk the bacilli are agglutinated and rise with the cream to form a <strong>blue ring at the top</strong>, leaving the <strong>milk unstained</strong> (<strong>MRT positive</strong>).</li>\n<li>If antibodies are absent, the milk remains <strong>uniformly blue (MRT negative).</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 45-year-old fisherman presents with pain and a lesion in his hand similar to what is shown in the image.  What is the causative organism for this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Streptococcus pyogenes"
      },
      {
        "id": 2,
        "text": "Corynebacterium xerosis"
      },
      {
        "id": 3,
        "text": "Erysipelothrix rhusiopathiae"
      },
      {
        "id": 4,
        "text": "Bacillus anthracis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above image shows a raised, well-circumscribed, violaceous lesion with the absence of pus. Thus, it is <strong>erysipeloid</strong>\u00a0which is a skin infection caused by <strong><em>Erysipelothrix</em>\u00a0<em>rhusiopathiae</em></strong><em><strong>.</strong></em></p>\n<p>Erysipeloid usually occurs on the fingers by <strong>direct\u00a0inoculation</strong> at the site of a cut or abrasion, in people who handle animals, fish or animal products. <strong>Pain</strong>, <strong>swelling</strong> and erythema develop and the condition has been called <strong>seal finger</strong> and <strong>whale finger.</strong>\u00a0<strong>Pus</strong> is\u00a0usually <strong>absent</strong> at the infection site, which helps differentiate it from staphylococcal and streptococcal skin infections. It resolves without treatment in 3-4 weeks.\u00a0</p>\n<p><em>Erysipelothrix rhusiopathiae</em> is a slender, non-motile, non-sporing Gram positive bacillus. It is catalase, oxidase, and indole negative. It causes disease in multiple land animals like swine, turkeys and sheep.\u00a0</p>\n<p>Note: <strong>Erysipelas</strong> is caused by <strong><em>Streptococcus pyogenes.\u00a0</em></strong>It<strong>\u00a0</strong>presents as\u00a0erythematous raised lesions with sharply demarcated edges.<strong>\u00a0</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/ae9ff2802fb94418a32345d6b01579f1.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following is a type III Hypersensitivity reaction?",
    "choices": [
      {
        "id": 1,
        "text": "Anaphylaxis"
      },
      {
        "id": 2,
        "text": "Atopy"
      },
      {
        "id": 3,
        "text": "Arthus reaction"
      },
      {
        "id": 4,
        "text": "Prausnitz- Kustner reaction"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Arthus reaction </strong>is <strong>Type III (Immune complex mediated)</strong> Hypersensitivity reaction.</p>\n<p><strong>Arthus</strong> <strong>reaction</strong> refers to the inflammation caused by the deposition of immune complexes at a localized site.</p>\n<p>If animals are given an antigen repeatedly until they have high levels of IgG antibody and that antigen is then injected subcutaneously or intradermally, intense <strong>edema</strong> and <strong>hemorrhage</strong> develop, reaching a peak in 3&ndash;6 hours.</p>\n<p>Antigen, antibody, and complement are deposited in vessel walls which leads to polymorphonuclear cell infiltration and intravascular clumping of platelets.</p>\n<p>These reactions can lead to vascular occlusion and necrosis</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/519826e266294190a454c3670da602d0x776x600.JPEG"
    ]
  },
  {
    "text": "Beta interferon is produced by ________",
    "choices": [
      {
        "id": 1,
        "text": "Activated T-cell"
      },
      {
        "id": 2,
        "text": "Leucocytes"
      },
      {
        "id": 3,
        "text": "Fibroblasts"
      },
      {
        "id": 4,
        "text": "Neutrophils"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Beta Interferon (</strong>also known as <strong>Fibroblast interferon) </strong>is produced by fibroblasts and epithelial cells.</p>\n<p><strong>Interferons (IFNs)</strong> are a group of signalling proteins produced and released by host cells in response to the presence of several pathogens, such as viruses, bacteria, parasites, and also tumor cells.</p>\n<p>Interferons are classified into three types, Alpha, beta and gamma</p>\n<ul>\n<li><strong>Alpha Interferon (Leukocyte interferon) </strong>is produced by leucocytes. It is a non-glycosylated protein.</li>\n<li><strong>Beta Interferon (Fibroblast interferon) </strong>is produced by fibroblasts and epithelial cells. It is a glycoprotein.</li>\n<li><strong>Gamma Interferon (Immune interferon), </strong>is produced by T-lymphocytes on stimulation by antigens or mitogens. It is a glycoprotein.\n<ul>\n<li>It is concerned with immuno-modulatory and anti-proliferative functions than with the anti-viral defence.</li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following stages of Entamoeba histolytica is considered as an infective form?",
    "choices": [
      {
        "id": 1,
        "text": "Trophozoite"
      },
      {
        "id": 2,
        "text": "Mature quadrinucleate cyst"
      },
      {
        "id": 3,
        "text": "Precystic form"
      },
      {
        "id": 4,
        "text": "Metacystic trophozoites"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Mature quadrinulceate</strong> cyst passed in feces can remain viable under moist conditions for about 10 days. It is considered as an <strong>infective form.</strong></p>\n<p>The following are the characteristic features of various life stages of <strong>entamoeba</strong> <strong>histolytica</strong>.</p>\n<p><strong>Trophozoite:</strong></p>\n<ul>\n<li>The trophozoite is found only in <strong>tissues</strong></li>\n<li>Its cytoplasm has <strong>ground</strong> <strong>glass</strong> appearance</li>\n<li><strong>Pseudopodia</strong> are present which exhibit gliding motility</li>\n<li>Nucleus has a central karyosome with radiating fibrils called linin network giving a <strong>cartwheel</strong> <strong>appearance.</strong></li>\n</ul>\n<p><strong>Precystic stage:</strong></p>\n<ul>\n<li>It has a large glycogen vacuole and 2 chromatid bars</li>\n<li>It secretes a refractile cyst wall to become a cyst</li>\n</ul>\n<p><strong>Cystic stage:</strong></p>\n<ul>\n<li><strong>Mature</strong> <strong>cyst</strong> has 4 nuclei, no glycogen mass</li>\n<li>Chromatid bars disappear</li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a3aecb171c2a4d4caaf2b525d202fea7x435x548.GIF"
    ]
  },
  {
    "text": "A woman presented with fever and retro-orbital pain for 2 days. NS1 antigen test was positive. Which of the following is true regarding the structure of the causative agent?",
    "choices": [
      {
        "id": 1,
        "text": "Ether resistant"
      },
      {
        "id": 2,
        "text": "Heat stable"
      },
      {
        "id": 3,
        "text": "Resistant to bile salts"
      },
      {
        "id": 4,
        "text": "Lipid is of host-cell origin"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>A woman with fever, retro-orbital pain and positive NS1 antigen most likely has <strong>dengue fever</strong>. It is caused by <strong>dengue virus</strong>, an<strong> enveloped</strong> virus. The<strong> lipid</strong> of enveloped viruses is largely of <strong>host-</strong><strong>cell</strong> <strong>origin,</strong> whereas <strong>protein</strong> is <strong>virus</strong> <strong>coded.</strong></p>\n<p>The <strong>envelope</strong> is a lipid-containing membrane that surrounds some virus particles. It is acquired during viral maturation, when the viral particle undergoes<strong> budding</strong> through the host cell membrane. Envelopes confer chemical, antigenic and biological properties to viruses. The following are the differences between enveloped and non-enveloped viruses.</p>\n<table>\n<tbody>\n<tr>\n<td><strong>Enveloped viruses</strong></td>\n<td><strong>Non-enveloped viruses</strong></td>\n</tr>\n<tr>\n<td>Ether sensitive</td>\n<td>Ether resistant</td>\n</tr>\n<tr>\n<td>Heat labile</td>\n<td>Heat stable</td>\n</tr>\n<tr>\n<td>Pleomorphic</td>\n<td>Non-pleomorphic</td>\n</tr>\n<tr>\n<td>Susceptible to bile salts</td>\n<td>Resistant to bile salts</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Valley fever or desert rheumatism refers to which of the following diseases?",
    "choices": [
      {
        "id": 1,
        "text": "Histoplasmosis"
      },
      {
        "id": 2,
        "text": "Sporotrichosis"
      },
      {
        "id": 3,
        "text": "Blastomycosis"
      },
      {
        "id": 4,
        "text": "Coccidioidomycosis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li><strong>Coccidioidomycosis</strong> commonly known as <strong>Valley fever or desert rheumatism is</strong> a mammalian fungal disease caused by Coccidioides immitis or Coccidioides posadasii.</li>\n<li><strong>C. posadasii</strong> and <strong>C. immitis</strong> are morphologically identical, but genetically and epidemiologically distinct.</li>\n<li>Infections usually occur due to inhalation of the <strong>arthroconidial</strong> <strong>spores</strong> after soil disruption.</li>\n</ul>\n<p><strong>Sins &amp; Symptoms:</strong></p>\n<ul>\n<li>The <strong>primary</strong> <strong>infection</strong> is most often respiratory, with symptoms resembling bronchitis or pneumonia that resolve over a matter of a few weeks.</li>\n<li>The <strong>classic</strong> <strong>triad</strong> of <strong>coccidioidomycosis</strong> known as \"desert rheumatism\" includes the combination of <strong>fever</strong>, <strong>joint</strong> <strong>pains</strong>, and <strong>erythema</strong> <strong>nodosum</strong>.</li>\n<li><strong>Chronic fibro cavitary disease</strong> is manifested by cough, sputum, fevers, night sweats and weight loss.</li>\n<li><strong>Osteomyelitis</strong>, including involvement of the spine, and meningitis which may occur months to years after initial infection.</li>\n</ul>\n<p><strong>Coccidioidomycosis may be divided into the following types:</strong></p>\n<ol>\n<li><strong>Acute coccidioidomycosis</strong>, sometimes described in literature as primary pulmonary coccidioidomycosis</li>\n<li><strong>Chronic coccidioidomycosis</strong></li>\n<li><strong>Disseminated coccidioidomycosis</strong>, which includes primary cutaneous coccidioidomycosis</li>\n</ol>\n<p><strong>Treatment:</strong></p>\n<ul>\n<li><strong>Fluconazole</strong> and <strong>intravenous amphotericin B</strong> are used in progressive or disseminated disease, or in immunocompromised individuals.</li>\n<li><strong>Itraconazole</strong> or <strong>ketoconazole</strong> may be used for milder disease.</li>\n<li><strong>Fluconazole</strong> is the preferred medication for coccidioidal meningitis, due to its penetration into CSF.</li>\n<li><strong>Intrathecal</strong> or <strong>intraventricular</strong> <strong>amphotericin B</strong> therapy is used if infection persists after fluconazole treatment.</li>\n<li>The antifungal medications <strong>posaconazole</strong> and <strong>voriconazole</strong> have also been used to treat coccidioidomycosis.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following are non-cultivable organism?\n1. Rhinosporidium seeberi\n2. Pneumocystis jiroveci\n3. Lacazia loboi",
    "choices": [
      {
        "id": 1,
        "text": "1 and 2 only"
      },
      {
        "id": 2,
        "text": "2 and 3 only"
      },
      {
        "id": 3,
        "text": "1 and 3 only"
      },
      {
        "id": 4,
        "text": "1, 2 and 3"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li><strong>Rhinosporidium</strong> <strong>seeberi</strong> causes rhinosporidiosis and it is not cultivable/culturable on artificial culture media.</li>\n<li>Similarly <strong>Pneumocystis</strong> <strong>jiroveci</strong> cannot be cultured in artificial media.</li>\n<li>Another non cultivable fungus is <strong>Lacazia</strong> <strong>loboi</strong>, the causative agent of <strong>Lobo&rsquo;s</strong> <strong>disease</strong>/<strong>lobomycosis</strong>.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following statements are true regarding Non Typhoidal Salmonellosis except",
    "choices": [
      {
        "id": 1,
        "text": "Gastroenteritis due to NTS is usually self-limited"
      },
      {
        "id": 2,
        "text": "Stool cultures remain positive for 4- 5 weeks after infection"
      },
      {
        "id": 3,
        "text": "Most common isolate from stool culture is Salmonella enteritidis"
      },
      {
        "id": 4,
        "text": "NTS can be acquired from multiple animal reservoirs"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>Most Common isolate of <strong>Non Typhoidal Salmonellosis </strong>NTS is <strong>Salmonella typhimurium</strong>.</li>\n<li>Non typhoidal salmonellosis refers to illnesses caused by all serotypes of&nbsp;<em>Salmonella</em>&nbsp;except for Typhi, Paratyphi A, Paratyphi B (tartrate negative), and Paratyphi C.</li>\n</ul>\n<p><strong>About Other Options:</strong></p>\n<ul>\n<li><strong>Option a: Gastroenteritis</strong> is the most common clinical presentation of non typhoidal&nbsp;Salmonella&nbsp;infection. The illness usually lasts 4&ndash;7 days, and most people recover without treatment.</li>\n<li><strong>Option b: </strong>Culturing organisms continues to be the mainstay of clinical diagnostic testing for non typhoidal&nbsp;Salmonella&nbsp;infection. Approximately 90% of isolates are obtained from routine stool culture until <strong>4 -5 weeks</strong> after infection.</li>\n<li><strong>Option d: </strong>Transmission Occurs usually through the consumption of food or water contaminated with animal feces also transmission may occur through food products, especially eggs, poultry, under cooked ground meat. <strong>Multiple animals</strong> act as reservoir for Non typhoidal salmonellosis.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is false regarding Amsel criteria for the diagnosis of bacterial vaginosis?",
    "choices": [
      {
        "id": 1,
        "text": "Release of fishy odour on adding 10% KOH"
      },
      {
        "id": 2,
        "text": "Thin, white/yellow homogenous vaginal discharge"
      },
      {
        "id": 3,
        "text": "Epithelial cells with surface covered by adherent bacilli on microscopy"
      },
      {
        "id": 4,
        "text": "pH of vaginal fluid > 6"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>pH of vaginal fluid</strong> is <strong>&gt;4.5</strong> in Amsel diagnostic criteria for diagnosing <strong>Bacterial vaginosis (BV).</strong></p>\n<p><strong>Bacterial vaginosis </strong>is a polymicrobial infection characterised by malodorous (Fishy smell) vaginal discharge.</p>\n<p>In clinical practice BV can be diagnosed using the <strong>Amsel criteria:</strong></p>\n<ol>\n<li>Thin, white, yellow, homogeneous discharge</li>\n<li><strong>Clue cells </strong>(Epithelial cells with surface covered by adherent bacilli seen in stained or unstained films) on microscopy</li>\n<li><strong>pH </strong>of vaginal fluid <strong>&gt;4.5</strong></li>\n<li>Release of a <strong>fishy odor</strong> on adding alkali&mdash;10% potassium hydroxide (KOH) solution.</li>\n</ol>\n<p>At least <strong>three of the four criteria</strong> should be present for a confirmed diagnosis.</p>\n<p><strong>Note:</strong> A modification of the Amsel criteria accepts the presence of two instead of three factors and is considered equally diagnostic.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "BCYE medium is used to culture",
    "choices": [
      {
        "id": 1,
        "text": "Mycobacterium"
      },
      {
        "id": 2,
        "text": "T. pallidum"
      },
      {
        "id": 3,
        "text": "H. pylori"
      },
      {
        "id": 4,
        "text": "Legionella"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li><strong>Legionella pneumophilia</strong> has fastidious growth requirements and hence grows on complex media such as BYCE - Buffered Charcoal, Yeast extract agar with L-cysteine and antibiotic supplements.</li>\n<li>It grows slowly, and the colonies may take 3-6 days to appear.</li>\n</ul>\n<p><strong>Composition of BCYE Agar and functions of each ingredient</strong></p>\n<ol>\n<li><strong>Agar</strong></li>\n<li><strong>ACES buffer:</strong> ACES buffer is added to maintain the proper pH for optimal growth.</li>\n<li><strong>Yeast extract:</strong> Yeast extract supplies the protein and other nutrients necessary to support growth</li>\n<li><strong>Charcoal:</strong> Activated charcoal decomposes hydrogen peroxide, a metabolic product toxic to Legionella species, and may also collect carbon dioxide and modify surface tension</li>\n<li><strong>L-Cysteine:</strong> L-Cysteine is an essential amino acid, incorporated to satisfy specific nutritional requirements of Legionella species</li>\n<li><strong>Ferric Pyrophosphate:</strong> used as an Iron supplement; iron source</li>\n<li><strong>Ketoglutarate monopotassium salt:</strong> Alpha-ketoglutarate is added to stimulate growth</li>\n</ol>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ad50f123b61f4891b310b341faedc8a8x614x544.JPEG"
    ]
  },
  {
    "text": "Which of the following organisms are most commonly associated with Fitz-Hugh Curtis syndrome?\n1. Chlamydia trachomatis\n2. Escherichia coli\n3. Neisseria gonorrhoea",
    "choices": [
      {
        "id": 1,
        "text": "1 and 2 only"
      },
      {
        "id": 2,
        "text": "2 and 3 only"
      },
      {
        "id": 3,
        "text": "1 and 3 only"
      },
      {
        "id": 4,
        "text": "1, 2 and 3"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li><strong>Fitz-Hugh Curtis syndrome</strong> is a rare complication of <strong>Pelvic</strong> <strong>Inflammatory</strong> <strong>Disease</strong> (<strong>PID</strong>).</li>\n<li>It is most commonly caused by <strong>Chlamydia</strong> <strong>trachomatis</strong> (Chlamydia) or <strong>Neisseria</strong> <strong>gonorrhoeae</strong> (Gonorrhea)</li>\n<li><strong>Occasionally</strong> other bacteria such as <strong>Bacteroides</strong>, <strong>Gardnerella</strong>, <strong>E. coli</strong> and <strong>Streptococcus</strong> have also been found to cause Fitz-Hugh-Curtis syndrome.</li>\n<li>It causes liver capsule inflammation leading to the creation of adhesions.</li>\n<li>The major symptom and signs include <strong>Right Upper Quadrant (RUQ) pain</strong> due to inflammation of <strong>Glisson&rsquo;s capsule</strong> and perihepatic adhesions.</li>\n<li>There is also <strong>tenderness</strong> on palpation of the right upper abdomen and tenderness to percussion of the lower ribs which protect the liver.</li>\n<li>It is also associated with minimal pelvic pain, vaginal discharge or <strong>cervical motion tenderness.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/d4996a4cf7124bdaafdfba2e6e2bd663x444x250.PNG"
    ]
  },
  {
    "text": "The type of motility shown by vibrio cholera is",
    "choices": [
      {
        "id": 1,
        "text": "Gliding motility"
      },
      {
        "id": 2,
        "text": "Swarming motility"
      },
      {
        "id": 3,
        "text": "Darting motility"
      },
      {
        "id": 4,
        "text": "Tumbling motility"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>Vibrio cholera is <strong>actively motile</strong> with a <strong>polar flagellum</strong>. The motility is characteristically described as <strong>darting type</strong>.</li>\n<li>The motility is very rapid and is also known as <strong>riffle bullet or shooting star motility.</strong></li>\n</ul>\n<p><strong>Note: Darting motility </strong>is also shown by Campylobacter jejuni.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is a combined immunodeficiency disorder associated with both B-cell and T-cell defects?",
    "choices": [
      {
        "id": 1,
        "text": "Ataxia telangiectasia"
      },
      {
        "id": 2,
        "text": "DiGeorge syndrome"
      },
      {
        "id": 3,
        "text": "Chediak Higashi syndrome"
      },
      {
        "id": 4,
        "text": "Tuftsin deficiency"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Ataxia telangiectasia</strong> is a <strong>combined immunodeficiency disorder</strong>, inherited in an <strong>autosomal recessive </strong>manner.</p>\n<p>The disorder is characterised by <strong>cerebral</strong> <strong>ataxia</strong>, <strong>telangiectasia</strong>, <strong>ovarian</strong> <strong>dysgenesis,</strong> and <strong>chromosomal</strong> <strong>abnormalities</strong>. <strong>Telangiectasia</strong> usually appears at five or six years of age and involves the face, conjunctiva and other body parts. Death occurs due to <strong>sinopulmonary</strong> <strong>infection</strong> in early life or due to <strong>malignancy</strong> in the second or third decade.</p>\n<p>Other options:</p>\n<p>Option B: <strong>DiGeorge</strong> <strong>syndrome</strong> is a cellular immunodeficiency disorder associated with T-cell deficiency.</p>\n<p>Option C: <strong>Chediak</strong> <strong>Higashi</strong> <strong>syndrome</strong> and <strong>Tuftsin</strong> <strong>deficiency</strong> are disorders of phagocytosis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient presenting with fever and acute stabbing type of chest pain is suspected to have Bornholm disease. What is the likely causative organism?",
    "choices": [
      {
        "id": 1,
        "text": "Coxsackie A virus"
      },
      {
        "id": 2,
        "text": "Coxsackie B virus"
      },
      {
        "id": 3,
        "text": "Polio virus"
      },
      {
        "id": 4,
        "text": "Adenovirus"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Bornholm disease</strong> or <strong>epidemic pleurodynia</strong> is caused by <strong>Coxsackie group B</strong> viruses.</p>\n<p><strong>Bornholm disease</strong> is a <strong>febrile disease</strong> with <strong>sharp piercing chest pain</strong>. Onset is abrupt but sometimes can be preceded by malaise, headache, and anorexia. The chest pain may last from 2 days to 2 weeks. There might be associated <strong>abdominal pain</strong>, and this may be the chief complaint in <strong>children</strong>.</p>\n<p>The illness is usually <strong>self-limited </strong>and recovery is complete. Relapses are common.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Microbiology St 1';
        const quizFilename = 'microbiology-st-1-4e3905cf.html';
        let hierarchy = ["Marrow", "NEET PG Test Series Subject Wise", "Year 2017 - 18"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>