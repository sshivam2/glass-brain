<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fmge Mini Test - 1 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / FMGE Mini Test Series / 2020
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "What causes pellagra in Hartnup disease?",
    "choices": [
      {
        "id": 1,
        "text": "Malabsorption of tryptophan"
      },
      {
        "id": 2,
        "text": "Deficiency of pyridoxal phosphate"
      },
      {
        "id": 3,
        "text": "Magnesium deficiency"
      },
      {
        "id": 4,
        "text": "Excessive loss of niacin in urine"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Malabsorption of tryptophan leads to pellagra in Hartnup disease.</p>\n<p>In Hartnup disease, there is defective membrane transport of tryptophan along with other amino acids and large losses of tryptophan in the intestine and kidneys.</p>\n<p>As a result, the production of niacin from tryptophan is reduced and this manifests as pellagra with <strong>dermatitis,</strong> <strong>diarrhea,</strong>&nbsp;and <strong>dementia,</strong> and glossitis. A characteristic skin rash called the Casal&rsquo;s necklace may also be seen.</p>\n<p><strong>Casal&rsquo;s</strong> <strong>necklace</strong>:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b197a808894249d5a64384f538c86841x700x1019.JPEG"
    ]
  },
  {
    "text": "The lining epithelium of the vagina is ________",
    "choices": [
      {
        "id": 1,
        "text": "Pseudostratified keratinized columnar epithelium"
      },
      {
        "id": 2,
        "text": "Keratinized stratified squamous epithelium"
      },
      {
        "id": 3,
        "text": "Non-keratinized stratified squamous epithelium"
      },
      {
        "id": 4,
        "text": "Pseudostratified non-keratinized columnar epithelium"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The lining epithelium of the vagina is<strong> non-keratinized stratified squamous epithelium.</strong></p>\n<p>The stratified squamous epithelia are subdivided into two types: keratinized and non-keratinized.</p>\n<p><strong>Keratinized epithelium:&nbsp;</strong>It is present over the surface that is subjected to high levels of abrasion and drying.</p>\n<p>It is seen in:</p>\n<ul>\n<li>Entire epidermis</li>\n<li>Mucocutaneous&nbsp;junction of the lips, nostrils, distal anal canal, the outer surface of the tympanic membrane</li>\n<li>Parts of the oral cavity: gingivae, hard palate and filiform papillae on the anterior part of the dorsal surface of the tongue</li>\n</ul>\n<p><strong>Non-keratinized epithelium: </strong>It is present over the surface that is subjected to abrasion but not drying.</p>\n<p>It is seen in:</p>\n<div class=\"page\" title=\"Page 76\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<ul>\n<li>The lining of&nbsp;the oral cavity except the parts mentioned above</li>\n<li>Oropharynx and laryngopharynx</li>\n<li>Esophagus</li>\n<li>Part of the anal canal</li>\n<li>Vagina</li>\n<li>Distal uterine cervix</li>\n<li>Distal urethra</li>\n<li>Cornea</li>\n<li>Inner surfaces of the eyelids</li>\n<li>Vestibule of the nasal cavities</li>\n</ul>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient was prescribed an antipsychotic drug following which he developed parkinsonism. Which of the following drugs\u200b can be given?",
    "choices": [
      {
        "id": 1,
        "text": "Trihexyphenidyl"
      },
      {
        "id": 2,
        "text": "Entacapone"
      },
      {
        "id": 3,
        "text": "Rasagiline"
      },
      {
        "id": 4,
        "text": "Pramipexole"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Trihexyphenidyl </strong>is the drug of choice for <strong>drug-induced parkinsonism</strong>. It is a <strong>central anticholinergic.</strong></p>\n<p>Drug-induced parkinsonism is a condition caused by certain drugs having D2 antagonistic action (typical antipsychotics).\u00a0The decrease in dopaminergic activity results in an unbalanced cholinergic activity. Anticholinergics act by restoring the balance.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The girl seen in the image has had a history of severe sunburns after just a few minutes in the sun, severe freckling in the sun-exposed areas. The autosomal recessive condition responsible for this is due to:",
    "choices": [
      {
        "id": 1,
        "text": "Defective Nonhomologous End Joining Repair (NHEJ)"
      },
      {
        "id": 2,
        "text": "Defective DNA Nucleotide Excision Repair (NER)"
      },
      {
        "id": 3,
        "text": "Defective DNA Base Excision Repair (BER)"
      },
      {
        "id": 4,
        "text": "Defective DNA Mismatch Repair (MMR)"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image shows a girl with <strong>Xeroderma Pigmentosum</strong>. It is characterized by <strong>Defective Nucleotide Excision repair</strong> that is transmitted <strong>autosomal recessively</strong></p>\n<p><strong>Clinical Features:</strong></p>\n<p>Typical 3 stage Progression.</p>\n<p>Child is <strong>asymptomatic at birth.</strong> Diffuse erythema, scaling, and freckle like areas over the sun exposed regions of the body at around 6 months of age.</p>\n<p><strong>Poikiloderma</strong> is a characteristic feature of the&nbsp;<strong>second stage</strong>. Poikiloderma results in <strong>skin atrophy, telangiectasias</strong> with <strong>mottled hyperpigmentation and hypopigmentation.</strong></p>\n<p>In the <strong>third stage</strong> appearance of <strong>cutaneous malignancies</strong> like<strong> squamous cell carcinomas</strong>,<strong> malignant melanoma, basal cell carcinoma, and fibrosarcoma.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/896cfaf7a2ca44159b3531e096e8be44.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following type of ion channels is predominantly responsible for phase 0 of the given action potential?",
    "choices": [
      {
        "id": 1,
        "text": "\"h\" channels"
      },
      {
        "id": 2,
        "text": "L type calcium channels"
      },
      {
        "id": 3,
        "text": "T type calcium channels"
      },
      {
        "id": 4,
        "text": "Potassium channels"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The graph in the given image represents the action potential of the SA node <strong>(i.e., the pacemaker potential).&nbsp;</strong>In the figure,<strong> phase 0</strong> corresponds to the <strong>impulse/upstroke</strong> and, this is predominantly due to the opening of<strong> 'L' (long-acting) </strong>type of <strong>calcium channels</strong> resulting in an intracellular movement of the calcium ions down its electrochemical gradient.</p>\n<p>The pacemaker potential consists of:</p>\n<ul>\n<li><strong>Phase 0</strong> - this is an upstroke seen due to <strong>the opening of 'L' type, voltage-gated Ca2<sup>+</sup> channels.</strong> This causes <strong>an influx of calcium</strong> leading to the upstroke.</li>\n<li><strong>Phase 3</strong> - This is followed by the inactivation of the calcium channels and the&nbsp;<strong>simultaneous activation of K<sup>+</sup> channels</strong>. This leads to the&nbsp;<strong>efflux of K<sup>+</sup></strong> bringing about repolarization.</li>\n<li><strong>Phase 4</strong>- As the K<sup>+</sup> efflux is increased, the pacemaker fibre is pulled to a state of <strong>hyperpolarization.&nbsp;</strong>Once this state is reached, because of the high extracellular concentrations of the sodium ions, they tend to move slowly into the fibre, thus causing a slow rise in the RMP on the positive side.\n<ul>\n<li>As these sodium channels get activated in the state of hyperpolarisation they are called the<strong> \"h\" channel</strong> or funny channel.&nbsp;</li>\n<li>A similar type of <strong>calcium channel</strong> called <strong>\"T\" (transient) type</strong> joins together with the funny channels and completes this phase</li>\n</ul>\n</li>\n</ul>\n<p>The slope of Phase 4 in the SA node determines the heart rate.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/538f9cda725749d990ced4735de5cfd3.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7558ee081646486e847b92aee4664ccex1280x1232.JPEG"
    ]
  },
  {
    "text": "A deceased male was posted for a \u200bpost-mortem examination. His relatives reported that he had a tattoo over his skin, which was not found on examination. Which of the following structures would you examine?",
    "choices": [
      {
        "id": 1,
        "text": "Lymph nodes"
      },
      {
        "id": 2,
        "text": "Liver"
      },
      {
        "id": 3,
        "text": "Arteries"
      },
      {
        "id": 4,
        "text": "Skin"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The lymph nodes&nbsp;should be examined in this case.</p>\n<p>Some amount of material or dye used for creating tattoo marks is transported through lymph to the <strong>regional lymph nodes.&nbsp;</strong>Hence in cases where a tattoo mark has disappeared&nbsp;naturally or has been removed, the lymph nodes must be examined before making any conclusions.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identical twins have similarities in all except :",
    "choices": [
      {
        "id": 1,
        "text": "Blood group"
      },
      {
        "id": 2,
        "text": "DNA fingerprinting"
      },
      {
        "id": 3,
        "text": "Fingerprint pattern"
      },
      {
        "id": 4,
        "text": "Iris colour"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Fingerprint pattern <strong>differs</strong> in identical twins.</p>\n<p>The pattern of the fingerprint comprises arches, loops, whorls or combinations of these three patterns, this is unique to every individual and does not match even for identical twins.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The muscle marked as \" B\" in the image is ______ and is innervated by ______",
    "choices": [
      {
        "id": 1,
        "text": "Inferior rectus,oculomotor nerve"
      },
      {
        "id": 2,
        "text": "Inferior rectus, trochlear nerve"
      },
      {
        "id": 3,
        "text": "Inferior oblique, oculomotor nerve"
      },
      {
        "id": 4,
        "text": "Inferior oblique, trochlear nerve"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The muscle marked in the image is<strong> inferior oblique</strong> and is innervated by the <strong>oculomotor nerve.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/669a0eea89f44976b65471da38c1fcff.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7802caf0b9a4485bbbfb3742d9c46154x766x605.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f5759aa1ef1c4d3882c6f7d5f95bde1cx288x342.JPEG"
    ]
  },
  {
    "text": "Which of the following is true about \u201cposthumous child\u201d?",
    "choices": [
      {
        "id": 1,
        "text": "The child is born dead"
      },
      {
        "id": 2,
        "text": "The child is delivered after death of biological father"
      },
      {
        "id": 3,
        "text": "The child is illegitimate"
      },
      {
        "id": 4,
        "text": "The child is abandoned by the parents"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p class=\"p1\">A posthumous child is a child delivered after the death of the biological father or child delivered after the death of the biological mother, usually delivered by a Caesarean section.</p>\n<ul>\n<li class=\"p1\"><strong>Illegitimate</strong> child or a&nbsp;<strong>bastard</strong>: A child born 'out of wedlock'.</li>\n<li class=\"p1\"><strong>Supposititious</strong> child or <strong>fictitious</strong> child: A woman may pretend pregnancy and delivery, and later produce a living child as her own for obtaining money or for the purpose of claiming the property.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 20-year-old bodybuilder presented with fatigue on moderate exercise. He had recently started eating raw eggs for protein. Which of the following enzymes is likely deficient in him?",
    "choices": [
      {
        "id": 1,
        "text": "Glucose 6 phosphatase"
      },
      {
        "id": 2,
        "text": "Glycogen phosphorylase"
      },
      {
        "id": 3,
        "text": "Pyruvate carboxylase"
      },
      {
        "id": 4,
        "text": "Phosphoenolpyruvate carboxykinase"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The patient developed <strong>pyruvate carboxylase</strong> enzyme deficiency.</p>\n<p>Individuals who eat an excess of uncooked egg-white, develop biotin deficiency and as a result <strong>deficiency of the carboxylase</strong> enzymes. This is because a protein called, <strong>avidin</strong> present in the egg-white <strong>binds to biotin</strong> in the diet, and makes biotin unavailable for intestinal absorption.</p>\n<p>Biotin deficiency can cause:</p>\n<ul>\n<li>Dermatitis</li>\n<li>Mental status changes (depression, hallucinations)</li>\n<li>Paraesthesia</li>\n<li>Alopecia</li>\n</ul>\n<p>Biotin serves as co-enzyme for the synthesis of several carboxylase enzymes such as:</p>\n<ul>\n<li style=\"font-weight: 400;\">Acetyl-CoA carboxylase</li>\n<li style=\"font-weight: 400;\">Pyruvate carboxylase</li>\n<li style=\"font-weight: 400;\">Propionyl CoA carboxylase</li>\n<li style=\"font-weight: 400;\">Methylcrotonyl-CoA carboxylase</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The resting membrane potential of a nerve fibre depends on ______",
    "choices": [
      {
        "id": 1,
        "text": "Diffusion of Na+ ions"
      },
      {
        "id": 2,
        "text": "Na+-K+ ATPase pump"
      },
      {
        "id": 3,
        "text": "Diffusion of K+ ions"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>resting membrane potential</strong>&nbsp;(RMP) of a nerve fibre depends on the <strong>diffusion of both K<sup>+</sup> and Na</strong><sup>+</sup> and the <strong>Na<sup>+</sup>-K<sup>+</sup> ATPase pump</strong>.</p>\n<p>The most <strong>predominant factor</strong>, however, is the <strong>diffusion of K<sup>+</sup> ions. </strong>This is because, at rest, the permeability of the membrane of the nerve fibre to K<sup>+</sup> ions is almost 100 times greater than that to Na<sup>+</sup>.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The most commonly fractured bone among the carpal bones is:",
    "choices": [
      {
        "id": 1,
        "text": "4"
      },
      {
        "id": 2,
        "text": "8"
      },
      {
        "id": 3,
        "text": "3"
      },
      {
        "id": 4,
        "text": "1"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The most commonly fractured bone is <strong>Scaphoid</strong> which is denoted by 1 in the image.</p>\n<p>Relative incidence of carpal Bone Fracture - Scaphoid &gt; Triquetrum &gt; Trapezium.</p>\n<p><strong>Avascular necrosis</strong> is a common complication of scaphoid frcature.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7bd80264b90943fb9ffc086a85f1d7b0.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3c4b9aa0be8b4373a781e14ce517abe6x618x491.PNG"
    ]
  },
  {
    "text": "Which of the following helps in bacterial adhesion?",
    "choices": [
      {
        "id": 1,
        "text": "Cytoplasmic membrane"
      },
      {
        "id": 2,
        "text": "Mesosomes"
      },
      {
        "id": 3,
        "text": "Fimbriae"
      },
      {
        "id": 4,
        "text": "Lipopolysaccharides"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p class=\"p1\">Fimbriae help in <strong>bacterial adhesion</strong>.</p>\n<p class=\"p1\">Fimbriae, also called <strong>pili</strong>&nbsp;are hair-like surface appendage that projects from the cell surface as straight filaments.&nbsp;Fimbriae are classified based on the function as ordinary&nbsp;pili and sex pili.</p>\n<p class=\"p1\">Functions of pili:</p>\n<ul>\n<li class=\"p1\">Adhesins located at the tip of pili help in <strong>bacterial adhesion</strong> of symbiotic and pathogenic bacteria to host cells.</li>\n<li class=\"p1\">They help in <strong>resistance to phagocytosis</strong>.</li>\n<li class=\"p1\">It&nbsp;is made up of antigenic pilin&nbsp;proteins that are responsible for the <strong>immune response</strong>.</li>\n<li class=\"p1\">Pili gives&nbsp;<strong>twitching motility</strong> to bacteria.</li>\n<li class=\"p1\"><strong>Sex pili</strong> help in <strong>bacterial conjugation</strong> through which transfer of genetic material occurs.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is the pacemaker of the gastrointestinal tract?",
    "choices": [
      {
        "id": 1,
        "text": "P cells"
      },
      {
        "id": 2,
        "text": "Oxyntic cells"
      },
      {
        "id": 3,
        "text": "Interstitial cells of Cajal"
      },
      {
        "id": 4,
        "text": "Parietal cells"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Interstitial cells of Cajal </strong>are the pacemaker cells of the GIT that initiate the <strong>basic electrical rhythm (BER)</strong>. These&nbsp;are stellate mesenchymal pacemaker cells with smooth muscle-like features.</p>\n<p>In the stomach and the small intestine, these cells are located in the circular smooth muscle layer near the myenteric plexus. In the colon, they are at the submucosal border of the circular muscle layer.</p>\n<p><strong>NOTE:</strong></p>\n<p>Gastrointestinal stromal tumors arise from the Interstitial cells of Cajal.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The mode of inheritance in Marfan syndrome is ___________",
    "choices": [
      {
        "id": 1,
        "text": "Autosomal dominant"
      },
      {
        "id": 2,
        "text": "Autosomal recessive"
      },
      {
        "id": 3,
        "text": "X-linked dominant"
      },
      {
        "id": 4,
        "text": "X-linked recessive"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Marfan&rsquo;s syndrome </strong>is an <strong>autosomal-dominantly inherited</strong> connective tissue disorder.</p>\n<ul>\n<li>It involves primarily the ocular, cardiovascular, and&nbsp;skeletal&nbsp;systems.</li>\n<li>The condition results from heterozygous mutations in the <strong>fibrillin-1&nbsp;gene</strong> located on chromosome 15 at band q21.1 (15q21.1), which encodes for the <strong>glycoprotein fibrillin.</strong></li>\n<li>Fibrillin is a major building block of <strong>microfibrils</strong>, which constitute the structural components of the suspensory ligament of the ocular lens and serve as substrates for elastin in the aorta and other connective tissues.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 35-year-old HIV-positive\u200b patient presents with mucosal lesions in the mouth as shown in the image below. On microscopy, budding yeasts and pseudohyphae are seen. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Oral candidiasis"
      },
      {
        "id": 2,
        "text": "Hairy leukoplakia"
      },
      {
        "id": 3,
        "text": "Lichen planus"
      },
      {
        "id": 4,
        "text": "Diphtheria"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The most likely diagnosis of the given clinical scenario is <strong>oral candidiasis.</strong></p>\n<p>Oral candidiasis or thrush&nbsp;is a patchy, <strong>pseudomembranous lesion that can be scraped off&nbsp;</strong>and it&nbsp;develops over the tongue, lips, gum, or palate. It is composed of epithelial cells, <strong>yeasts</strong>, and <strong>pseudohyphae</strong>.</p>\n<p>It occurs in almost all individuals with <strong>AIDS</strong>. Other risk factors include high levels of glucose, cellular immunodeficiency, corticosteroids or antibiotics.</p>\n<p>It is treated with topical nystatin or oral ketoconazole or fluconazole.</p>\n<p>Other options:</p>\n<ul>\n<li>Option B: Hairy leukoplakia is a wart-like growth on the tongue, caused by Epstein Barr virus. It is commonly seen as a white lesion on the lateral side of the tongue and <strong>cannot be scraped off.</strong></li>\n<li>Option C: Lichen planus is a pruritic disease characterized by papules commonly seen over the flexor surfaces and trunk. Oral and vulvovaginal lesions may also occur. Oral lesions appear as lacy, white, and raised lesions.</li>\n<li>Option D: Diphtheria is characterized by the presence of a grey pseudomembrane covering the tonsils and pharynx.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/38dfd1a708b24b2b94740d467b82f015.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A  patient with gout develops hypertension  The uric acid level was found to be elevated. Which of the following drugs should not be administered?",
    "choices": [
      {
        "id": 1,
        "text": "Hydrochlorothiazide"
      },
      {
        "id": 2,
        "text": "Atenolol"
      },
      {
        "id": 3,
        "text": "Enalapril"
      },
      {
        "id": 4,
        "text": "Prazosin"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Hydrochlorothiazides</strong> should not be given to this patient.</p>\n<p>Gout is a metabolic disease associated with hyperuricemia. Hydrochlorothiazides inhibit renal Ca<sup>2+ </sup>excretion causing hypercalcemia and also increases <strong>uric acid reabsorption</strong>, thus it may precipitate gout. Hence, hydrochlorothiazides are not used to treat hypertension in gout patients.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 35-year-old woman diagnosed with tubercular meningitis has a peculiar breathing pattern described as irregular and rapid, with rhythmical pauses lasting 10-30s, as shown below. What is the pattern of breathing?",
    "choices": [
      {
        "id": 1,
        "text": "Biot\u2019s breathing"
      },
      {
        "id": 2,
        "text": "Cheyne-Stokes breathing"
      },
      {
        "id": 3,
        "text": "Kussmaul\u2019s breathing"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The pattern of breathing in the case presented is <strong>Biot's breathing</strong>.</p>\n<p>Also known as ataxic breathing, it is associated with increased intracranial pressure and meningitis.</p>\n<p>The pattern of breathing is irregular and rapid with rhythmical pauses lasting for 10&ndash;30 seconds.</p>\n<p>Sometimes, it has alternating periods of apnea and tachypnea. This pattern typically lacks the crescendo-decrescendo cycles which are seen in Cheyne-Stokes breathing.&nbsp;It is sometimes called as&nbsp;<strong>the atrial fibrillation of respiration</strong>.</p>\n<p><strong>Other options:</strong></p>\n<ul>\n<li><strong>Cheyne-Stokes Breathing:</strong> characterized by progressively deeper and sometimes faster breathing (crescendo-decrescendo cycles), with periods of apnoea. It is seen in patients with heart failure and uremia.</li>\n<li><strong>Kussmaul&rsquo;s Breathing:</strong> It is a type of deep, rapid breathing usually implies metabolic acidosis, but can also occur with Ponto-mesencephalic lesions.</li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/4a127a451aaf4c5a960f82f885400d41.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c359f07121094110a498c4448601128ax384x754.PNG"
    ]
  },
  {
    "text": "A 14-year-old boy presents with a history of vomiting within 3 hours of consumption of food at a party. Which of the following organism is most likely to cause these symptoms?",
    "choices": [
      {
        "id": 1,
        "text": "Staphylococcus aureus"
      },
      {
        "id": 2,
        "text": "Clostridium botulinum"
      },
      {
        "id": 3,
        "text": "Clostridium perfringes"
      },
      {
        "id": 4,
        "text": "Salmonella typhi"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The most likely causative organism in the given scenario is <strong>Staphylococcus aureus</strong>. It&nbsp;causes rapid-onset food poisoning <strong>within 30 minutes to 6 hours after consumption</strong> of the contaminated food.</p>\n<p>The common sources of infection are foods that are not cooked after handling. These include <strong>sliced meats</strong>, puddings, <strong>pastries</strong>, and sandwiches.&nbsp;Patients present with nausea, vomiting, stomach cramps, and diarrhoea.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The following Darrow Yannet diagram is suggestive of which condition?",
    "choices": [
      {
        "id": 1,
        "text": "SIADH"
      },
      {
        "id": 2,
        "text": "Diarrhoea"
      },
      {
        "id": 3,
        "text": "Diabetes Insipidus"
      },
      {
        "id": 4,
        "text": "Adrenal Insufficiency"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In the given darrow yannet diagram, there is <strong>hypoosmostic volume expansion</strong> which is suggestive of SIADH.</p>\n<ul>\n<li>In SIADH there is excessive secretion of ADH. So, excess water is retained in the body.</li>\n<li>So, ECF volume rises. ECF osmolality decreases.</li>\n<li>ECF fluid enters ICF untill osmotic equilibrium is re-established.</li>\n<li>So, ICF volume rises. ICF osmolality decreases.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/81f693c5a6b84a1095b9a864073e6b17.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/479b4f720c094a139924b6cd09d5c86dx1279x879.JPEG"
    ]
  },
  {
    "text": "Identify the structure shown in the histological image below.",
    "choices": [
      {
        "id": 1,
        "text": "Bile duct"
      },
      {
        "id": 2,
        "text": "Common bile duct"
      },
      {
        "id": 3,
        "text": "Skin"
      },
      {
        "id": 4,
        "text": "Urinary bladder"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The above image shows <strong>transitional epithelium&nbsp;</strong>in the urinary bladder.</p>\n<p>The <strong>deepest layer </strong>has&nbsp;<strong>columnar cells</strong>, the <strong>middle layers</strong> are made up of <strong>polyhedral cells</strong> and the <strong>surface layer</strong>&nbsp;has cells that are <strong>large</strong> and shaped like an <strong>umbrella.</strong></p>\n<p><strong>Transitional epithelium</strong> is found in the <strong>renal pelvis</strong> and <strong>calyces</strong>, the <strong>ureter</strong>, the <strong>urinary bladder</strong>, and part of the <strong>urethra</strong>. Because of this distribution, it is also called <strong>urothelium</strong>. In the <strong>urinary bladder</strong>, it is usually observed that <strong>transitional epithelium</strong> can be <strong>stretched considerably</strong> without being damaged. When stretched it appears to be thinner and the <strong>cells become flattened or rounded</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/9a702b822680446f96b6c5bb55796f77.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "While going through the echo reports of a 35-year-old woman hailing from China you see she has dilated cardiomyopathy. Which of the following nutritional disease can explain her condition?",
    "choices": [
      {
        "id": 1,
        "text": "Selenium toxicity"
      },
      {
        "id": 2,
        "text": "Selenium deficiency"
      },
      {
        "id": 3,
        "text": "Zinc toxicity"
      },
      {
        "id": 4,
        "text": "Zinc deficiency"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The patient is probably suffering from <strong>Keshan's disease</strong>, which is due to <strong>selenium deficiency.</strong></p>\n<p><strong>Keshan disease</strong> is endemic cardiomyopathy found in children and young women residing in regions of <strong>China</strong> where dietary intake of selenium is low. Mainly dilated cardiomyopathy is the characteristics, may also result in congestive cardiac failure, cardiomegaly, and fulminant cardiogenic shock.</p>\n<p><strong>Selenium:</strong></p>\n<p>Selenium is an important trace element which is a <strong>part of the 21st amino acid Selenocysteine</strong>.</p>\n<p>There are many selenium-containing enzymes such as :</p>\n<ul>\n<li>Glutathione peroxidase</li>\n<li>De-iodinase</li>\n<li>Thioredoxin reductase</li>\n</ul>\n<p>Selenium is also an <strong>intracellular antioxidant</strong> which complements the role of Vitamin E. Dietary sources of selenium include seafood, muscle meat, and&nbsp;some cereals.</p>\n<p><strong>Clinical correlation:</strong></p>\n<ul>\n<li><strong>Keshan disease</strong>&nbsp;- Endemic&nbsp;<strong>cardiomyopathy</strong>&nbsp;found in children and young women residing in regions of China where dietary intake of selenium is low.</li>\n<li><strong>Kashin-Beck disease</strong>&nbsp;-&nbsp; Chronic, endemic&nbsp;<strong>osteoarthropathy</strong>&nbsp;due to selenium deficiency seen in regions of China and Russia.&nbsp;</li>\n<li><strong>Selenium toxicity</strong>&nbsp;- Chronic ingestion of high amounts of selenium leads to&nbsp;<strong>selenosis.</strong>&nbsp;It is characterized by hair and nail brittleness, garlic breath odor, myopathy, irritability, and other abnormalities of the nervous system.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Angiotensin II causes all of the following except:",
    "choices": [
      {
        "id": 1,
        "text": "Stimulation of thirst"
      },
      {
        "id": 2,
        "text": "Increased ADH secretion"
      },
      {
        "id": 3,
        "text": "Vasodilation"
      },
      {
        "id": 4,
        "text": "Aldosterone secretion"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Vasodilation is <strong>not</strong> caused by <strong>Angiotensin&nbsp;II</strong>. On the contrary, it is a powerful arteriolar <strong>vasoconstrictor</strong>.</p>\n<p>&nbsp;</p>\n<table>\n<tbody>\n<tr>\n<td><strong>Actions of Angiotensin II</strong></td>\n</tr>\n<tr>\n<td>\n<ul>\n<li>Produces powerful arteriolar constriction and a rise in SBP and DBP</li>\n<li>Acts directly on the adrenal cortex to increase aldosterone secretion</li>\n<li>Facilitates the release of Norepinephrine by a direct action on postganglionic sympathetic neurons</li>\n<li>Contraction of mesangial cells with a resultant decrease in GFR</li>\n<li>Direct effect on renal tubules to increase Na<sup>+ </sup>reabsorption</li>\n<li>Acts on brain to decrease sensitivity of baroreceptor reflex, potentiating the pressor effect of AT II</li>\n<li>Acts on brain to increase water intake and increase secretion of ADH and ACTH</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with diabetes and COPD developed post-operative urinary retention. Which of the following drugs can be used for short term treatment to relieve the symptoms?",
    "choices": [
      {
        "id": 1,
        "text": "Tamsulosin"
      },
      {
        "id": 2,
        "text": "Bethanechol"
      },
      {
        "id": 3,
        "text": "Terazosin"
      },
      {
        "id": 4,
        "text": "Methacoline"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Tamsulosin</strong> is the drug used to relieve the symptoms in cases of <strong>postoperative urinary retention </strong>in a patient<strong> with COPD.</strong></p>\n<p>Uses:</p>\n<p>It is&nbsp;efficacious in the treatment of Benign prostatic hyperplasia (BPH)&nbsp;with little effect on blood pressure.&nbsp;</p>\n<p>Other options:</p>\n<p>Option B-&nbsp;<strong>Bethanechol</strong> is the <strong>drug of choice</strong> to relieve the symptoms in cases of <strong>postoperative urinary retention</strong> in a patient<strong>. </strong>However, it&nbsp;can cause<strong> bronchoconstriction in patients with COPD</strong>. Hence tamsulosin is the best answer here.</p>\n<p>Option C-<strong> Terazosin</strong>&nbsp;is&nbsp;<strong>&alpha;1 receptor antagonists</strong>, used in the treatment of <strong>benign</strong> <strong>prostatic</strong> <strong>hyperplasia</strong> (BPH).&nbsp;</p>\n<p>Option D- <strong>Methacholine&nbsp;</strong>is also a <strong>muscarinic</strong> <strong>agonist</strong> but acts specifically on <strong>bronchial</strong> <strong>smooth</strong> <strong>muscle</strong> causing its contraction. It is available as an inhalational agent and is used for the diagnosis of bronchial hyper-reactivity in patients who do not have clinically apparent asthma.</p>\n<p>&nbsp;</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 48-year old non-diabetic obese man presented for routine follow up. On investigation, his lipid profile showed hypercholesterolemia, hypertriglyceridemia, elevated LDL, and VLDL. Which of the following vitamins can be used as a lipid-lowering agent in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Riboflavin"
      },
      {
        "id": 2,
        "text": "Pantothenic acid"
      },
      {
        "id": 3,
        "text": "Nicotinic acid"
      },
      {
        "id": 4,
        "text": "Folic acid"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The vitamin that can be used as a <strong>lipid-lowering agent</strong> is <strong>nicotinic acid</strong> (niacin or vitamin B3).</p>\n<p>Niacin causes a <strong>reduction in LDL, VLDL and triglycerides</strong> along with an <strong>increase in HDL</strong>. It is the only lipid-lowering agent that <strong>lowers lipoprotein (a)</strong> levels significantly.</p>\n<p>The main adverse effect of niacin is cutaneous <strong>flushing and pruritus.</strong> It can be controlled by <strong>pretreatment with aspirin.</strong> In patients with diabetes mellitus, niacin should be used cautiously because <strong>niacin induced insulin resistance</strong> can lead to hyperglycemia.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is a holocrine gland?",
    "choices": [
      {
        "id": 1,
        "text": "Sweat gland"
      },
      {
        "id": 2,
        "text": "Mammary gland"
      },
      {
        "id": 3,
        "text": "Exocrine pancreas"
      },
      {
        "id": 4,
        "text": "Sebaceous gland"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Sebaceous gland</strong> is a <strong>holocrine</strong> type of gland.</p>\n<p>The exocrine glands are classified into 3 types<strong>,\u00a0</strong>depending on the mode of secretion:</p>\n<ul>\n<li><strong>Merocrine glands </strong>(eccrine or epicrine glands): the secretions are released out of the cell through a process called <strong>exocytosis</strong> with the <strong>cell remaining intact</strong>, e.g.<strong>\u00a0</strong>eccrine sweat glands<strong>, </strong>salivary glands,<strong>\u00a0</strong>exocrine pancreas<strong>,\u00a0</strong>secretion of milk protein casein by mammary glands.</li>\n<li><strong>Apocrine glands: </strong>the <strong>apical parts </strong>of the cells are <strong>shed</strong> off to discharge the secretion. e.g.,<strong>\u00a0sweat glands\u00a0</strong>in axilla and anogenital regions and secretion of milk fat by\u00a0mammary glands.</li>\n<li><strong><strong>Holocrine glands:\u00a0</strong></strong>the <strong>entire cell disintegrates</strong> while discharging its secretion. It is typically seen in <strong>sebaceous glands</strong>.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e9aa943091124c69a75e29fa896b2b59x1280x1302.PNG"
    ]
  },
  {
    "text": "The lining epithelium of the respiratory tract of a middle-aged man who is a chronic smoker shows a change from columnar to stratified squamous epithelium, as depicted in the image below. The change is called?",
    "choices": [
      {
        "id": 1,
        "text": "Dysplasia"
      },
      {
        "id": 2,
        "text": "Hypertrophy"
      },
      {
        "id": 3,
        "text": "Atrophy"
      },
      {
        "id": 4,
        "text": "Metaplasia"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The change described in the question is called <strong>metaplasia</strong>.</p>\n<p>Metaplasia is defined as a reversible change in which one type of differentiated cell is replaced by another type.</p>\n<p><strong>Examples</strong> of metaplasia include:</p>\n<ul>\n<li><strong>Columnar to squamous epithelium</strong> (also called <strong>squamous</strong> <strong>metaplasia</strong>):\n<ul>\n<li>This is the&nbsp;<strong>most common&nbsp;</strong>type of metaplasia, and is usually seen in the <strong>respiratory</strong> <strong>tract</strong> in cases of chronic smoking or sometimes in vitamin A deficiency,</li>\n<li>It may also be present in cases where there are <strong>stones</strong> in the excretory <strong>ducts </strong>of<strong> salivary glands,</strong> <strong>pancreas</strong>, or <strong>bile</strong> <strong>ducts</strong>, where, the normal secretory columnar epithelium is replaced by stratified squamous epithelium.</li>\n</ul>\n</li>\n<li><strong>Squamous to columnar epithelium</strong> (also called <strong>columnar</strong> <strong>metaplasia</strong>): It is seen in <strong>Barrett's</strong> <strong>oesophagus</strong>.</li>\n<li><strong>Connective tissue metaplasia:</strong> It refers to the formation of bone, cartilage, or adipose tissue in the tissues where they are normally absent. One such example is <strong>myositis</strong> <strong>ossificans</strong>, a condition where there is the formation of bone within the muscle.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which type of bonding do the branching points in glycogen structure have?",
    "choices": [
      {
        "id": 1,
        "text": "\u03b11 \u2192 4 glucosidic bond"
      },
      {
        "id": 2,
        "text": "\u03b11 \u2192 6 glucosidic bond"
      },
      {
        "id": 3,
        "text": "\u03b11 \u2192 3 glucosidic bond"
      },
      {
        "id": 4,
        "text": "\u03b11 \u2192 5 glucosidic bond"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Branching points in glycogen structure have&nbsp; &alpha;1 &rarr; 6 glucosidic bond.</p>\n<ul>\n<li>Glycogen is the storage polysaccharide in animals.</li>\n<li>It consists of &alpha;-D glucopyranose residues (in &alpha;1 &rarr; 4 glucosidic linkage in straight chains) with branching by means of &alpha;1 &rarr; 6 glucosidic bonds.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the hormone demonstrating the depicted fluctuations:",
    "choices": [
      {
        "id": 1,
        "text": "ACTH"
      },
      {
        "id": 2,
        "text": "GH"
      },
      {
        "id": 3,
        "text": "TSH"
      },
      {
        "id": 4,
        "text": "Prolactin"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Growth hormone</strong> demonstrates the depicted fluctuations. Growth hormone is secreted in a pulsatile fashion, with <strong>increase</strong> during strenuous <strong>exercise</strong> and during the <strong>early period of sleep</strong>, (Non-REM Sleep)&nbsp;as shown in the graph. It is reduced during the later stages of sleep. (REM Sleep)</p>\n<p>Other options:</p>\n<p>Option A: <strong>ACTH</strong> levels are <strong>high</strong>&nbsp;in the early&nbsp;<strong>morning </strong>and&nbsp;low in late evening.&nbsp;</p>\n<p>Option C: <strong>TSH</strong> is secreted in pulses, but the <strong>fluctuations are less</strong> in comparison to other pituitary hormones because of the low amplitude of the pulses and the relatively long half-life of TSH.</p>\n<p>Option D: <strong>Prolactin</strong> is secreted in a pulsatile fashion, with the <strong>highest</strong> secretory peak between <strong>4:00 and 6:00 a.m</strong>. (REM Sleep)</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/dd6372189a6e4fa78d4a935cbafef315.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Testosterone production is mainly contributed by ________",
    "choices": [
      {
        "id": 1,
        "text": "Leydig cells"
      },
      {
        "id": 2,
        "text": "Sertoli cells"
      },
      {
        "id": 3,
        "text": "Seminiferous tubules"
      },
      {
        "id": 4,
        "text": "Epidydmis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Testosterone production is mainly contributed by&nbsp;<strong>Leydig cells.</strong></p>\n<p>Testosterone is synthesized from cholesterol in the <strong>Leydig cells</strong> and also from androstenedione secreted by the <strong>adrenal cortex.</strong></p>\n<p>The diagnosis of testosterone deficiency should be made only on the basis of clinical signs and symptoms consistent with androgen deficiency, and consistently subnormal serum testosterone concentrations at 8 to 10 AM on three occasions.&nbsp;</p>\n<p>Testosterone has been used to treat primary or secondary hypogonadism in adult men.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 22-year-old male presented with high-grade fever, and purpuric rash as shown in the image below. CSF sample showed gram-negative diplococci. Which of the following is the most likely aetiology?",
    "choices": [
      {
        "id": 1,
        "text": "Neisseria meningitidis"
      },
      {
        "id": 2,
        "text": "Pseudomonas aeruginosa"
      },
      {
        "id": 3,
        "text": "Streptococcus pneumoniae"
      },
      {
        "id": 4,
        "text": "E. coli"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The above image shows a <strong>purpuric rash</strong> seen in meningococcemia caused by <strong>Neisseria meningitidis,</strong> which are<strong> gram-negative diplococci.&nbsp;</strong></p>\n<p>Pathogenesis &amp; clinical features:</p>\n<ul>\n<li>The organism enters the body through the nasopharynx by attaching to the epithelial cells with the help of pili. From nasopharynx, they enter the bloodstream producing bacteremia, and the symptoms may resemble upper respiratory tract infection.</li>\n<li>Fulminant meningococcemia is the severe form, where the patient presents with high-grade fever and <strong>hemorrhagic</strong>&nbsp;<strong>rash.</strong> There is thrombosis of several small blood vessels in various organs with perivascular infiltration and <strong>petechial haemorrhages.&nbsp;</strong></li>\n<li>Some patients with fulminant meningococcemia may also develop disseminated intravascular coagulation, and circulatory collapse,&nbsp;a condition known as&nbsp;<strong>Waterhouse&ndash;Friderichsen syndrome.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/8303b213dc064e96854df286a149deb0.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "In a civil negligence case against a doctor who bears the onus of proof?",
    "choices": [
      {
        "id": 1,
        "text": "Patient"
      },
      {
        "id": 2,
        "text": "Police not under rank of sub inspector"
      },
      {
        "id": 3,
        "text": "Magistrate"
      },
      {
        "id": 4,
        "text": "Doctor"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In the case of civil negligence, the<strong> burden of proof is on the patient.</strong></p>\n<p>The question of<strong> civil negligence</strong> arises when a suit is filed in a civil court:</p>\n<ul>\n<li><strong>By a patient</strong> or his/her relatives against the doctor <strong>for getting compensation from the doctor</strong> if he/she has suffered an injury due to the doctor's negligence.</li>\n<li><strong>By a doctor</strong> against the patient or his/her relatives <strong>to collect the fees</strong>, the payment of which has been refused due to alleged professional negligence by the doctor.</li>\n</ul>\n<p>In either case, the <strong>patient has to prove</strong> that the doctor has committed professional negligence. To prove negligence,<strong> all </strong>the following four<strong> elements </strong>must be present:</p>\n<ul>\n<li><strong>Duty</strong>: A duty of care by the doctor must exist.</li>\n<li><strong>Dereliction</strong>: The physician must maintain the standard of a 'prudent physician' under similar circumstances. If the physician fails to maintain the standard of care, it is called dereliction.</li>\n<li><strong>Direct</strong> <strong>causation</strong>: The negligent act or omission must directly cause the injury without any intervening cause.</li>\n<li><strong>Damage</strong>: The negligent act must cause damage of a type that would have been foreseen by a reasonable physician.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following organisms causes disease following traumatic inoculation into the skin?",
    "choices": [
      {
        "id": 1,
        "text": "Sporothrix schenckii"
      },
      {
        "id": 2,
        "text": "Blastomyces dermatitidis"
      },
      {
        "id": 3,
        "text": "Coccidioides immitis"
      },
      {
        "id": 4,
        "text": "Paracoccidioides brasiliensis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<div class=\"page\" title=\"Page 684\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Sporothrix schenckii</strong>&nbsp;causes infection followed by <strong>traumatic</strong> <strong>inoculation</strong> into the skin.</p>\n<p>It is a dimorphic fungus that lives on vegetation such as grasses, trees, rose bushes, etc.&nbsp;Following traumatic inoculation into the skin as in thorn prick, S schenckii causes sporotrichosis, a chronic granulomatous infection.</p>\n<p>Subcutaneous mycoses are usually caused by traumatic inoculation of the causative fungus. These include:</p>\n<table style=\"width: 446.548px;\">\n<tbody>\n<tr>\n<td style=\"width: 183px;\">\n<div class=\"page\" title=\"Page 683\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Subcutaneous mycoses</strong></p>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 249.548px;\"><strong>Causative agent/s</strong></td>\n</tr>\n<tr>\n<td style=\"width: 183px;\">\n<div class=\"page\" title=\"Page 685\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Sporotrichosis</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 249.548px;\">Sporothrix&nbsp;schenckii</td>\n</tr>\n<tr>\n<td style=\"width: 183px;\">Chromoblastomycosis</td>\n<td style=\"width: 249.548px;\">\n<div class=\"page\" title=\"Page 685\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Phialophora verrucosa</p>\n<div class=\"page\" title=\"Page 685\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Fonsecaea pedrosoi</p>\n</div>\n</div>\n</div>\n</div>\n<div class=\"page\" title=\"Page 685\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Fonsecaea compacta</p>\n<div class=\"page\" title=\"Page 685\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Rhinocladiella aquaspersa</p>\n<div class=\"page\" title=\"Page 685\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Cladophialophora carrionii</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</td>\n</tr>\n<tr>\n<td style=\"width: 183px;\">\n<div class=\"page\" title=\"Page 686\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Phaeohyphomycosis</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 249.548px;\">\n<p>Exophiala jeanselmei</p>\n<div class=\"page\" title=\"Page 687\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 687\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Phialophora richardsiae</p>\n</div>\n</div>\n</div>\n</div>\n<div class=\"page\" title=\"Page 687\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Bipolaris spicifera</p>\n<div class=\"page\" title=\"Page 687\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Wangiella dermatitidis</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</td>\n</tr>\n<tr>\n<td style=\"width: 183px;\">\n<div class=\"page\" title=\"Page 686\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 687\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Mycetoma</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 249.548px;\">Pseudallescheria boydii&nbsp;(Anamorph Scedosporium apiospermum).\n<div class=\"page\" title=\"Page 687\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 687\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 687\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Madurella mycetomatis</p>\n<div class=\"page\" title=\"Page 687\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Madurella grisea</p>\n<div class=\"page\" title=\"Page 687\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>E jeanselmei</p>\n<div class=\"page\" title=\"Page 687\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Acremonium falciforme</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</td>\n</tr>\n</tbody>\n</table>\n<p>Other options:</p>\n<p>The fungi mentioned in options b, c, and d causes endemic mycosis. The disease is initiated in the lungs due to the inhalation of spores.</p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The mechanism of resistance by lactamases\u200b to \u03b2-lactam antibiotics is by:",
    "choices": [
      {
        "id": 1,
        "text": "Alteration of penicillin binding protein"
      },
      {
        "id": 2,
        "text": "Degradation of antibiotics"
      },
      {
        "id": 3,
        "text": "Drug efflux"
      },
      {
        "id": 4,
        "text": "Alteration in 50s ribosome structure"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Resistance <strong>by lactamases</strong> is through the <strong>degradation of antibiotics.</strong></p>\n<p><strong>Beta-lactamases</strong> are enzymes produced by certain bacteria that inactivates&nbsp;&beta;-lactam antibiotics by <strong>hydrolysis</strong> of the &beta;-lactam ring in their structure.</p>\n<p>However, the resistance to penicillins and other beta-lactamase is conferred through one of the four mechanisms.</p>\n<ul>\n<li><strong>Inactivation of antibiotic by lactamases</strong></li>\n<li>Modification of target PBPs</li>\n<li>Impaired penetration of drug to target PBPs</li>\n<li>Antibiotic efflux&nbsp;</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient has a hematocrit level of 40% and renal plasma flow of 600 mL/min. Calculate the renal blood flow.",
    "choices": [
      {
        "id": 1,
        "text": "2400 mL/min"
      },
      {
        "id": 2,
        "text": "1200 mL/min"
      },
      {
        "id": 3,
        "text": "1000 mL/min"
      },
      {
        "id": 4,
        "text": "600 mL/min"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The renal blood flow is <strong>1000 mL/min.</strong></p>\n<p><strong>Renal blood flow (RBF) = </strong>Renal plasma flow/(1-Hematocrit)</p>\n<p><strong>= RPF / (1-Hct)</strong></p>\n<p>= 600 / (1-0.4)</p>\n<p>= 600 / 0.6</p>\n<p>= 1000 mL/min</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is the correct statement regarding Huntington's Chorea?",
    "choices": [
      {
        "id": 1,
        "text": "It is a trinucleotide repeat disorder"
      },
      {
        "id": 2,
        "text": "There is loss of function type of mutation"
      },
      {
        "id": 3,
        "text": "There are abnormal repeats of CUG"
      },
      {
        "id": 4,
        "text": "Abnormality is seen due to mutation in chromosome 6"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Huntington's chorea&nbsp;is a<strong> trinucleotide repeat disorder.</strong></p>\n<p><strong>Huntington&rsquo;s disease</strong> (HD) is an <strong>autosomal dominant</strong> neurodegenerative disorder. It is caused by <strong>CAG trinucleotide&nbsp;repeat</strong> (&gt;40) expansion mutation in the huntingtin gene on <strong>chromosome 4p</strong>.&nbsp;The disease shows <strong>genetic anticipation</strong> and has an early-onset (second to the third decade).&nbsp;<strong>Cognitive impairment</strong> is an early feature. Pathologically, atrophy of caudate and putamen with ex vacuo ventriculomegaly is seen.&nbsp; Decreased acetylcholine leads to <strong>dementia</strong> and decreased GABA and increased dopamine lead to <strong>chorea.</strong></p>\n<p><strong>Treatment</strong> consists of <strong>haloperidol, tetrabenazine</strong> (Dopamine depletion).</p>\n<p>&nbsp;</p>\n<table style=\"height: 697px; width: 401px;\">\n<tbody>\n<tr style=\"height: 18px;\">\n<td style=\"width: 141px; height: 18px;\"><strong>Disease</strong></td>\n<td style=\"width: 83px; height: 18px;\"><strong>Repeats</strong></td>\n<td style=\"width: 155px; height: 18px;\">Clinical features</td>\n</tr>\n<tr style=\"height: 91px;\">\n<td style=\"width: 141px; height: 91px;\"><strong>Fragile X- syndrome</strong></td>\n<td style=\"width: 83px; height: 91px;\">&nbsp; <strong>CGG</strong></td>\n<td style=\"width: 155px; height: 91px;\">Mental retardation, large ears,&nbsp;and jaws, macroorchidism in males</td>\n</tr>\n<tr style=\"height: 107.2px;\">\n<td style=\"width: 141px; height: 107.2px;\">\n<p>Myotonic Dystrophy</p>\n<p>(<strong>chromosome 19)</strong></p>\n</td>\n<td style=\"width: 83px; height: 107.2px;\">&nbsp; CTG</td>\n<td style=\"width: 155px; height: 107.2px;\">Muscle loss, cardiac arrhythmia,<br /><strong>cataracts</strong>, frontal balding</td>\n</tr>\n<tr style=\"height: 36px;\">\n<td style=\"width: 141px; height: 36px;\"><strong>Huntington&rsquo;s disease</strong></td>\n<td style=\"width: 83px; height: 36px;\">&nbsp; <strong>CAG</strong></td>\n<td style=\"width: 155px; height: 36px;\">Affective disorder</td>\n</tr>\n<tr style=\"height: 72px;\">\n<td style=\"width: 141px; height: 72px;\">Spinocerebellar ataxia type 1</td>\n<td style=\"width: 83px; height: 72px;\">&nbsp; CAG</td>\n<td style=\"width: 155px; height: 72px;\">Progressive ataxia, dysarthria,<br />dysmetria</td>\n</tr>\n<tr style=\"height: 91px;\">\n<td style=\"width: 141px; height: 91px;\"><strong>Friedreich's ataxia</strong></td>\n<td style=\"width: 83px; height: 91px;\">&nbsp; <strong>GAA</strong></td>\n<td style=\"width: 155px; height: 91px;\">Progressive ataxia,<br />dysarthria, hypertrophic<br />cardiomyopathy</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not used as an immediate test in the screening of urinary tract infections (UTI)?",
    "choices": [
      {
        "id": 1,
        "text": "Pour plate culture"
      },
      {
        "id": 2,
        "text": "Griess nitrite test"
      },
      {
        "id": 3,
        "text": "Leukocyte esterase test"
      },
      {
        "id": 4,
        "text": "Wet mount examination"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Pour plate culture </strong>(quantitative test) is not used as an immediate test for screening of UTI.&nbsp;However it is considered the <strong>best</strong> diagnostic test for confirmation of UTI due it&rsquo;s high sensitivity and specificity.</p>\n<p>The screening tests for UTI are as follows:</p>\n<ul>\n<li><strong>Wet mount examination:</strong> It is done to demonstrate pus cells in urine.&nbsp;</li>\n<li><strong>Leukocyte esterase test</strong>: It is a rapid and cheaper method, and detects leukocyte esterases secreted by pus cells present in urine.</li>\n<li><strong>Nitrate reduction test </strong>(Griess test): Nitrate reducing bacteria like E. coli give a positive result.</li>\n<li><strong>Catalase test</strong>: E. coli and other bacteria that produce the enzyme catalase give a positive result.</li>\n</ul>\n<p>Quantitative culture:</p>\n<ul>\n<li>Standardized loop technique</li>\n<li>Pour plate method</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 52-year-old male patient comes with complaints of abdominal pain, nausea, and vomiting. A peripheral blood smear reveals macrocytes and hypersegmented neutrophils and an endoscopy reveals atrophic gastritis. Which of the following conditions is likely to be seen in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Vitamin B12 deficiency"
      },
      {
        "id": 2,
        "text": "Folate deficiency"
      },
      {
        "id": 3,
        "text": "Pyridoxine deficiency"
      },
      {
        "id": 4,
        "text": "Niacin deficiency"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given findings are suggestive of <strong>pernicious anemia,</strong>&nbsp;which is associated with <strong>atrophic gastritis</strong> and&nbsp;<strong>vitamin B12 deficiency.</strong></p>\n<p><strong>Anemic patient</strong>&nbsp;with a peripheral smear showing&nbsp;<strong>macrocytic RBCs</strong>&nbsp;and&nbsp;<strong>hypersegmented neutrophils</strong>&nbsp;are important characteristic features of&nbsp;<strong>megaloblastic anemia.</strong>&nbsp;<strong>Vitamin B12</strong> and folic acid deficiency&nbsp;are the main&nbsp;causes&nbsp;of megaloblastic anemia.</p>\n<p><strong>Pernicious anemia</strong> is an autoimmune disease characterized by the presence of <strong>autoantibodies</strong> which impairs the production or activity of the <strong>intrinsic</strong> <strong>factor (IF)</strong>, which is required for the <strong>uptake of vitamin B12</strong>.&nbsp;</p>\n<p>These patients also develop <strong>chronic</strong>&nbsp;<strong>atrophic gastritis,</strong> characterized by loss of parietal cells, infiltration of lymphocytes and plasma cells and megaloblastic changes in mucosal cells. This is not seen in folic acid deficiency.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 42-year-old male was diagnosed with a tumor in the right submandibular gland and was posted for surgical removal of the gland and its duct.  During the procedure, which of the following nerves is susceptible to injury?",
    "choices": [
      {
        "id": 1,
        "text": "Mandibular nerve"
      },
      {
        "id": 2,
        "text": "Lingual nerve"
      },
      {
        "id": 3,
        "text": "Inferior alveolar nerve"
      },
      {
        "id": 4,
        "text": "Recurrent laryngeal nerve"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Lingual nerve</strong>&nbsp;loops around the submandibular duct,<strong>&nbsp;</strong>and hence is susceptible to injury during the procedures involving the excision of the submandibular gland or its duct.</p>\n<p>Superficial to the hyoglossus muscle, the submandibular duct lies between <strong>lingual </strong>and<strong> hypoglossal nerves</strong>.&nbsp;At the anterior border of the hyoglossus, it is crossed by the lingual nerve.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/dd265949e5c14612b03d3b7fada94aa4x1280x1204.JPEG"
    ]
  },
  {
    "text": "Which of the following is an inhibitor of RNA synthesis?",
    "choices": [
      {
        "id": 1,
        "text": "5-Fluorouracil"
      },
      {
        "id": 2,
        "text": "Rifampicin"
      },
      {
        "id": 3,
        "text": "Nitrofurantoin"
      },
      {
        "id": 4,
        "text": "Novobiocin"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Rifampicin </strong>is an inhibitor of RNA synthesis. It&nbsp;binds to the<strong> beta subunit of DNA dependent RNA-polymerase (rpoB) </strong>to form a stable drug-enzyme complex. The binding suppresses the chain formation in RNA synthesis.</p>\n<p>5-Fluorouracil inhibits <strong>thymidylate synthesis.</strong></p>\n<p>Nitrofurantoin produces highly reactive intermediates that cause <strong>DNA damage.</strong></p>\n<p>Novobiocin is a potent<strong> inhibitor</strong> of bacterial<strong> DNA gyrase.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 55-year-old male presented with angina. Coronary angiography revealed a block in the right coronary artery. The condition is likely to cause a \u200bdecrease in blood supply through all of the following blood vessels except:",
    "choices": [
      {
        "id": 1,
        "text": "Right marginal artery"
      },
      {
        "id": 2,
        "text": "Posterior interventricular artery"
      },
      {
        "id": 3,
        "text": "Artery to SA node"
      },
      {
        "id": 4,
        "text": "Circumflex artery"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Circumflex artery </strong>is<strong> not a branch </strong>of the <strong>right coronary artery.&nbsp;</strong>It is a branch of the left coronary artery.</p>\n<p>The branches of the <strong>right</strong> coronary artery are:</p>\n<ul>\n<li><strong>Right conal artery</strong> - It is the first branch of the right coronary artery</li>\n<li><strong>Artery of the SA node&nbsp;</strong></li>\n<li><strong>Right marginal artery&nbsp;</strong></li>\n<li><strong>Posterior interventricular (descending) artery </strong>(in 65% population)</li>\n<li>Atrial and anterior and posterior ventricular branches</li>\n</ul>\n<div class=\"co8aDb XcVN5d\" role=\"heading\" aria-level=\"3\">The branches of the <strong>left</strong> coronary artery are:</div>\n<div class=\"RqBzHd\">\n<ul class=\"i8Z77e\">\n<li class=\"TrT0Xe\"><strong>The left anterior descending artery</strong>&nbsp;(Anterior interventricular branch of LCA)</li>\n<li class=\"TrT0Xe\"><strong>Circumflex artery and its left marginal branch.</strong></li>\n</ul>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/76895c44dd884e8da76d1d984b81bad5x1280x2059.JPEG"
    ]
  },
  {
    "text": "Glucose transporter in the myocytes, under the influence of insulin, is ________",
    "choices": [
      {
        "id": 1,
        "text": "GLUT 1"
      },
      {
        "id": 2,
        "text": "GLUT 2"
      },
      {
        "id": 3,
        "text": "GLUT 3"
      },
      {
        "id": 4,
        "text": "GLUT 4"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Glucose transporter in the myocytes, under the influence of insulin, is <strong>GLUT 4.</strong></p>\n<p>Glucose transport in our body mainly occurs through sodium-independent glucose transporters, which include\u00a0<strong>GLUT</strong> transporters, and to a small extent through sodium-dependent glucose transporters, which include <strong>SGLT-1</strong> and <strong>SGLT-2</strong>. Insulin induces the movement of intracellular GLUT 4 molecules to the cell surface and thus increases glucose uptake.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Voriconazole is not effective against which one of the following?",
    "choices": [
      {
        "id": 1,
        "text": "Candida albicans"
      },
      {
        "id": 2,
        "text": "Mucormycosis"
      },
      {
        "id": 3,
        "text": "Candida tropicalis"
      },
      {
        "id": 4,
        "text": "Aspergillosis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Voriconazole is not effective against mucormycosis.</p>\n<p><strong>Mucormycosis</strong> is treated by <strong>amphotericin B</strong>. Posaconazole can also be used. However, other azoles are not effective against this fungus.</p>\n<p>Voriconazole is the drug of choice for the treatment of aspergillosis. It can also be used for Candida species (including glabrata and krusei), Scedosporium and Fusarium.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient presented with biliary colic. The intern has administered an analgesic, following which the pain got aggravated. Which of the following could be responsible for the aggravation of the patient's symptoms?",
    "choices": [
      {
        "id": 1,
        "text": "Morphine"
      },
      {
        "id": 2,
        "text": "Diclofenac"
      },
      {
        "id": 3,
        "text": "Naproxen"
      },
      {
        "id": 4,
        "text": "Etoricoxib"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Morphine </strong>is the analgesic that could be responsible for the aggravation of the patient's symptoms. It&nbsp;causes<strong> constriction of the sphincter of Oddi</strong>&nbsp;causing an increase in fluid pressure in the common bile duct and gall bladder.</p>\n<p>Diclofenac, Naproxen, and Etoricoxib are all NSAIDs that are used as an analgesic for mild to moderate pain. NSAIDs do not worsen the pain in patients with biliary colic.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Predominantly osteoblastic secondaries are seen in ______",
    "choices": [
      {
        "id": 1,
        "text": "Prostate carcinoma"
      },
      {
        "id": 2,
        "text": "Breast carcinoma"
      },
      {
        "id": 3,
        "text": "Stomach carcinoma"
      },
      {
        "id": 4,
        "text": "Bone carcinoma"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>&nbsp;Predominantly osteoblastic secondaries are seen in prostate carcinoma.</p>\n<p><strong>Metastatic tumors of bone:</strong></p>\n<p>Metastatic tumors are the most common form of skeletal malignancy, greatly outnumbering primary bone cancers. The red marrow in these areas, with its rich capillary network and slow blood flow, facilitates implantation and growth of the tumor cells.</p>\n<p>The radiographic appearance of metastases may be purely lytic (bone destroying), purely blastic (bone forming), or mixed lytic and blastic. Furthermore, some cancers are associated with predominantly one pattern or the other.</p>\n<p>For example, <strong>prostatic adenocarcinoma is predominantly blastic</strong> whereas <strong>carcinomas of the kidney, lung, and gastrointestinal tract and malignant melanoma produce lytic lesions.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient has been brought to your emergency department with the following signs and symptoms - Dry mouth, irrelevant slurred speech, dry and hot skin, dilated pupils. What is the most probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Alcohol intoxication"
      },
      {
        "id": 2,
        "text": "Datura poisoning"
      },
      {
        "id": 3,
        "text": "Organophosphate poisoning"
      },
      {
        "id": 4,
        "text": "Cocaine poisoning"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The <strong>clinical syndrome</strong> in the question is that of <strong>Datura poisoning.</strong></p>\n<ul>\n<li>\n<p class=\"p1\">Jimson weed (Datura stramonium) and angel&rsquo;s trumpet (Datura candida).</p>\n</li>\n<li>\n<p class=\"p1\">All Datura species contain the <strong>anticholinergic alkaloids atropine, scopolamine,</strong> and <strong>hyoscyamine.</strong></p>\n</li>\n<li>\n<p class=\"p1\">Seeds or other parts of the plant can be ingested or smoked and produce <strong>delirium, hallucinations,</strong> and<strong> seizures</strong> along with other classic<strong> anticholinergic effects,</strong> such as mydriasis, tachycardia, dry mouth and skin, blurred vision, urinary retention, and hyperthermia.</p>\n</li>\n<li>\n<p class=\"p1\"><strong>Gastric emptying</strong> is often <strong>delayed,</strong> and the small, plentiful seeds can become trapped among the gastrointestinal folds after ingestion; thus<strong> gastric decontamination</strong> can be an <strong>important therapy.</strong></p>\n</li>\n<li>\n<p class=\"p1\"><strong>Physostigmine,</strong> a reversible acetylcholine esterase antagonist, is an <strong>effective treatment</strong> for severe anticholinergic poisoning.</p>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following arteries passes in close proximity to the area marked by the arrow in the given image?",
    "choices": [
      {
        "id": 1,
        "text": "Internal carotid artery"
      },
      {
        "id": 2,
        "text": "Middle meningeal artery"
      },
      {
        "id": 3,
        "text": "Anterior cerebral artery"
      },
      {
        "id": 4,
        "text": "Deep temporal artery"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The area marked by an arrow in the given image is&nbsp;<strong>p</strong><strong>terion&nbsp;</strong>and the artery that passes in close proximity&nbsp;to this area is the&nbsp;<strong>middle meningeal artery</strong>.</p>\n<p><strong>The pterion</strong> is an <strong>H shaped sutural junction</strong> between <strong>four bones of the skull:</strong></p>\n<ul>\n<li>Frontal bone</li>\n<li>Squamous part of the temporal bone</li>\n<li>Greater wing of the sphenoid bone</li>\n<li>Parietal bone.</li>\n</ul>\n<p>It is an important structure as it overlies the anterior branch of the <strong>middle meningeal artery</strong> and <strong>lateral fissure of the cerebral hemisphere</strong>. The bone in this area is thin and any injury to this area may lead to rupture of the middle meningeal artery leading to <strong>extradural hematoma.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/626d23b333a046029878fb2995d3c5fd.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/93b950527b9348b9ba405b1a9637e698x525x625.PNG"
    ]
  },
  {
    "text": "A 50-year-old man presented with the blurring of vision. Urine examination showed proteinuria. Fundus examination showed dot and blot hemorrhages, microaneurysms, and cotton wool spots. Histopathology of the kidney was as shown below. What is your diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Renal amyloidosis"
      },
      {
        "id": 2,
        "text": "Focal segmental glomerulosclerosis"
      },
      {
        "id": 3,
        "text": "Kimmelstiel-Wilson disease"
      },
      {
        "id": 4,
        "text": "Lupus nephritis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Histopathological image shows <strong>acellular periodic acid Schiff (PAS)-positive nodules</strong> suggestive of&nbsp;nodular glomerulosclerosis/intercapillary glomerulosclerosis/Kimmelstiel&ndash;Wilson disease, which occurs in patients with&nbsp;diabetic nephropathy.</p>\n<p>Three renal lesions are encountered in diabetic nephropathy:</p>\n<ul>\n<li><strong>Glomerular lesions</strong>:\n<ul>\n<li>Capillary basement membrane thickening</li>\n<li>Diffuse mesangial sclerosis</li>\n<li>Nodular glomerulosclerosis/<strong>Kimmelstiel&ndash;Wilson disease</strong></li>\n</ul>\n</li>\n<li><strong>Renal vascular lesions</strong>, principally hyaline arteriolosclerosis</li>\n<li><strong>Pyelonephritis</strong>, including necrotizing papillitis</li>\n</ul>\n<p>Renal histopathology in:</p>\n<ul>\n<li>Amyloidosis:&nbsp;Glomerular deposits appearing as thickenings of the mesangial matrix, forming interlacing broad ribbons of amyloid</li>\n<li>Lupus nephritis:&nbsp;Immune complex deposits in the mesangium or along the entire basement membrane (wire loop lesions), with mesangial cell proliferation</li>\n<li>Focal segmental glomerulosclerosis:&nbsp;Focal and segmental hyalinosis and sclerosis of the capillary wall; lipid droplets in the sclerosed area.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/800949781bf5465f8d3a6022da109176.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 3-month-old infant is brought to the emergency room with seizures. On examination, the child is hypotonic, has hepatomegaly. Investigations reveal glucose - 49 mg/dL, elevated uric acid levels in the blood, and marked lactic acidosis. The blood sample has the following appearance. What is the most likely enzyme deficiency?",
    "choices": [
      {
        "id": 1,
        "text": "Liver phosphorylase"
      },
      {
        "id": 2,
        "text": "Lysosomal glucosidase"
      },
      {
        "id": 3,
        "text": "Hepatic glycogen synthase"
      },
      {
        "id": 4,
        "text": "Glucose 6-phosphatase"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The clinical features of hypoglycemia, hypertriglyceridemia (milky white plasma), hyperuricemia, and lactic acidosis are suggestive of\u00a0<strong>von Gierke disease</strong>. It is due to the deficiency of <strong>glucose 6-phosphatase</strong> (type Ia)</p>\n<p>Signs and symptoms of\u00a0<strong>von Gierke disease </strong>are:</p>\n<ul>\n<li><strong>Seizures\u00a0</strong></li>\n<li>Doll-like facies (fat cheeks and relatively thin extremities)</li>\n<li><strong>Hepatomegaly</strong></li>\n<li>Growth retardation</li>\n<li><strong>Hypoglycemia</strong> (blood glucose &lt;60 mg/dL)</li>\n<li>Blood uric acid levels &gt;5 mg/dL</li>\n<li><strong>Lactic acidosis</strong></li>\n<li>Elevated cholesterol and triglycerides</li>\n<li>Neutropenia (specific to Ib)</li>\n</ul>\n<p>Treatment of von Gierke includes:</p>\n<ul>\n<li>Maintenance of glucose levels by <strong>infusion of glucose</strong> or the use of <strong>uncooked cornstarch</strong>\u00a0(as this is catabolized also by the debranching enzyme).</li>\n<li>Mild to moderate <strong>restriction of lactose, fructose</strong>,<strong>\u00a0</strong>and <strong>sucrose.</strong></li>\n<li>Ensure adequate intake of vitamins and minerals.</li>\n<li><strong>Nicotinic acid, fibrates</strong> therapy should be started if triglyceride levels are &gt;900 mg/dL, despite dietary therapy.</li>\n<li><strong>Allopurinol</strong> (10 mg/kg/day) should be started for hyperuricemia if uncontrolled on dietary therapy.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1f082aaac88947278a8478e781f7c7f6.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The inheritance pattern of hemophilia  A is ______",
    "choices": [
      {
        "id": 1,
        "text": "X-linked recessive"
      },
      {
        "id": 2,
        "text": "X-linked dominant"
      },
      {
        "id": 3,
        "text": "Autosomal dominant"
      },
      {
        "id": 4,
        "text": "Autosomal recessive"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Hemophilia A</strong> is inherited as an <strong>X-linked recessive</strong> trait and thus, affects mainly males and homozygous females.</p>\n<p>Hemophilia B is also inherited as X-linked recessive trait.&nbsp;Hemophilia C,&nbsp;on the other hand, is inherited as an autosomal-recessive trait.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Fmge Mini Test - 1';
        const quizFilename = 'fmge-mini-test-1-0fdbcd6f.html';
        let hierarchy = ["Marrow", "FMGE Mini Test Series", "2020"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>