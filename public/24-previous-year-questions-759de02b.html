<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>24 Previous Year Questions - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Ophthalmology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">11</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>A patient presents with a foreign body (chuna) in the eye and complaints of irritability and lacrimation. What is the first step in management for this patient?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Antibiotic eye drops\nB) Ascorbic eye drops\nC) Irrigation of the eye with normal saline\nD) Steroids"
      },
      {
        "id": 2,
        "text": "Ascorbic eye drops"
      },
      {
        "id": 3,
        "text": "Irrigation of the eye with normal saline"
      },
      {
        "id": 4,
        "text": "Steroids"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n\t<li>Chemical injury to the <span class=\"customMeta\" data-dictid=\"d168af6e7f1692777185683fea5e7f\">conjunctiva</span> and <span class=\"customMeta\" data-dictid=\"4cc4d657841692777185555e1b982d\">cornea</span> is a severe <span class=\"customMeta\" data-dictid=\"7b1f175723169277719459db16938e\">ocular</span> emergency that must be treated immediately.</li>\n\t<li>The first and the most crucial step in treating chemical injuries is copious eye <span class=\"customMeta\" data-dictid=\"ea6a429a6b1692777190801502ba55\">irrigation</span> by double <span class=\"customMeta\" data-dictid=\"30ddb5b09916927771877ac72c09b7\">eversion</span> of the lid with normal saline.</li>\n\t<li>Deliver a minimum of 2 liters of water in 20-30 minutes or until pH is restored.</li>\n</ul>\n\n<p><strong>Management of <span class=\"customMeta\" data-dictid=\"b802ae0373169277718153c4d4fbaf\">Alkali</span> Burns in the Eye:</strong></p>\n\n<p>Initial Evaluation and Emergency Response</p>\n\n<ul>\n\t<li>Immediate Irrigation:\n\t<ul>\n\t\t<li>Continue <span class=\"customMeta\" data-dictid=\"ea6a429a6b1692777190801502ba55\">irrigation</span> during transport to the hospital until <span class=\"customMeta\" data-dictid=\"7b1f175723169277719459db16938e\">ocular</span> surface pH normalizes to 7.0\u20137.2.</li>\n\t\t<li>Borate <span class=\"customMeta\" data-dictid=\"9d374d494a169277718337f2820f3a\">buffer</span> (e.g., Cederroth Eye Wash) may be more effective than <span class=\"customMeta\" data-dictid=\"894da1dfe6169277719871d7210619\">saline</span> or water.</li>\n\t</ul>\n\t</li>\n\t<li>Monitor pH:\n\t<ul>\n\t\t<li>Check <span class=\"customMeta\" data-dictid=\"7b1f175723169277719459db16938e\">ocular</span> pH with narrow-range strips (6\u20138) every 15\u201330 minutes to confirm stabilization.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><strong>Ophthalmic Examination: </strong>Perform a full exam after pH normalization:</p>\n\n<p>\u00a0</p>\n\n<p><strong>Treatment Based on Severity (Grade I\u2013IV):</strong></p>\n\n<p><strong>Grade I (Mild Injuries):</strong></p>\n\n<ul>\n\t<li>Treatment:\n\t<ul>\n\t\t<li>Topical <span class=\"customMeta\" data-dictid=\"ff6b4f4d491692777181a02bad075e\">antibiotic</span> ointments (e.g., bacitracin, erythromycin).<strong>(Option A ruled out)</strong></li>\n\t\t<li>Preservative-free artificial <span class=\"customMeta\" data-dictid=\"1717bdb5d21692777200d45e31ceed\">tears</span> for lubrication.</li>\n\t\t<li>Topical steroids (e.g., <span class=\"customMeta\" data-dictid=\"2d5e8899351692777196bdf7ced01d\">prednisolone</span> acetate) for 1 week to reduce inflammation. <strong>(Option D ruled out)</strong></li>\n\t\t<li>Cycloplegic agents (e.g., cyclopentolate) for comfort.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Grades II\u2013IV (Moderate to Severe Injuries):</strong></p>\n\n<ul>\n\t<li>Anti-inflammatory Measures:\n\t<ul>\n\t\t<li>Hourly <span class=\"customMeta\" data-dictid=\"9c5b45e3b916927772000167f2669a\">topical</span> <span class=\"customMeta\" data-dictid=\"2d5e8899351692777196bdf7ced01d\">prednisolone</span> <span class=\"customMeta\" data-dictid=\"47765053a81692777180738f50cd4e\">acetate</span> in the first week, tapered after day 10.</li>\n\t\t<li>Long-acting cycloplegics (e.g., atropine) for pain relief.</li>\n\t\t<li>Oral tetracyclines (e.g., doxycycline) to <span class=\"customMeta\" data-dictid=\"6b3de87b7c16927771901326efbcd2\">inhibit</span> <span class=\"customMeta\" data-dictid=\"14958c535b1692777192abd2a85abf\">matrix</span> metalloproteinases and reduce <span class=\"customMeta\" data-dictid=\"c474f88aef169277718529e81cb507\">corneal melting</span> risk.</li>\n\t\t<li>High-dose <span class=\"customMeta\" data-dictid=\"964b8993a1169277720279c9c96cd1\">vitamin C</span> (topical/oral) to prevent corneal ulceration.</li>\n\t</ul>\n\t</li>\n\t<li>Antibiotics:\n\t<ul>\n\t\t<li>Topical <span class=\"customMeta\" data-dictid=\"583de7632e16927771834054d1be58\">broad-spectrum</span> antibiotics (e.g., fluoroquinolones) to prevent superinfection.</li>\n\t</ul>\n\t</li>\n\t<li>IOP Management:\n\t<ul>\n\t\t<li>Use <span class=\"customMeta\" data-dictid=\"0f0067663b16927771818fe253b3b9\">aqueous</span> suppressants to control elevated IOP.</li>\n\t</ul>\n\t</li>\n\t<li>Amniotic Membrane:\n\t<ul>\n\t\t<li>Early placement of <span class=\"customMeta\" data-dictid=\"2c0fb943ce16927771815ddeb9824d\">amniotic</span> <span class=\"customMeta\" data-dictid=\"34cd707428169277719272942b7905\">membrane</span> (e.g., Prokera) for grades II\u2013IV injuries to support epithelial healing.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>Surgical Management</p>\n\n<ul>\n\t<li>Debridement: Remove necrotic corneal and conjunctival <span class=\"customMeta\" data-dictid=\"53782f88d31692777187177cb73b24\">epithelium</span> with sponges or <span class=\"customMeta\" data-dictid=\"81d12f9cb01692777199e44ff3f3c1\">surgical</span> instruments.</li>\n\t<li>Persistent Epithelial Defects: Use <span class=\"customMeta\" data-dictid=\"2c0fb943ce16927771815ddeb9824d\">amniotic</span> membranes for <span class=\"customMeta\" data-dictid=\"9cf83937931692777188a014337dcf\">healing</span> (sutured or Prokera).</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Ascorbic <span class=\"customMeta\" data-dictid=\"fe2c08a01b1692777187011e915049\">eye drops</span> (Option B) </strong>promote <span class=\"customMeta\" data-dictid=\"d215f4a56c16927771842f34a24156\">collagen</span> <span class=\"customMeta\" data-dictid=\"3fda45538a1692777199ec2a5478a5\">synthesis</span> and improve wound <span class=\"customMeta\" data-dictid=\"9cf83937931692777188a014337dcf\">healing</span> but it is not the initial step.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A factory worker presented with a history of chuna (lime) exposure in both eyes a few hours ago. What is the first immediate management?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Take history\nB) Copious irrigation of eyes\nC) Check vision in both eyes\nD) Check IOP and plan for surgery"
      },
      {
        "id": 2,
        "text": "Copious irrigation of eyes"
      },
      {
        "id": 3,
        "text": "Check vision in both eyes"
      },
      {
        "id": 4,
        "text": "Check IOP and plan for surgery"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n\t<li>Chemical eye injuries, particularly <span class=\"customMeta\" data-dictid=\"b802ae0373169277718153c4d4fbaf\">alkali</span> burns (such as chuna, <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> hydroxide, or lime), are <span class=\"customMeta\" data-dictid=\"c09776e61f1692777194db295c590f\">ophthalmic</span> emergencies.</li>\n\t<li>Immediate and aggressive <span class=\"customMeta\" data-dictid=\"ea6a429a6b1692777190801502ba55\">irrigation</span> is the first and most critical step to minimize <span class=\"customMeta\" data-dictid=\"7b1f175723169277719459db16938e\">ocular</span> damage.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:715px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td colspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Chemical Injuries</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td colspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Eye injuries caused by chemicals range from mild <span class=\"customMeta\" data-dictid=\"3a74ed0fcf16927771901a79847565\">irritation</span> to vision loss.</li>\n\t\t\t\t<li>Sources of Injury\n\t\t\t\t<ul>\n\t\t\t\t\t<li>Domestic: Ammonia, detergents, cosmetics</li>\n\t\t\t\t\t<li>Agriculture: Fertilizers, insecticides</li>\n\t\t\t\t\t<li>Laboratory: Acids, alkalis</li>\n\t\t\t\t\t<li>Assaults & Warfare: Acid attacks, chemical weapons</li>\n\t\t\t\t\t<li>Self-inflicted: <span class=\"customMeta\" data-dictid=\"5cc0e8df9216927771919ff3e48a1c\">Malingering</span> or mental health conditions</li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\t\t\t<ul>\n\t\t\t\t<li><strong>Alkali vs. Acid Burns</strong>\n\n\t\t\t\t<ul>\n\t\t\t\t\t<li>Alkali: More severe, deeper <span class=\"customMeta\" data-dictid=\"31dd0b58bb1692777195e6016ecd51\">penetration</span> due to saponification, <span class=\"customMeta\" data-dictid=\"4d432538a61692777189318b8f528c\">hygroscopic</span> nature, and <span class=\"customMeta\" data-dictid=\"845fedd06d16927771989597afa034\">soluble</span> compounds formation.</li>\n\t\t\t\t\t<li>Acid: Less severe, protein <span class=\"customMeta\" data-dictid=\"42f1e4deb8169277718412c0681a54\">coagulation</span> forms a protective barrier.</li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Clinical Stages</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Acute: Conjunctival swelling, corneal epithelial loss, <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">iris</span> inflammation, possible corneal <span class=\"customMeta\" data-dictid=\"1e7a15285e1692777198023b252c8c\">sloughing</span> and staphyloma.</li>\n\t\t\t\t<li>Reparation: Epithelial regeneration, corneal vascularization, <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">iris</span> <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> subsides.</li>\n\t\t\t\t<li>Complications: Symblepharon, <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> ulcers, cataracts, secondary glaucoma.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Emergency Management</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>Immediate irrigation</strong>: Use water or <span class=\"customMeta\" data-dictid=\"894da1dfe6169277719871d7210619\">saline</span> for at least 20-30 minutes or until the eye\u2019s pH is restored. A minimum of 2 liters should be used. <strong>(Option B)</strong></li>\n\t\t\t\t<li><strong>Mechanical removal</strong>: Gently remove any chemical particles with a cotton swab, particularly in <span class=\"customMeta\" data-dictid=\"c59d8f1bae1692777191d7665ba18f\">lime</span> burns.</li>\n\t\t\t\t<li><strong>Necrotic tissue removal</strong>: Carefully <span class=\"customMeta\" data-dictid=\"e0b35b76f816927771875efaec6acd\">excise</span> dead <span class=\"customMeta\" data-dictid=\"d168af6e7f1692777185683fea5e7f\">conjunctiva</span> and <span class=\"customMeta\" data-dictid=\"66722262e51692777185764ec20cf4\">corneal epithelium</span> using a cotton swab.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Healing & <span class=\"customMeta\" data-dictid=\"8a6b09beac1692777184b08a2b5766\">Complication</span> Prevention</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Topical antibiotics: Use <span class=\"customMeta\" data-dictid=\"583de7632e16927771834054d1be58\">broad-spectrum</span> antibiotics like <span class=\"customMeta\" data-dictid=\"ea2e8c291e169277719273188accfd\">moxifloxacin</span> to prevent infection.</li>\n\t\t\t\t<li>Topical steroids: Control <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> and <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> uveitis. Use cautiously after two weeks to avoid hindering <span class=\"customMeta\" data-dictid=\"d215f4a56c16927771842f34a24156\">collagen</span> production.</li>\n\t\t\t\t<li>Cycloplegics: Alleviate pain and <span class=\"customMeta\" data-dictid=\"7e9bc153d616927771866a8608d1a5\">dilate</span> the <span class=\"customMeta\" data-dictid=\"e419fd4e241692777196d038d1b71a\">pupil</span> with agents like atropine.</li>\n\t\t\t\t<li>Ascorbic acid: Promote wound <span class=\"customMeta\" data-dictid=\"9cf83937931692777188a014337dcf\">healing</span> and <span class=\"customMeta\" data-dictid=\"d215f4a56c16927771842f34a24156\">collagen</span> <span class=\"customMeta\" data-dictid=\"3fda45538a1692777199ec2a5478a5\">synthesis</span> using <span class=\"customMeta\" data-dictid=\"9c5b45e3b916927772000167f2669a\">topical</span> and <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">systemic</span> Vitamin C.</li>\n\t\t\t\t<li>Lubricants: Use preservative-free artificial <span class=\"customMeta\" data-dictid=\"1717bdb5d21692777200d45e31ceed\">tears</span> to keep the eye moist and support healing.</li>\n\t\t\t\t<li>Autologous serum: Use <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> <span class=\"customMeta\" data-dictid=\"fe2c08a01b1692777187011e915049\">eye drops</span> to provide essential growth factors for healing.</li>\n\t\t\t\t<li>Sodium citrate: Stabilise neutrophils and reduce <span class=\"customMeta\" data-dictid=\"c551557c43169277718498a921e9e2\">collagenase</span> activity with <span class=\"customMeta\" data-dictid=\"9c5b45e3b916927772000167f2669a\">topical</span> sodium citrate.</li>\n\t\t\t\t<li>Doxycycline: <span class=\"customMeta\" data-dictid=\"6b3de87b7c16927771901326efbcd2\">Inhibit</span> <span class=\"customMeta\" data-dictid=\"c551557c43169277718498a921e9e2\">collagenase</span> activity with oral doxycycline.</li>\n\t\t\t\t<li>Symblepharon Prevention:Use a glass shell or sweep a glass rod in the fornices (spaces between the <span class=\"customMeta\" data-dictid=\"819ddea9e51692777187cdff06b437\">eyelid</span> and eyeball) twice daily to prevent adhesions.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Complication Management</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Secondary glaucoma: Control <span class=\"customMeta\" data-dictid=\"1ba26fe8171692777190a867ec47c7\">intraocular</span> pressure with beta-blockers like <span class=\"customMeta\" data-dictid=\"44f66117c1169277720085f515550a\">timolol</span> or carbonic <span class=\"customMeta\" data-dictid=\"0a72e82d651692777181ef79d77e61\">anhydrase</span> inhibitors such as acetazolamide.</li>\n\t\t\t\t<li>Limbal stem cell deficiency: Consider <span class=\"customMeta\" data-dictid=\"2c0fb943ce16927771815ddeb9824d\">amniotic</span> <span class=\"customMeta\" data-dictid=\"34cd707428169277719272942b7905\">membrane</span> or <span class=\"customMeta\" data-dictid=\"71928251b41692777191a31e57c47f\">limbal</span> stem cell transplantation.</li>\n\t\t\t\t<li>Pseudopterygium: Surgically remove <span class=\"customMeta\" data-dictid=\"458e050fdc16927771809854c9fd53\">abnormal</span> conjunctival growth and consider <span class=\"customMeta\" data-dictid=\"9624c770251692777182ec72ea776c\">autografting</span> or <span class=\"customMeta\" data-dictid=\"2c0fb943ce16927771815ddeb9824d\">amniotic</span> <span class=\"customMeta\" data-dictid=\"34cd707428169277719272942b7905\">membrane</span> transplantation.</li>\n\t\t\t\t<li>Corneal opacity: Consider <span class=\"customMeta\" data-dictid=\"9810f0dbdb16927771908a955add6d\">keratoplasty</span> or keratoprosthesis for severe corneal damage.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Implications</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Chemical injuries can cause permanent vision loss, physical disfigurement and psychological impact despite treatment.</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong>Take history (Option A): </strong>Taking history is important but not the priority in an emergency. Every second matters in chemical burns, and delaying <span class=\"customMeta\" data-dictid=\"ea6a429a6b1692777190801502ba55\">irrigation</span> can worsen corneal damage.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Check vision in both eyes (Option C):</strong> Checking vision can be done after irrigation, but delaying <span class=\"customMeta\" data-dictid=\"0a4dc4123a1692777185e71882be04\">decontamination</span> increases <span class=\"customMeta\" data-dictid=\"7b1f175723169277719459db16938e\">ocular</span> morbidity.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Check <span class=\"customMeta\" data-dictid=\"44317409bb16927771907e9af17a8b\">IOP</span> and plan for surgery (Option D): </strong>Checking <span class=\"customMeta\" data-dictid=\"1ba26fe8171692777190a867ec47c7\">intraocular</span> pressure (IOP) and planning for surgery is important after initial management. <span class=\"customMeta\" data-dictid=\"b802ae0373169277718153c4d4fbaf\">Alkali</span> burns can cause secondary glaucoma, but <span class=\"customMeta\" data-dictid=\"ea6a429a6b1692777190801502ba55\">irrigation</span> takes precedence over any <span class=\"customMeta\" data-dictid=\"552e9ef8811692777186997018b858\">diagnostic</span> steps.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A patient has a history of a flying foreign body injury to the eye. Hemochromatosis is subsequently diagnosed. Which of the following substances is most likely involved in the deposition?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Iron"
      },
      {
        "id": 2,
        "text": "Aluminum"
      },
      {
        "id": 3,
        "text": "Wood"
      },
      {
        "id": 4,
        "text": "Glass"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Hemochromatosis is a condition characterized by excessive iron accumulation in the body. In the context of a flying foreign body injury, if the foreign body were made of iron, it could lead to iron deposition in the affected tissues, contributing to the development of hemochromatosis.</p>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:660px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td colspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Intraocular Foreign Bodies (IOFBs)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Description </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>An IOFB can lodge in any part of the <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> or <span class=\"customMeta\" data-dictid=\"a5c6cb079d16927771967e62ffee72\">posterior</span> segments, causing mechanical damage, infection, or toxic effects on <span class=\"customMeta\" data-dictid=\"1ba26fe8171692777190a867ec47c7\">intraocular</span> structures.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Types </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Inert: </strong>Glass, wood, plastic, rubber, gold, silver, platinum</p>\n\n\t\t\t<p><strong>Reactive: </strong>Organic and <span class=\"customMeta\" data-dictid=\"fae9d02cdc1692777190a3151d6fef\">Inorganic</span> (iron causing siderosis, <span class=\"customMeta\" data-dictid=\"7b5fb2b56416927771858f02fd5508\">copper</span> causing chalcosis).</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Diagnosis </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>History.</li>\n\t\t\t\t<li>Examination (wound examination, foreign body location, associated signs such as lid <span class=\"customMeta\" data-dictid=\"ff7e91c542169277719182b4b8b68b\">laceration</span> and <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> segment damage should be noted).</li>\n\t\t\t\t<li><strong>CT (investigation of choice) </strong>with <span class=\"customMeta\" data-dictid=\"01591f7f591692777182ef8aa2360c\">axial</span> and <span class=\"customMeta\" data-dictid=\"dad5b2152216927771851a3d10cd41\">coronal</span> cuts detects and localizes a <span class=\"customMeta\" data-dictid=\"84433cae211692777192a484f539bc\">metallic</span> IOFB.</li>\n\t\t\t\t<li>MRI is contraindicated (metallic IOFB).</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Treatment </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Magnetic removal (metallic IOFB)</li>\n\t\t\t\t<li>Forceps removal through <span class=\"customMeta\" data-dictid=\"4bc4237fe3169277719497604c0f00\">pars</span> <span class=\"customMeta\" data-dictid=\"2d0756b0d11692777195ef3bcd110d\">plana</span> vitrectomy</li>\n\t\t\t\t<li>Prophylaxis against infection (topical/systemic antibiotics)<strong> </strong></li>\n\t\t\t\t<li>Conservative and supportive management (topical corticosteroids, analgesics, etc).</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong>Modes of Damage:</strong></p>\n\n<ol>\n\t<li><strong>Mechanical Effects</strong>\n\n\t<ul>\n\t\t<li>Depend on the size and <span class=\"customMeta\" data-dictid=\"12c4510e191692777201c23ec126a3\">velocity</span> of the foreign body (FB).</li>\n\t</ul>\n\t</li>\n\t<li><strong>Introduction of Infection</strong>\n\t<ul>\n\t\t<li>Metallic FB are usually <span class=\"customMeta\" data-dictid=\"fc3d080799169277719904701c07f9\">sterile</span> due to the heat generated on their emission.</li>\n\t\t<li>Pieces of wood or stone carry a greater chance of infection, often leading to endophthalmitis.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Reactions to a Foreign Body (FB)</strong>\n\t<ul>\n\t\t<li><strong>Inert FB: </strong>No reaction. <strong>(Options C and D)</strong></li>\n\t\t<li><strong>Lead & Aluminium: </strong>Cause <span class=\"customMeta\" data-dictid=\"21e2d5a70616927772021fcdec0ca9\">fibrosis</span> <strong>(Option B)</strong>.</li>\n\t\t<li><strong>Toxic Non-Metallic FB (Zinc, Copper, Mercury, Aluminium): </strong>Incite suppuration.</li>\n\t\t<li><strong>Siderosis (Iron FB - Degenerative Changes Due to Electrolytic <span class=\"customMeta\" data-dictid=\"18fb34ab321692777186e9bc95a726\">Dissociation</span> and Dissemination):</strong>\n\t\t<ul>\n\t\t\t<li><strong>Earliest sign: </strong>Deposition in the <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> <span class=\"customMeta\" data-dictid=\"54635b1bf01692777183247ecff5e0\">capsule</span> of the lens, appearing as a rusty ring (pathognomonic).</li>\n\t\t\t<li><strong>Heterochromia iridis:</strong> Hyperchromic.</li>\n\t\t\t<li><strong>Visual loss:</strong> Due to <span class=\"customMeta\" data-dictid=\"45d1f54a631692777195670b446c7e\">pigmentary</span> <span class=\"customMeta\" data-dictid=\"fb7a2c30e416927771972f7df6f8c0\">retinal</span> dystrophy.</li>\n\t\t\t<li><strong>Secondary chronic glaucoma.</strong></li>\n\t\t\t<li><strong>Diagnosis: </strong>Prussian blue reaction.</li>\n\t\t</ul>\n\t\t</li>\n\t\t<li><strong>Chalcosis (Copper from <span class=\"customMeta\" data-dictid=\"f4a165ac5e169277718113dd5e4a4d\">Alloy</span> Deposited on Membranous Structures):</strong>\n\t\t<ul>\n\t\t\t<li><strong>Kayser-Fleischer Ring: </strong>Deposition in Descemet\u2019s <span class=\"customMeta\" data-dictid=\"34cd707428169277719272942b7905\">membrane</span> (seen in Wilson\u2019s disease).</li>\n\t\t\t<li><strong>Sunflower cataract.</strong></li>\n\t\t\t<li><strong>No degenerative changes: </strong>Visual <span class=\"customMeta\" data-dictid=\"e580b4033e169277719609af594c16\">prognosis</span> is good.</li>\n\t\t</ul>\n\t\t</li>\n\t\t<li><strong>Caterpillar Hair: </strong>Produces <span class=\"customMeta\" data-dictid=\"9e1f97f6ad169277718805c2dd35c1\">granulomatous</span> iridocyclitis, known as <strong>Ophthalmia Nodosa.</strong></li>\n\t</ul>\n\t</li>\n</ol>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>The patient presents with foreign body (chuna) in his eyes and complaints of irritability and lacrimation. What is the first step management in this patient?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Antibiotics eye drops"
      },
      {
        "id": 2,
        "text": "Ascorbic eye drops"
      },
      {
        "id": 3,
        "text": "Irrigation of eye with normal saline"
      },
      {
        "id": 4,
        "text": "Steroids"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Option C - <span class=\"customMeta\" data-dictid=\"ea6a429a6b1692777190801502ba55\">Irrigation</span> of the eye with normal saline:</strong></p>\n\n<ul>\n\t<li>Chemical injury to the <span class=\"customMeta\" data-dictid=\"d168af6e7f1692777185683fea5e7f\">conjunctiva</span> and <span class=\"customMeta\" data-dictid=\"4cc4d657841692777185555e1b982d\">cornea</span> is a severe <span class=\"customMeta\" data-dictid=\"7b1f175723169277719459db16938e\">ocular</span> emergency that must be treated immediately.</li>\n\t<li>The first and the most crucial step in treating chemical injuries is copious eye <span class=\"customMeta\" data-dictid=\"ea6a429a6b1692777190801502ba55\">irrigation</span> by double <span class=\"customMeta\" data-dictid=\"30ddb5b09916927771877ac72c09b7\">eversion</span> of the lid with normal saline.</li>\n\t<li>Deliver a minimum of 2 liters of water in 20-30 minutes or until pH is restored.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Incorrect Options</strong>:</p>\n\n<p><strong>Option A - Antibiotics drops in the eye:</strong></p>\n\n<ul>\n\t<li>Antibiotics are used to prevent infection, but it is not the initial step.</li>\n</ul>\n\n<p><strong>Option B - Ascorbic eye drops:</strong></p>\n\n<ul>\n\t<li>Ascorbic <span class=\"customMeta\" data-dictid=\"fe2c08a01b1692777187011e915049\">eye drops</span> promote <span class=\"customMeta\" data-dictid=\"d215f4a56c16927771842f34a24156\">collagen</span> <span class=\"customMeta\" data-dictid=\"3fda45538a1692777199ec2a5478a5\">synthesis</span> and improve wound <span class=\"customMeta\" data-dictid=\"9cf83937931692777188a014337dcf\">healing</span> but it is not the initial step.</li>\n</ul>\n\n<p><strong>Option D - Steroids:</strong></p>\n\n<ul>\n\t<li>Steroids reduce inflammation, <span class=\"customMeta\" data-dictid=\"000d23188716927771936c5f2fe74e\">neutrophil</span> infiltration, and address <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> uveitis. Cautious use is recommended after 2 weeks, as steroids may interfere with <span class=\"customMeta\" data-dictid=\"d215f4a56c16927771842f34a24156\">collagen</span> synthesis.</li>\n</ul>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which investigation is most suitable for localizing a foreign body in the eye of an industrial worker admitted to the hospital due to an eye injury caused by cutting stone with a hammer and iron chisel?</p>",
    "choices": [
      {
        "id": 1,
        "text": "B mode scan"
      },
      {
        "id": 2,
        "text": "CT"
      },
      {
        "id": 3,
        "text": "X-ray"
      },
      {
        "id": 4,
        "text": "MRI"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) CT</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>CT scan is the investigation of choice</strong> in case of an <span class=\"customMeta\" data-dictid=\"1ba26fe8171692777190a867ec47c7\">intraocular</span> foreign body and <strong>MRI is contraindicated</strong> in cases where there is a risk of <span class=\"customMeta\" data-dictid=\"84433cae211692777192a484f539bc\">metallic</span> foreign bodies.</p>\n\n<p><strong>Intraocular Foreign Bodies (IOFBs):</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:616px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p><strong>Definition</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>An IOFB is a foreign object that penetrates the eye and remains lodged inside. It is a serious injury that can result in permanent vision loss.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Common Types of IOFBs</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Metallic (90% of cases): Iron, steel.</li>\n\t\t\t\t<li>Others: Glass, stone, lead pellets, copper, aluminium, plastic, wood.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Foreign Body Reactions</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>Inorganic Materials: </strong>Glass, plastic are inert; lead, aluminium, <span class=\"customMeta\" data-dictid=\"7b5fb2b56416927771858f02fd5508\">copper</span> cause <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> responses.</li>\n\t\t\t\t<li><strong>Organic Materials: </strong>Wood causes <strong>giant cell reactions</strong> and <strong>granulomatous inflammation</strong>.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Diagnosis</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Detailed History: Understand injury mechanism for IOFB type.</li>\n\t\t\t\t<li><strong>Ocular Examination:</strong>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>Slit-lamp examination</li>\n\t\t\t\t\t<li>Gonioscopy</li>\n\t\t\t\t\t<li>Ophthalmoscopy (back of the eye)</li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t\t<li><strong>Signs:</strong>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>Subconjunctival hemorrhage</li>\n\t\t\t\t\t<li>Corneal scars/ <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">Iris</span> holes</li>\n\t\t\t\t\t<li>Opaque tracks in the lens/ IOFB in <span class=\"customMeta\" data-dictid=\"636ccb4336169277720289af6a0778\">vitreous</span> or retina</li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t\t<li><strong>Investigations:</strong>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>X-rays: Less common; CT is preferred. <strong>(Option C)</strong></li>\n\t\t\t\t\t<li>Ultrasonography: B-mode USG locates both <span class=\"customMeta\" data-dictid=\"76584c702f1692777197ee90a74461\">radiopaque</span> and non-radiopaque IOFBs. <strong>(Option A)</strong></li>\n\t\t\t\t\t<li><strong>CT Scan: Investigation of choice/ Gold standard</strong> for detailed cross-sectional images.<strong>(Option B)</strong></li>\n\t\t\t\t\t<li><strong>MRI: Contra-indicated in case of metal foreign bodies (Option D)</strong></li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Treatment</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>IOFB Removal:</strong> Essential except for inert, <span class=\"customMeta\" data-dictid=\"fc3d080799169277719904701c07f9\">sterile</span> IOFBs not affecting vision or if removal is too risky.\n\t\t\t\t<ul>\n\t\t\t\t\t<li>Magnetic IOFBs: Removed using a handheld electromagnet.</li>\n\t\t\t\t\t<li>Non-magnetic IOFBs: Requires specialized procedures.</li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t\t<li><strong>Removal Methods:</strong>\n\t\t\t\t<ul>\n\t\t\t\t\t<li><strong>Anterior Chamber:</strong>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>Corneal incision, avoiding central cornea.</li>\n\t\t\t\t\t\t<li>Magnetic IOFBs: Handheld magnet.</li>\n\t\t\t\t\t\t<li>Non-magnetic IOFBs: Specialized forceps.</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li><strong>Iris: </strong>Sector <span class=\"customMeta\" data-dictid=\"744b697ac31692777190fa2c638b3a\">iridectomy</span> for IOFBs in the iris.</li>\n\t\t\t\t\t<li><strong>Lens:</strong> <span class=\"customMeta\" data-dictid=\"ab0f3917ce1692777187309ec78709\">Extracapsular</span> <span class=\"customMeta\" data-dictid=\"781e6a5a991692777183252720baad\">cataract</span> <span class=\"customMeta\" data-dictid=\"00456bf7d8169277718782edf9fa2c\">extraction</span> <strong>(ECCE)</strong> with or without lens removal.</li>\n\t\t\t\t\t<li><strong>Vitreous and Retina: <span class=\"customMeta\" data-dictid=\"4bc4237fe3169277719497604c0f00\">Pars</span> <span class=\"customMeta\" data-dictid=\"2d0756b0d11692777195ef3bcd110d\">plana</span> vitrectomy</strong></li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Post-Removal Management</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Topical/systemic antibiotics for infection prevention.</li>\n\t\t\t\t<li>Topical corticosteroids to reduce inflammation.</li>\n\t\t\t\t<li>Cycloplegic agents (e.g., atropine) for <span class=\"customMeta\" data-dictid=\"e419fd4e241692777196d038d1b71a\">pupil</span> <span class=\"customMeta\" data-dictid=\"d141b433d2169277718681e3ff6bc3\">dilation</span> and pain relief.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A patient was brought to the outpatient department with a history of trauma near the eye and now presents with symptoms of fever, severe pain, and swelling in the left eye. On examination, no abnormal findings were observed. What is the likely diagnosis?</p>\n\n<p><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"310\" src=\"https://image.prepladder.com/content/ToLJvIVabct4YBQ0ip6n1746102143.png\" width=\"570\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Orbital cellulitis"
      },
      {
        "id": 2,
        "text": "Endophthalmitis"
      },
      {
        "id": 3,
        "text": "Panophthalmitis"
      },
      {
        "id": 4,
        "text": "Preseptal cellulitis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) Preseptal cellulitis</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Symptoms like fever, pain and <span class=\"customMeta\" data-dictid=\"e3d212ebd316927771996e0c472d4a\">swelling</span> limited to the region <strong>anterior to the <span class=\"customMeta\" data-dictid=\"bfe6beb7131692777194500ac5f2d2\">orbital</span> septum</strong> with <strong>no <span class=\"customMeta\" data-dictid=\"458e050fdc16927771809854c9fd53\">abnormal</span> <span class=\"customMeta\" data-dictid=\"7b1f175723169277719459db16938e\">ocular</span> findings</strong> is suggestive of <strong>Preseptal cellulitis</strong>.</p>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"Afrodriguezg\" data-hash=\"\" data-license=\"CC-BY-SA-3.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Celulitis_Periorbitaria_(Preseptal).JPG\" data-tags=\"\" height=\"232\" src=\"https://image.prepladder.com/content/sfV271I8MqXnBx3dwS131746102217.png\" width=\"423\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<p>\u00a0</p>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"Bobjgalindo\" data-hash=\"\" data-license=\"CC BY-SA 4.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Celulitis_ocular_izq.JPG\" data-tags=\"\" height=\"271\" src=\"https://image.prepladder.com/content/k2PGdjWrQ1TouvHBvJNv1746102217.png\" width=\"467\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<p><strong>Orbital cellulitis:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p><strong>Definition</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p>Orbital <span class=\"customMeta\" data-dictid=\"0985f5f6041692777184d2e82e558c\">cellulitis</span> is an <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> infection of the soft tissues of the orbit located behind the <span class=\"customMeta\" data-dictid=\"bfe6beb7131692777194500ac5f2d2\">orbital</span> septum.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Etiology</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Sinusitis: Ethmoid <span class=\"customMeta\" data-dictid=\"3207c2541a1692777198f4af88308b\">sinusitis</span> (most common) carries a high risk of causing <span class=\"customMeta\" data-dictid=\"bfe6beb7131692777194500ac5f2d2\">orbital</span> cellulitis. (Option A)</li>\n\t\t\t\t<li>Underlying <span class=\"customMeta\" data-dictid=\"02cf7655661692777185e2bf5c3254\">dental</span> problem.</li>\n\t\t\t\t<li>Dacryocystitis (inflammation of the <span class=\"customMeta\" data-dictid=\"7a742b06701692777191bdca4f04a0\">lacrimal</span> sac).</li>\n\t\t\t\t<li>Endogenous cause: Septicemia</li>\n\t\t\t\t<li>Exogenous cause: Fracture or surgery of the orbit.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Causative Organisms</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Staphylococcus aureus (most common)</li>\n\t\t\t\t<li>Haemophilus influenzae (most common in children)</li>\n\t\t\t\t<li>Streptococcus pneumoniae</li>\n\t\t\t\t<li>Streptococcus pyogenes</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Clinical Features</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>Preseptal cellulitis:</strong> Fever, pain, swelling, <span class=\"customMeta\" data-dictid=\"169e1c9eb416927772006ea5a02252\">tenderness</span> on the outer <span class=\"customMeta\" data-dictid=\"819ddea9e51692777187cdff06b437\">eyelid</span> region. <strong>(Option D)</strong></li>\n\t\t\t\t<li><strong>Orbital cellulitis: (Option A)</strong>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>Painful, <span class=\"customMeta\" data-dictid=\"92b4dd0d9516927772013f2e4296b7\">unilateral</span> <span class=\"customMeta\" data-dictid=\"4edef7912e1692777196cb0f66e35d\">Proptosis</span> (swelling and severe pain worsened by eye movement or pressure)</li>\n\t\t\t\t\t<li>Restriction of eye movements (due to proptosis)</li>\n\t\t\t\t\t<li>Decreased visual acuity</li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Staging</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Modified Chandler <span class=\"customMeta\" data-dictid=\"8ea2e3870f16927771990a138acbc1\">staging</span> system:</strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li><strong>Stage I: Preseptal cellulitis/ <span class=\"customMeta\" data-dictid=\"5b1b31d3e41692777195670afc94ca\">periorbital</span> cellulitis</strong> (limited <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> to the <span class=\"customMeta\" data-dictid=\"bfe6beb7131692777194500ac5f2d2\">orbital</span> septum) <strong>(Option D)</strong></li>\n\t\t\t\t<li><strong>Stage II:</strong> Inflammatory <span class=\"customMeta\" data-dictid=\"bfe6beb7131692777194500ac5f2d2\">orbital</span> oedema/ <span class=\"customMeta\" data-dictid=\"bfe6beb7131692777194500ac5f2d2\">Orbital</span> <span class=\"customMeta\" data-dictid=\"0985f5f6041692777184d2e82e558c\">cellulitis</span> (Posterior to <span class=\"customMeta\" data-dictid=\"bfe6beb7131692777194500ac5f2d2\">orbital</span> septum)</li>\n\t\t\t\t<li><strong>Stage III:</strong> Subperiosteal abscess</li>\n\t\t\t\t<li><strong>Stage IV: </strong>Orbital abscess</li>\n\t\t\t\t<li><strong>Stage V: </strong>Cavernous <span class=\"customMeta\" data-dictid=\"b0046463171692777198e0beea83e7\">sinus</span> thrombosis</li>\n\t\t\t</ul>\n\n\t\t\t<p>\u00a0</p>\n\n\t\t\t<div style=\"text-align:center\">\n\t\t\t<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"608\" src=\"https://image.prepladder.com/content/W1VCGRAuE5CnTPb9HY5h1746102217.png\" width=\"608\" />\n\t\t\t<figcaption>{{caption_text}}</figcaption>\n\t\t\t</figure>\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Treatment </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Antibiotics (IV): Empirical therapy treats <span class=\"customMeta\" data-dictid=\"bfe6beb7131692777194500ac5f2d2\">orbital</span> <span class=\"customMeta\" data-dictid=\"0985f5f6041692777184d2e82e558c\">cellulitis</span> by giving Ceftazidime, Vancomycin, and Metronidazole.</li>\n\t\t\t\t<li>Monitoring of <span class=\"customMeta\" data-dictid=\"1b9a354cdb1692777194802683234d\">optic</span> nerve function</li>\n\t\t\t\t<li>Surgery: Drainage of an <span class=\"customMeta\" data-dictid=\"bfe6beb7131692777194500ac5f2d2\">orbital</span> <span class=\"customMeta\" data-dictid=\"5618681fbe16927771804370383aaa\">abscess</span> or infected sinuses should be considered if there is a lack of response to antibiotics.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [
      "https://image.prepladder.com/content/ToLJvIVabct4YBQ0ip6n1746102143.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/sfV271I8MqXnBx3dwS131746102217.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A man suffered trauma to the eye from a punch while fighting with another person. What is the most common site of fracture in orbit?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Medial wall"
      },
      {
        "id": 2,
        "text": "Lateral wall"
      },
      {
        "id": 3,
        "text": "Roof"
      },
      {
        "id": 4,
        "text": "Floor"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) Floor</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>Floor is the weakest wal</strong>l of orbit due to the presence of Inferior <span class=\"customMeta\" data-dictid=\"bfe6beb7131692777194500ac5f2d2\">orbital</span> <span class=\"customMeta\" data-dictid=\"b2af124a931692777203c9f8031b77\">fissure</span> (although <span class=\"customMeta\" data-dictid=\"db46007ad21692777192dcc160a2e2\">medial</span> wall of the orbit is the thinnest wall). Trauma to the orbit can result in <span class=\"customMeta\" data-dictid=\"e3727bc4841692777203d62242b6e6\">fracture</span> of the floor of the orbit - known as \u2018<strong>Blowout fracture</strong>\u2019</p>\n\n<p><strong>Blow-out fracture:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:613px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p><strong>Description</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Blow-out <span class=\"customMeta\" data-dictid=\"bfe6beb7131692777194500ac5f2d2\">orbital</span> fractures result from trauma causing backward <span class=\"customMeta\" data-dictid=\"5a50cd774d1692777186c56ec68eac\">displacement</span> of the <span class=\"customMeta\" data-dictid=\"53c6bebcbb169277718777b3fe0e5c\">eyeball</span> and an increase in <span class=\"customMeta\" data-dictid=\"537708a987169277719097ee31f0eb\">intraorbital</span> pressure, leading to a resultant fracture.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Classification</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Pure blow-out fractures: Not associated with involvement of the <span class=\"customMeta\" data-dictid=\"bfe6beb7131692777194500ac5f2d2\">orbital</span> rim.</li>\n\t\t\t\t<li>Impure blow-out fractures: Associated with other fractures in the middle third of the <span class=\"customMeta\" data-dictid=\"9fdd7489051692777202cffe3f24cc\">facial</span> skeleton.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Clinical Features</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>Periorbital oedema</strong> and blood <span class=\"customMeta\" data-dictid=\"f0c6fefae41692777187c76a6f65f6\">extravasation</span> (e.g., <strong>subconjunctival ecchymosis</strong>)</li>\n\t\t\t\t<li>Emphysema of the eyelids, more common with <span class=\"customMeta\" data-dictid=\"db46007ad21692777192dcc160a2e2\">medial</span> wall fractures</li>\n\t\t\t\t<li><strong>Paraesthesia</strong> and anaesthesia in the distribution of the <strong>infraorbital nerve</strong> (lower lid, cheek, side of nose, upper lip, and upper teeth)</li>\n\t\t\t\t<li>Ipsilateral <span class=\"customMeta\" data-dictid=\"26bb4e3cc81692777187ce44e530e5\">epistaxis</span> (bleeding from maxillary sinus)</li>\n\t\t\t\t<li>Proptosis, often due to <span class=\"customMeta\" data-dictid=\"bfe6beb7131692777194500ac5f2d2\">orbital</span> oedema and haemorrhage</li>\n\t\t\t\t<li><strong>Enophthalmos</strong> (due to <span class=\"customMeta\" data-dictid=\"bfe6beb7131692777194500ac5f2d2\">orbital</span> fat escape, muscle entrapment, and <span class=\"customMeta\" data-dictid=\"ddba4206eb169277718335596e86da\">cavity</span> enlargement)</li>\n\t\t\t\t<li><strong>Diplopia</strong></li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Radiography</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>X-ray:</strong> <strong>Water\u2019s view</strong> shows <strong>\u2018hanging drop\u2019 opacity</strong> of the superior maxillary <span class=\"customMeta\" data-dictid=\"96976bc5fc1692777181dc8403015a\">antrum</span> due to <span class=\"customMeta\" data-dictid=\"18b73c28601692777188f2aae28838\">herniated</span> <span class=\"customMeta\" data-dictid=\"bfe6beb7131692777194500ac5f2d2\">orbital</span> contents.</li>\n\t\t\t</ul>\n\n\t\t\t<figure class=\"caption_element\"><img alt=\"\" data-author=\"Cobb, A. R., Murthy, R., Saiet, J., Bailey, B., & Hibbert, J.\" data-hash=\"\" data-license=\"NA\" data-source=\"https://www.sciencedirect.com/science/article/abs/pii/S0266435608000417\" data-tags=\"\" height=\"700\" src=\"https://image.prepladder.com/content/KfEeenANj7pzWGGYg0Lt1746102794.png\" width=\"570\" />\n\t\t\t<figcaption>{{caption_text}}</figcaption>\n\t\t\t</figure>\n\n\t\t\t<ul>\n\t\t\t\t<li><strong>CT/MRI: </strong>Coronal sections show extent of the <span class=\"customMeta\" data-dictid=\"e3727bc4841692777203d62242b6e6\">fracture</span> and herniation- <strong>hanging drop or tear drop sign</strong></li>\n\t\t\t</ul>\n\n\t\t\t<figure class=\"caption_element\"><img alt=\"\" data-author=\"Gooris, Peter & Mourits, Maarten & Mensink, Gertjan & Bergsma, Jan.\" data-hash=\"\" data-license=\"CC BY 4.0\" data-source=\"https://www.researchgate.net/figure/Teardrop-sign-as-a-result-of-an-orbital-floor-trapdoor-fracture-OS-coronal-view_fig4_376932263\" data-tags=\"\" height=\"209\" src=\"https://image.prepladder.com/content/tcmz0bU5JWmR8V7A6zJh1746102794.png\" width=\"248\" />\n\t\t\t<figcaption>{{caption_text}}</figcaption>\n\t\t\t</figure>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Management</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>General Measures and Medical Treatment:</strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Avoid nose blowing</li>\n\t\t\t\t<li>Systemic antibiotics to prevent <span class=\"customMeta\" data-dictid=\"b0046463171692777198e0beea83e7\">sinus</span> infection</li>\n\t\t\t\t<li>Analgesics and anti-inflammatory drugs</li>\n\t\t\t\t<li>Cold compresses to decrease swelling</li>\n\t\t\t</ul>\n\n\t\t\t<p><strong>Surgical Management:</strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Optimal surgery time: <strong>10-14 days after injury</strong></li>\n\t\t\t\t<li>Surgical indications: Persistent diplopia, large herniation, tissue incarceration, <span class=\"customMeta\" data-dictid=\"1f51f462bc1692777187ffc9d3094b\">enophthalmos</span> >3mm</li>\n\t\t\t</ul>\n\n\t\t\t<p><strong>Orbital Surgeries:</strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Orbitotomy: 4 approaches: anterior, lateral, transfrontal, and temporofrontal</li>\n\t\t\t\t<li>Exenteration: Removal of all <span class=\"customMeta\" data-dictid=\"bfe6beb7131692777194500ac5f2d2\">orbital</span> contents and <span class=\"customMeta\" data-dictid=\"cd7fce2afd1692777195bc79cdc10b\">periorbita</span> through an <span class=\"customMeta\" data-dictid=\"2afbd932801692777190be690704b3\">incision</span> along <span class=\"customMeta\" data-dictid=\"bfe6beb7131692777194500ac5f2d2\">orbital</span> margins.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/KfEeenANj7pzWGGYg0Lt1746102794.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Can you determine the observation indicated by the arrow in the image provided?</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"Klaeger, Andres & Herbort, Carl.\" data-hash=\"\" data-license=\"NA\" data-source=\"https://www.researchgate.net/figure/Right-and-left-anterior-segment-after-the-anterior-uveitis-started-in-the-left-eye-A_fig2_23317095\" data-tags=\"\" height=\"186\" src=\"https://image.prepladder.com/content/akGOZQXWmBl2kHXArw2R1745576669.png\" width=\"500\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Vossius ring"
      },
      {
        "id": 2,
        "text": "Weiss ring"
      },
      {
        "id": 3,
        "text": "Fleischer\u2019s ring"
      },
      {
        "id": 4,
        "text": "Kayser Fleischer ring"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) Vossius ring</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The given image is suggestive of <strong>Vossius ring</strong>, a condition that is typically detected during an ophthalmological examination following a <strong>blunt trauma to the eye</strong>. The Vossius ring itself is identified by the presence of <span class=\"customMeta\" data-dictid=\"05e2e2617c16927771952bcbeea08b\">pigment</span> <span class=\"customMeta\" data-dictid=\"aff8304142169277718661b3b8980a\">dispersion</span> in a <span class=\"customMeta\" data-dictid=\"0919f0017e1692777184ac3748841f\">circular</span> shape on the <strong>anterior surface of the lens</strong> following <span class=\"customMeta\" data-dictid=\"324b1bfa7816927771834f9e3f6704\">blunt</span> trauma to the eye.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"Klaeger, Andres & Herbort, Carl.\" data-hash=\"\" data-license=\"NA\" data-source=\"https://www.researchgate.net/figure/Right-and-left-anterior-segment-after-the-anterior-uveitis-started-in-the-left-eye-A_fig2_23317095\" data-tags=\"\" height=\"191\" src=\"https://image.prepladder.com/content/m6dmNlgB5fjrgOxgNmiG1745576714.png\" width=\"514\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<p>\u00a0</p>\n\n<p><strong>Blunt trauma to the eye:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:633px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p><strong>Damage Mechanisms</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Direct Impact: Greatest damage at impact site.</li>\n\t\t\t\t<li>Compression Wave Force: Distant damage (\"contrecoup\").</li>\n\t\t\t\t<li>Indirect Force: Damage from impact against <span class=\"customMeta\" data-dictid=\"bfe6beb7131692777194500ac5f2d2\">orbital</span> walls.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Specific Injuries</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Cornea:<strong> Descemet's <span class=\"customMeta\" data-dictid=\"34cd707428169277719272942b7905\">membrane</span> tears</strong></li>\n\t\t\t\t<li>Conjunctiva: Subconjunctival haemorrhage</li>\n\t\t\t\t<li>Anterior Chamber: <strong>Hyphema (most common sign)</strong>, exudates.</li>\n\t\t\t\t<li>Iris, Pupil, Ciliary Body: Iridodialysis,Iridodonesis.</li>\n\t\t\t\t<li>Lens: <strong>Rosette shaped cataract</strong>, <span class=\"customMeta\" data-dictid=\"90d1792ffd1692777186055806b5ce\">ectopia</span> lentis, <strong>Vossius ring</strong></li>\n\t\t\t\t<li>Vitreous: Liquefaction, opacities, detachment.</li>\n\t\t\t\t<li>Choroid: <strong>choroidal rupture(bucket handle type)</strong></li>\n\t\t\t\t<li>Retina: <strong>Commotio retinae</strong>, <strong>Rhegmatogenous <span class=\"customMeta\" data-dictid=\"fb7a2c30e416927771972f7df6f8c0\">retinal</span> detachment</strong>, <strong>Gray white <span class=\"customMeta\" data-dictid=\"f17d8978bd1692777197621051012f\">retina</span> due to Berlin's edema.</strong></li>\n\t\t\t\t<li>Intraocular Pressure: <strong>Traumatic glaucoma</strong>, hypotony, <strong>ghost cell glaucoma</strong>, <span class=\"customMeta\" data-dictid=\"a6d54c652f16927771820dfa93b368\">angle recession</span> glaucoma</li>\n\t\t\t\t<li><strong>Traumatic <span class=\"customMeta\" data-dictid=\"1b9a354cdb1692777194802683234d\">optic</span> neuropathy-RAPD </strong>(relative <span class=\"customMeta\" data-dictid=\"4dd3bdfe1d1692777180deb3103555\">afferent</span> pupillary defect)</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Weiss Ring (Option B): </strong>This is an opacified ring-shaped structure that can be seen floating within the <strong>vitreous humor</strong> of the eye, often signifying a <strong>posterior <span class=\"customMeta\" data-dictid=\"636ccb4336169277720289af6a0778\">vitreous</span> detachment</strong>, a condition in which the <span class=\"customMeta\" data-dictid=\"636ccb4336169277720289af6a0778\">vitreous</span> <span class=\"customMeta\" data-dictid=\"b0bdc3a1d416927771884d50c944ec\">gel</span> separates from the retina.</p>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"Weiss ring\" data-author=\"Batistic, Darko & Kreso, Ante & Vrdoljak, Josip & Batistic, Jaksa & Paladin, Ivan & Mizdrak, Ivan & Glumac, Sandro\" data-hash=\"12614\" data-license=\"NA\" data-source=\"https://www.researchgate.net/figure/Wide-field-fundus-photography-Peripheral-retinal-tear-white-arrows-Weiss-ring-sign_fig1_381773943\" data-tags=\"May2025\" height=\"275\" src=\"https://image.prepladder.com/notes/jpxti7CquUIKttJMNVB71747058528.png\" width=\"478\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<p>\u00a0</p>\n\n<p><strong>Fleischer's Ring (Option C): </strong>This refers to a pigmented, <span class=\"customMeta\" data-dictid=\"0919f0017e1692777184ac3748841f\">circular</span> line found at the edge of the <span class=\"customMeta\" data-dictid=\"4cc4d657841692777185555e1b982d\">cornea</span> in <strong>keratoconus</strong> patients due to <strong>iron deposition</strong> in the corneal <strong>epithelial layer</strong>. It's composed of iron deposits and signifies corneal thinning and protrusion.</p>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"Kang, Tae & Lee, Jong & Choi, Si.\" data-hash=\"\" data-license=\"CC BY NC 4.0\" data-source=\"https://www.researchgate.net/figure/Fleischers-ring-A-The-round-corneal-iron-line-is-identified-at-the-conical-base-of_fig3_304027779\" data-tags=\"\" height=\"237\" src=\"https://image.prepladder.com/content/oDOWNYmcv0SSJqhWRPge1745576714.png\" width=\"271\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<p>\u00a0</p>\n\n<p><strong>Kayser-Fleischer Ring (Option D): </strong>This is a brown-colored ring found at the <span class=\"customMeta\" data-dictid=\"316866040e1692777195f45393e010\">periphery</span> of the cornea, most commonly seen in patients with <strong>Wilson's disease</strong>, a rare genetic disorder leading to excessive <span class=\"customMeta\" data-dictid=\"7b5fb2b56416927771858f02fd5508\">copper</span> deposition in the body.</p>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"Herbert L. Fred, MD, Hendrik A. van Dijk\" data-hash=\"\" data-license=\"CC BY 3.0\" data-source=\"Kayser-Fleischer ring - Kayser\u2013Fleischer ring - Wikipedia\" data-tags=\"\" height=\"225\" src=\"https://image.prepladder.com/content/Yq2kq0Ffz8ztP5FvuJsn1745576714.png\" width=\"336\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>",
    "question_images": [
      "https://image.prepladder.com/content/akGOZQXWmBl2kHXArw2R1745576669.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/m6dmNlgB5fjrgOxgNmiG1745576714.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>An industrial worker was admitted to the hospital after an eye injury sustained while cutting stone with a hammer and iron chisel. A foreign body was suspected to be impacted in his eye. Which investigation can be detrimental to this patient?</p>",
    "choices": [
      {
        "id": 1,
        "text": "B mode scan"
      },
      {
        "id": 2,
        "text": "CT"
      },
      {
        "id": 3,
        "text": "X-ray"
      },
      {
        "id": 4,
        "text": "MRI"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer D - MRI</strong></p>\n\n<ul>\n\t<li><strong>MRI is contraindicated</strong> in cases where there is a risk of <strong>metallic foreign bodies</strong>, such as in this industrial worker with a suspected foreign body in the eye. The <strong>strong magnetic field</strong> of an <span class=\"customMeta\" data-dictid=\"7ce7bcb2f316927771938e0bea7f4d\">MRI</span> can cause movement or <strong>displacement</strong> of the <span class=\"customMeta\" data-dictid=\"84433cae211692777192a484f539bc\">metallic</span> object, potentially leading to further injury or damage to the eye.</li>\n</ul>\n\n<p><strong>Intraocular Foreign Bodies (IOFBs):</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p><strong>Definition</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>An IOFB is a foreign object that penetrates the eye and remains lodged inside. It is a serious injury that can result in permanent vision loss.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Common Types of IOFBs</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Metallic (90% of cases): Iron, steel.</li>\n\t\t\t\t<li>Others: Glass, stone, lead pellets, copper, aluminium, plastic, wood.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Foreign Body Reactions</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>Inorganic Materials: </strong>Glass, plastic are inert; lead, aluminium, <span class=\"customMeta\" data-dictid=\"7b5fb2b56416927771858f02fd5508\">copper</span> cause <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> responses.</li>\n\t\t\t\t<li><strong>Organic Materials: </strong>Wood causes <strong>giant cell reactions</strong> and <strong>granulomatous inflammation</strong>.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Diagnosis</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Detailed History: Understand injury mechanism for IOFB type.</li>\n\t\t\t\t<li><strong>Ocular Examination:</strong>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>Slit-lamp examination</li>\n\t\t\t\t\t<li>Gonioscopy</li>\n\t\t\t\t\t<li>Ophthalmoscopy (back of the eye)</li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t\t<li><strong>Signs:</strong>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>Subconjunctival hemorrhage</li>\n\t\t\t\t\t<li>Corneal scars/ <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">Iris</span> holes</li>\n\t\t\t\t\t<li>Opaque tracks in the lens/ IOFB in <span class=\"customMeta\" data-dictid=\"636ccb4336169277720289af6a0778\">vitreous</span> or retina</li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t\t<li><strong>Investigations:</strong>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>X-rays: Less common; CT is preferred.</li>\n\t\t\t\t\t<li>Ultrasonography: B-mode USG locates both <span class=\"customMeta\" data-dictid=\"76584c702f1692777197ee90a74461\">radiopaque</span> and non-radiopaque IOFBs.</li>\n\t\t\t\t\t<li><strong>CT Scan:</strong> <strong> Investigation of choice/ Gold standard</strong> for detailed cross-sectional images.</li>\n\t\t\t\t\t<li><strong>MRI: Contra-indicated in case of metal foreign bodies (Option D)</strong></li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Treatment</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>IOFB Removal: Essential except for inert, <span class=\"customMeta\" data-dictid=\"fc3d080799169277719904701c07f9\">sterile</span> IOFBs not affecting vision or if removal is too risky.\n\t\t\t\t<ul>\n\t\t\t\t\t<li>Magnetic IOFBs: Removed using a handheld electromagnet.</li>\n\t\t\t\t\t<li>Non-magnetic IOFBs: Requires specialized procedures.</li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t\t<li><strong>Removal Methods:</strong>\n\t\t\t\t<ul>\n\t\t\t\t\t<li><strong>Anterior Chamber:</strong>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>Corneal incision, avoiding central cornea.</li>\n\t\t\t\t\t\t<li>Magnetic IOFBs: Handheld magnet.</li>\n\t\t\t\t\t\t<li>Non-magnetic IOFBs: Specialized forceps.</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li><strong>Iris: </strong>Sector <span class=\"customMeta\" data-dictid=\"744b697ac31692777190fa2c638b3a\">iridectomy</span> for IOFBs in the iris.</li>\n\t\t\t\t\t<li><strong>Lens:</strong> <span class=\"customMeta\" data-dictid=\"ab0f3917ce1692777187309ec78709\">Extracapsular</span> <span class=\"customMeta\" data-dictid=\"781e6a5a991692777183252720baad\">cataract</span> <span class=\"customMeta\" data-dictid=\"00456bf7d8169277718782edf9fa2c\">extraction</span> <strong>(ECCE)</strong> with or without lens removal.</li>\n\t\t\t\t\t<li><strong>Vitreous and Retina: <span class=\"customMeta\" data-dictid=\"4bc4237fe3169277719497604c0f00\">Pars</span> <span class=\"customMeta\" data-dictid=\"2d0756b0d11692777195ef3bcd110d\">plana</span> vitrectomy</strong></li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Post-Removal Management</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Topical/systemic antibiotics for infection prevention.</li>\n\t\t\t\t<li>Topical corticosteroids to reduce inflammation.</li>\n\t\t\t\t<li>Cycloplegic agents (e.g., atropine) for <span class=\"customMeta\" data-dictid=\"e419fd4e241692777196d038d1b71a\">pupil</span> <span class=\"customMeta\" data-dictid=\"d141b433d2169277718681e3ff6bc3\">dilation</span> and pain relief.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What is the probable cause of bleeding in a patient who experienced a hyphema after being struck in the eye by a tennis ball?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Circulus arteriosus major"
      },
      {
        "id": 2,
        "text": "Anterior ciliary artery"
      },
      {
        "id": 3,
        "text": "Posterior ciliary artery"
      },
      {
        "id": 4,
        "text": "Circulus arteriosus minor"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Option B - <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">Anterior</span> <span class=\"customMeta\" data-dictid=\"1be9f55b2d1692777184b9d813b17e\">ciliary</span> artery</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>In the case of a patient who sustains an eye injury from a tennis ball and develops <strong>hyphema (bleeding in the <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> chamber of the eye)</strong>, the likely source of <span class=\"customMeta\" data-dictid=\"41e858bf2816927771836d46c619b9\">bleeding</span> is the <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> <span class=\"customMeta\" data-dictid=\"1be9f55b2d1692777184b9d813b17e\">ciliary</span> artery.</li>\n\t<li>Anterior <span class=\"customMeta\" data-dictid=\"1be9f55b2d1692777184b9d813b17e\">ciliary</span> arteries are branches of the <span class=\"customMeta\" data-dictid=\"c09776e61f1692777194db295c590f\">ophthalmic</span> <span class=\"customMeta\" data-dictid=\"a66cd3adaa1692777182e77cb23021\">artery</span> that supply blood to the <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> segment of the eye, including the conjunctiva, sclera, and iris. These arteries can be injured in cases of trauma to the eye.</li>\n</ul>\n\n<p><strong>Blood Supply of the Eye:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Structure</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Arterial Supply</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Cornea</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Avascular</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Conjunctiva</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Anterior <span class=\"customMeta\" data-dictid=\"1be9f55b2d1692777184b9d813b17e\">ciliary</span> arteries, branches of <span class=\"customMeta\" data-dictid=\"c09776e61f1692777194db295c590f\">ophthalmic</span> artery</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Sclera</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Posterior <span class=\"customMeta\" data-dictid=\"1be9f55b2d1692777184b9d813b17e\">ciliary</span> arteries (short and long branches) (Option C)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Iris</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Major <span class=\"customMeta\" data-dictid=\"7e753993b1169277718285a7ef80d6\">arterial circle</span> of the <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">iris</span> (circulus arteriosus major) (Option A) </strong>formed by <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> <span class=\"customMeta\" data-dictid=\"1be9f55b2d1692777184b9d813b17e\">ciliary</span> and long <span class=\"customMeta\" data-dictid=\"a5c6cb079d16927771967e62ffee72\">posterior</span> <span class=\"customMeta\" data-dictid=\"1be9f55b2d1692777184b9d813b17e\">ciliary</span> arteries</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Ciliary Body</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Anterior <span class=\"customMeta\" data-dictid=\"1be9f55b2d1692777184b9d813b17e\">ciliary</span> arteries</strong> and long <span class=\"customMeta\" data-dictid=\"a5c6cb079d16927771967e62ffee72\">posterior</span> <span class=\"customMeta\" data-dictid=\"1be9f55b2d1692777184b9d813b17e\">ciliary</span> arteries</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Choroid</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Short <span class=\"customMeta\" data-dictid=\"a5c6cb079d16927771967e62ffee72\">posterior</span> <span class=\"customMeta\" data-dictid=\"1be9f55b2d1692777184b9d813b17e\">ciliary</span> arteries</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Retina </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Central <span class=\"customMeta\" data-dictid=\"fb7a2c30e416927771972f7df6f8c0\">retinal</span> artery</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Lens</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Avascular</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Extraocular Muscles</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Muscular branches of the <span class=\"customMeta\" data-dictid=\"c09776e61f1692777194db295c590f\">ophthalmic</span> <span class=\"customMeta\" data-dictid=\"a66cd3adaa1692777182e77cb23021\">artery</span> (including <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> <span class=\"customMeta\" data-dictid=\"1be9f55b2d1692777184b9d813b17e\">ciliary</span> arteries)</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Eyelids</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Ophthalmic <span class=\"customMeta\" data-dictid=\"a66cd3adaa1692777182e77cb23021\">artery</span> (superior and <span class=\"customMeta\" data-dictid=\"49c4ef5b9d1692777190c0277f8344\">inferior</span> palpebral branches), <span class=\"customMeta\" data-dictid=\"9fdd7489051692777202cffe3f24cc\">facial</span> artery</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Lacrimal Gland</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Lacrimal artery</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Circulus arteriosus minor (Option D)</strong> There is no <span class=\"customMeta\" data-dictid=\"116f86834a1692777181a914379270\">anatomical</span> structure known as the <span class=\"customMeta\" data-dictid=\"2e84e8d09e1692777184e15d35dead\">circulus</span> arteriosus minor. It is an incorrect option.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A patient presents to the emergency and his ocular examination reveals the following. Which of the following is not done initially?</p>\n\n<p><img src=\"https://image.prepladder.com/content/oRqejTZ9F7hWSdguXjrL1715662553.png\" style=\"height:500px; width:500px\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Removal of the foreign body"
      },
      {
        "id": 2,
        "text": "Check for visual acuity"
      },
      {
        "id": 3,
        "text": "Slit lamp examination"
      },
      {
        "id": 4,
        "text": "Do primary survey"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A - Removal of the foreign body:</strong></p>\n\n<ul>\n\t<li>Removal of the foreign body: This is not done initially, especially in cases of <span class=\"customMeta\" data-dictid=\"55b31d659b16927771958a15837b10\">penetrating</span> injuries. The foreign body should be left in place until the patient is taken to an appropriate medical facility with the necessary equipment and expertise to handle such cases.</li>\n\t<li>Removal of the <span class=\"customMeta\" data-dictid=\"55b31d659b16927771958a15837b10\">penetrating</span> foreign body can result in the <span class=\"customMeta\" data-dictid=\"dd824a31e71692777186c7f8168998\">drainage</span> of the <span class=\"customMeta\" data-dictid=\"0f0067663b16927771818fe253b3b9\">aqueous</span> humor.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p>Options B, C, and D are incorrect. These the primary test done initially for checking the degree of damage.</p>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/content/oRqejTZ9F7hWSdguXjrL1715662553.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  }
];
        let quizName = '24 Previous Year Questions';
        let hierarchy = ["PrepLadder", "qBank", "Ophthalmology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>