<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>01  Abdominal Wall  Mysentry Inguinal - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        DAMS / DQB / Anatomy
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">35</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "id": 50000,
    "choices": [
      {
        "id": 200000,
        "text": "Superior epigastric vessels"
      },
      {
        "id": 200001,
        "text": "Rectus abdominis"
      },
      {
        "id": 200002,
        "text": "Pyramidalis muscle"
      },
      {
        "id": 200003,
        "text": "Transversus Abdominis muscle"
      }
    ],
    "text": "NOT a content of rectus sheath :",
    "unique_key": "Q7610794",
    "question_audio": null,
    "question_video": null,
    "map_id": 34442747,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (D) Transversus Abdominis muscle. Explanation for the Correct Answer: D. Transversus Abdominis muscle: The transversus abdominis muscle is not a content of the rectus sheath. While it contributes to the formation of the anterior and posterior walls of the sheath, the muscle itself does not lie within it. The muscle is located deep to the rectus abdominis muscle and its tendinous aponeurosis forms part of the posterior wall of the rectus sheath, but it is not a direct content of the sheath. Explanation for Incorrect Answers: A. Superior epigastric vessels: The superior epigastric vessels are a major blood supply to the upper part of the rectus abdominis muscle, and they pass within the rectus sheath. These vessels are an essential content of the sheath. B. Rectus abdominis: The rectus abdominis muscle is one of the primary contents of the rectus sheath. It is enclosed within the sheath and is one of the muscles that contribute to the anterior abdominal wall. C. Pyramidalis muscle: The pyramidalis muscle is a small muscle located in the lower part of the rectus sheath. It is situated anterior to the rectus abdominis and is considered one of the contents of the sheath, although it is not always present in all individuals.",
    "correct_choice_id": 200003,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/13759931697972679/13759931697972679.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/13759931697972679/13759931697972679.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50001,
    "choices": [
      {
        "id": 200004,
        "text": "External and internal oblique aponeurosis."
      },
      {
        "id": 200005,
        "text": "External, internal oblique and transverse abdominis aponeurosis"
      },
      {
        "id": 200006,
        "text": "Internal oblique and transverse abdominis aponeurosis"
      },
      {
        "id": 200007,
        "text": "Internal oblique, transverse abdominis aponeurosis and tranversalis fascia"
      }
    ],
    "text": "Rectus sheath is formed by:",
    "unique_key": "Q1362738",
    "question_audio": null,
    "question_video": null,
    "map_id": 34474115,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) External, internal oblique and transverse abdominis aponeurosis. Explanation for the Correct Answer: B. External, internal oblique and transverse abdominis aponeurosis: The rectus sheath is formed by the aponeuroses (flat tendon-like structures) of the external oblique, internal oblique, and transverse abdominis muscles. These aponeuroses encase the rectus abdominis muscle and provide structural support. Specifically: The external oblique aponeurosis forms the anterior part of the rectus sheath. The internal oblique aponeurosis contributes to both the anterior and posterior layers of the rectus sheath depending on the region. The transverse abdominis aponeurosis primarily forms the posterior part of the rectus sheath in the lower region. Explanation for Incorrect Answers: A. External and internal oblique aponeurosis: While the external and internal oblique aponeuroses contribute to the formation of the rectus sheath, this option is incomplete because it does not include the transverse abdominis aponeurosis, which is also a key contributor to the sheath. C. Internal oblique and transverse abdominis aponeurosis: This answer is incorrect because it omits the external oblique aponeurosis, which also plays a significant role in forming the rectus sheath. D. Internal oblique, transverse abdominis aponeurosis and transversalis fascia: Although the transversalis fascia lies underneath the rectus sheath and plays a role in the integrity of the abdominal wall, it is not directly involved in forming the rectus sheath. The sheath is primarily composed of the aponeuroses of the external, internal oblique, and transverse abdominis muscles.",
    "correct_choice_id": 200005,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/20066581697972764/20066581697972764.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/20066581697972764/20066581697972764.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50002,
    "choices": [
      {
        "id": 200008,
        "text": "Suspensory ligament of ovary"
      },
      {
        "id": 200009,
        "text": "Mesosalpinx"
      },
      {
        "id": 200010,
        "text": "Mesoovarium"
      },
      {
        "id": 200011,
        "text": "Round ligament of uterus"
      }
    ],
    "text": "Deep inguinal ring contain \u2013",
    "unique_key": "Q9015238",
    "question_audio": null,
    "question_video": null,
    "map_id": 34666154,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (D) Round ligament of uterus. Explanation for the Correct Answer: D. Round ligament of uterus: The deep inguinal ring is an opening in the transversalis fascia located in the lower abdomen. The round ligament of the uterus passes through this ring as it travels toward the labia majora. This ligament helps maintain the anteversion of the uterus and is one of the key structures passing through the deep inguinal ring, making option D the correct answer. Explanation for Incorrect Answers: A. Suspensory ligament of ovary: The suspensory ligament of the ovary is a fold of peritoneum that connects the ovary to the lateral pelvic wall. It does not pass through the deep inguinal ring; rather, it attaches the ovary to the pelvic wall and contains vessels and nerves supplying the ovary. B. Mesosalpinx: The mesosalpinx is part of the broad ligament of the uterus and supports the fallopian tubes. It does not pass through the deep inguinal ring but is located within the pelvis. C. Mesoovarium: The mesoovarium is the portion of the broad ligament that supports the ovary. Like the mesosalpinx, it does not pass through the deep inguinal ring; rather, it is found within the pelvic cavity, supporting the ovary.",
    "correct_choice_id": 200011,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/40163471697973014/40163471697973014.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/40163471697973014/40163471697973014.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50003,
    "choices": [
      {
        "id": 200012,
        "text": "Continues as inferior rectal artery"
      },
      {
        "id": 200013,
        "text": "Takes part in formation of marginal artery"
      },
      {
        "id": 200014,
        "text": "Arises from coeliac trunk"
      },
      {
        "id": 200015,
        "text": "Supplies mid gut"
      }
    ],
    "text": "True about inferior mesentric artery-",
    "unique_key": "Q1544632",
    "question_audio": null,
    "question_video": null,
    "map_id": 34293182,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Takes part in formation of marginal artery. Explanation for the Correct Answer: B. Takes part in formation of marginal artery: The inferior mesenteric artery (IMA) contributes to the marginal artery, also known as Drummond's artery. This artery is formed by anastomoses between the terminal branches of the superior mesenteric artery (SMA) and the inferior mesenteric artery along the inner border of the colon. The marginal artery helps provide collateral circulation to the colon. Explanation for Incorrect Answers: A. Continues as inferior rectal artery: The inferior mesenteric artery does not continue as the inferior rectal artery. The inferior rectal artery actually arises from the internal pudendal artery, which is a branch of the internal iliac artery, not the IMA. Therefore, A is incorrect. C. Arises from coeliac trunk: The inferior mesenteric artery arises from the abdominal aorta, not from the coeliac trunk. The coeliac trunk gives rise to the left gastric artery, splenic artery, and common hepatic artery, while the IMA is a separate vessel originating from the aorta, usually at the level of the L3 vertebra. Hence, C is incorrect. D. Supplies mid gut: The inferior mesenteric artery primarily supplies the hindgut (which includes the distal third of the transverse colon, descending colon, sigmoid colon, and rectum), not the midgut. The midgut is supplied by the superior mesenteric artery. Therefore, D is incorrect.",
    "correct_choice_id": 200013,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/57387261697973090/57387261697973090.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/57387261697973090/57387261697973090.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50004,
    "choices": [
      {
        "id": 200016,
        "text": "Abdominal aorta"
      },
      {
        "id": 200017,
        "text": "Left renal vein"
      },
      {
        "id": 200018,
        "text": "Urinary bladder"
      },
      {
        "id": 200019,
        "text": "Spinal cord"
      }
    ],
    "text": "If a missile enters the body just above the pubic ramus through the anterior adominal wall it will most likely pierce which of the following structures-",
    "unique_key": "Q6555883",
    "question_audio": null,
    "question_video": null,
    "map_id": 34320345,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) Urinary bladder. Explanation for the Correct Answer: C. Urinary bladder: If a missile enters the body just above the pubic ramus through the anterior abdominal wall, it is likely to pierce the urinary bladder. The bladder is located in the pelvic cavity, just posterior to the pubic symphysis, and the pubic ramus is in close proximity to the bladder. Any penetrating injury in this region could easily damage the bladder, especially if it is full. Therefore, C is the most likely answer. Explanation for Incorrect Answers: A. Abdominal aorta: The abdominal aorta lies much higher up in the abdomen, typically at the level of L1 vertebra and above, well above the pubic ramus. A missile entering the body just above the pubic ramus would not directly affect the abdominal aorta, so A is not the correct answer. B. Left renal vein: The left renal vein is located in the retroperitoneum, crossing the midline at a level higher than the pubic ramus. The left renal vein is posterior and lateral to the body of the bladder and is not likely to be injured by a missile entering the anterior abdominal wall above the pubic ramus. Hence, B is incorrect. D. Spinal cord: The spinal cord is located in the vertebral column, well above the level of the pubic ramus, typically at the level of the T1 to L2 vertebrae. A missile entering the body through the anterior abdominal wall above the pubic ramus would not likely reach the spinal cord, as it would have to penetrate through multiple structures and bones. Therefore, D is not the correct answer.",
    "correct_choice_id": 200018,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/252851697973106/252851697973106.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/252851697973106/252851697973106.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50005,
    "choices": [
      {
        "id": 200020,
        "text": "10th thoracic ventral ramus"
      },
      {
        "id": 200021,
        "text": "11th thoracic ventral ramus"
      },
      {
        "id": 200022,
        "text": "Subcostal nerve"
      },
      {
        "id": 200023,
        "text": "Iliohypogastric nerve"
      }
    ],
    "text": "What is the nerve supply to the skin around the umbilicus",
    "unique_key": "Q7536375",
    "question_audio": null,
    "question_video": null,
    "map_id": 34198581,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) 10th thoracic ventral ramus. Explanation for the Correct Answer: A. 10th thoracic ventral ramus: The 10th thoracic ventral ramus provides sensory innervation to the skin around the umbilicus. The dermatome of the umbilicus typically corresponds to the T10 level, and it is mainly supplied by the 10th thoracic nerve. Therefore, A is the correct answer. Explanation for Incorrect Answers: B. 11th thoracic ventral ramus: The 11th thoracic ventral ramus supplies the skin and muscles in the lower part of the thorax and upper abdomen, but it does not directly supply the area around the umbilicus. The 11th thoracic dermatome is located slightly lower than T10, making B incorrect. C. Subcostal nerve: The subcostal nerve (T12) innervates the skin of the lower part of the abdomen just above the pubic region and along the lower ribs, but not directly around the umbilicus. Therefore, C is not correct. D. Iliohypogastric nerve: The iliohypogastric nerve (L1) supplies the lower part of the abdomen, typically below the umbilicus, including the area around the inguinal region, but it does not provide the main sensory innervation to the skin around the umbilicus. Thus,",
    "correct_choice_id": 200020,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/67198861697973138/67198861697973138.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/67198861697973138/67198861697973138.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50006,
    "choices": [
      {
        "id": 200024,
        "text": "L3"
      },
      {
        "id": 200025,
        "text": "L4"
      },
      {
        "id": 200026,
        "text": "S1"
      },
      {
        "id": 200027,
        "text": "S2"
      }
    ],
    "text": "Post Superior iliac spine lies at the level of -",
    "unique_key": "Q7570250",
    "question_audio": null,
    "question_video": null,
    "map_id": 34937561,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (D) S2. Explanation for the Correct Answer: D. S2: The posterior superior iliac spine (PSIS) is located at the level of the S2 vertebra. It can be palpated on the back and is an important anatomical landmark used to locate the sacral level. Therefore, D is the correct answer. Explanation for Incorrect Answers: A. L3: The L3 vertebra is located much higher than the PSIS. The PSIS is not aligned with L3, so A is incorrect. B. L4: Similarly, the L4 vertebra is also positioned higher than the PSIS. While the iliac crest is at the level of L4, the PSIS itself corresponds more accurately to the S2 level, making B incorrect. C. S1: The S1 vertebra is below the level of the PSIS. While the sacrum is involved, the PSIS is located specifically at the S2 level, so C is also incorrect.",
    "correct_choice_id": 200027,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/56456591697973168/56456591697973168.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/56456591697973168/56456591697973168.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50007,
    "choices": [
      {
        "id": 200028,
        "text": "Caudate lobe of liver"
      },
      {
        "id": 200029,
        "text": "Inferior vena cava"
      },
      {
        "id": 200030,
        "text": "Free border of lesser omentum"
      },
      {
        "id": 200031,
        "text": "4th part of duodenum"
      }
    ],
    "text": "Boundaries of foramen of winslow are all except-",
    "unique_key": "Q1056376",
    "question_audio": null,
    "question_video": null,
    "map_id": 34595698,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (D) 4th part of duodenum. Explanation for the Correct Answer: D. 4th part of duodenum: The foramen of Winslow (also known as the epiploic foramen) is an opening in the peritoneum that connects the greater and lesser sacs of the peritoneal cavity. It is bounded by the caudate lobe of the liver, the inferior vena cava, and the free border of the lesser omentum. The 4th part of the duodenum is not involved in forming the boundaries of the foramen of Winslow, making this the correct answer. Explanation for Incorrect Responses: A. Caudate lobe of liver: The caudate lobe of the liver is one of the boundaries of the foramen of Winslow. It forms the anterior boundary of the foramen, so this option is incorrect. B. Inferior vena cava: The inferior vena cava is another important boundary of the foramen of Winslow, forming its posterior boundary. This makes this option incorrect. C. Free border of lesser omentum: The free border of the lesser omentum also forms a boundary of the foramen of Winslow, specifically on its right side. Therefore, this option is also incorrect.",
    "correct_choice_id": 200031,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/4648041697973755/4648041697973755.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/4648041697973755/4648041697973755.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50008,
    "choices": [
      {
        "id": 200032,
        "text": "Left sub hepatic"
      },
      {
        "id": 200033,
        "text": "Left sub phrenic"
      },
      {
        "id": 200034,
        "text": "Right sub hepatic"
      },
      {
        "id": 200035,
        "text": "Right sub phrenic"
      }
    ],
    "text": "Which of the following is true about location of Omental Bursa -",
    "unique_key": "Q5106228",
    "question_audio": null,
    "question_video": null,
    "map_id": 34297941,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Left sub hepatic. Explanation for the Correct Answer: A. Left sub hepatic: The omental bursa, also known as the lesser sac, is located in the left subhepatic space. It is a potential space located behind the stomach and lesser omentum, bounded by the liver, pancreas, and diaphragm. It lies to the left of the lesser omentum and is in direct contact with the left side of the abdominal cavity. It is separated from the greater sac by the greater omentum. Explanation for Incorrect Responses: B. Left sub phrenic: The left subphrenic space is located below the diaphragm and to the left of the liver. It is not the location of the omental bursa, which is positioned behind the stomach. The left subphrenic space is mainly occupied by the diaphragm and the lower part of the liver. C. Right sub hepatic: The right subhepatic space is located beneath the liver on the right side of the body. It is not where the omental bursa is situated, as the omental bursa lies to the left of the stomach and is confined to the left subhepatic area. The right subhepatic space is more related to structures like the gallbladder. D. Right sub phrenic: The right subphrenic space is situated beneath the diaphragm and to the right of the liver. It is not where the omental bursa is found. Like the left subphrenic space, it is more associated with the liver and diaphragm, not the omental bursa.",
    "correct_choice_id": 200032,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/62268971697974110/62268971697974110.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/62268971697974110/62268971697974110.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50009,
    "choices": [
      {
        "id": 200036,
        "text": "Conjoint tendon"
      },
      {
        "id": 200037,
        "text": "Inguinal ligament"
      },
      {
        "id": 200038,
        "text": "Inferior epigastric artery"
      },
      {
        "id": 200039,
        "text": "Rectus femoris"
      }
    ],
    "text": "A common structure in Hesselbach\u2019s triangle and femoral triangle is -",
    "unique_key": "Q4880875",
    "question_audio": null,
    "question_video": null,
    "map_id": 34234050,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Inguinal ligament. Explanation for the Correct Answer: B. Inguinal ligament: The inguinal ligament is a common structure in both Hesselbach's triangle and femoral triangle. In Hesselbach\u2019s triangle, the inguinal ligament forms the inferior border, while in the femoral triangle, it forms the superior border. The inguinal ligament is an important anatomical structure that extends from the anterior superior iliac spine to the pubic tubercle. Explanation for Incorrect Responses: A. Conjoint tendon: The conjoint tendon is part of the anterior abdominal wall, formed by the fusion of the aponeuroses of the internal oblique and transversus abdominis muscles. It is specifically related to Hesselbach\u2019s triangle but does not extend into the femoral triangle. C. Inferior epigastric artery: The inferior epigastric artery is an important vessel that runs within the abdominal wall and is related to Hesselbach's triangle, as it forms the lateral boundary of the triangle. However, it is not a structure present in the femoral triangle. D. Rectus femoris: The rectus femoris is a muscle of the anterior thigh that is not directly related to either Hesselbach's triangle or the femoral triangle. It is located anteriorly and plays a role in knee extension and hip flexion but is not a boundary or common structure in either triangle.",
    "correct_choice_id": 200037,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/36051901697974140/36051901697974140.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/36051901697974140/36051901697974140.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50010,
    "choices": [
      {
        "id": 200040,
        "text": "Left gonadal vessels"
      },
      {
        "id": 200041,
        "text": "Third part of duodenum"
      },
      {
        "id": 200042,
        "text": "Aorta"
      },
      {
        "id": 200043,
        "text": "Right ureter"
      }
    ],
    "text": "The mesentery of small intestine, along its attachment to the posterior abdominal wall, crosses all or the following structures except",
    "unique_key": "Q3653769",
    "question_audio": null,
    "question_video": null,
    "map_id": 34289679,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Left gonadal vessels The mesentery of the small intestine is a fold of peritoneum that suspends the jejunum and ileum from the posterior abdominal wall. While crossing the posterior abdominal wall, it crosses over several structures. However, the left gonadal vessels are not crossed by the mesentery because they lie more medially, not in the region traversed by the mesentery. Explanation for Incorrect Options: B. Third part of the duodenum: The mesentery crosses the third (horizontal) part of the duodenum as it runs obliquely from the duodenojejunal junction to the ileocecal junction. C. Aorta: The mesentery crosses over the abdominal aorta, as the aorta lies in the midline, and the mesentery has a broad attachment spanning from the left to the right. D. Right ureter: The right ureter is crossed by the mesentery as it lies posteriorly and to the right of the midline in the retroperitoneum.",
    "correct_choice_id": 200040,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/22753361697974801/22753361697974801.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/22753361697974801/22753361697974801.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50011,
    "choices": [
      {
        "id": 200044,
        "text": "Subcostal nerve"
      },
      {
        "id": 200045,
        "text": "Ilioinguinal nerve"
      },
      {
        "id": 200046,
        "text": "Iliohypogastric nerve"
      },
      {
        "id": 200047,
        "text": "Genitofemoral nerve"
      }
    ],
    "text": "Pyramidalis is supplied by -",
    "unique_key": "Q6068869",
    "question_audio": null,
    "question_video": null,
    "map_id": 34417979,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Subcostal nerve The pyramidalis muscle, a small triangular muscle located anterior to the rectus abdominis in the lower part of the abdominal wall, is innervated by the subcostal nerve (T12). This nerve provides motor innervation to the pyramidalis, which is responsible for tensing the linea alba. Explanation for Incorrect Options: B. Ilioinguinal nerve: The ilioinguinal nerve primarily supplies sensory innervation to the skin over the inguinal region, the upper medial thigh, and parts of the external genitalia. It does not innervate the pyramidalis muscle. C. Iliohypogastric nerve: The iliohypogastric nerve supplies the skin of the lower abdomen and provides motor innervation to parts of the abdominal wall, such as the internal oblique and transversus abdominis, but not the pyramidalis muscle. D. Genitofemoral nerve: The genitofemoral nerve primarily provides motor innervation to the cremaster muscle in males and sensory innervation to the skin of the anterior scrotum or mons pubis and labia majora. It does not supply the pyramidalis.",
    "correct_choice_id": 200044,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/27045751697974813/27045751697974813.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/27045751697974813/27045751697974813.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50012,
    "choices": [
      {
        "id": 200048,
        "text": "Hypogastrium from lumbar region"
      },
      {
        "id": 200049,
        "text": "Hypochondrium from lumbar region"
      },
      {
        "id": 200050,
        "text": "Iliac fossa from lumbar region"
      },
      {
        "id": 200051,
        "text": "Umbilical region from lumbar region"
      }
    ],
    "text": "Transpyloric plane separates-",
    "unique_key": "Q8567975",
    "question_audio": null,
    "question_video": null,
    "map_id": 34353872,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Hypochondrium from lumbar region The transpyloric plane is an anatomical horizontal plane located approximately at the level of the first lumbar vertebra (L1). It passes through key structures such as the pylorus of the stomach, the duodenojejunal junction, and the neck of the pancreas. This plane separates the hypochondriac region (upper abdominal area) from the lumbar region (lower back area). The hypochondrium refers to the upper lateral region of the abdomen, just below the ribs, while the lumbar region is part of the lower back. Thus, this plane divides these two regions of the body. Incorrect Responses: (A) Hypogastrium from lumbar region The hypogastrium refers to the lower central part of the abdomen, below the umbilical region. The lumbar region, located in the lower back, is not separated from the hypogastrium by the transpyloric plane. The transpyloric plane is too high to affect this distinction. Therefore, A is incorrect. (C) Iliac fossa from lumbar region The iliac fossa refers to the area of the pelvis near the iliac bones, while the lumbar region is part of the lower back. The transpyloric plane does not separate the iliac fossa from the lumbar region; these two regions are located much lower than the plane\u2019s level. Hence, C is incorrect. (D) Umbilical region from lumbar region The umbilical region is the central part of the abdomen, located around the navel, and the lumbar region is part of the lower back. The transpyloric plane does not separate these two areas, as the umbilical region is at a lower level than the transpyloric plane, which is at L1. Therefore, D is incorrect.",
    "correct_choice_id": 200049,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/6850531697962254/6850531697962254.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/6850531697962254/6850531697962254.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50013,
    "choices": [
      {
        "id": 200052,
        "text": "External and internal oblique"
      },
      {
        "id": 200053,
        "text": "External, internal and transverse abdominis"
      },
      {
        "id": 200054,
        "text": "External oblique and rectus abdominis"
      },
      {
        "id": 200055,
        "text": "Internal oblique and transverse abdominins"
      }
    ],
    "text": "Anterior wall of inguinal canal is formed by muscles \u2013",
    "unique_key": "Q1385486",
    "question_audio": null,
    "question_video": null,
    "map_id": 34990216,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) External and internal oblique The anterior wall of the inguinal canal is primarily formed by the external oblique muscle and the internal oblique muscle. The external oblique muscle's aponeurosis forms the superficial part of the anterior wall, while the internal oblique muscle contributes a smaller, deeper part of the wall. These two muscles are key in forming the boundary of the inguinal canal and play a role in the canal's function, particularly in relation to the passage of the spermatic cord in males or the round ligament in females. Incorrect Responses: (B) External, internal, and transverse abdominis While the external oblique and internal oblique muscles contribute to the inguinal canal's anterior wall, the transverse abdominis muscle does not contribute to the anterior wall of the canal. The transverse abdominis is involved in the posterior wall and floor of the inguinal canal but not the anterior wall. Therefore, B is incorrect. (C) External oblique and rectus abdominis The rectus abdominis muscle does not form part of the inguinal canal's anterior wall. Instead, it lies more centrally in the abdominal wall and contributes to the anterior abdominal wall but not to the inguinal canal's structure. The correct muscles for the anterior wall are the external and internal obliques. Hence, C is incorrect. (D) Internal oblique and transverse abdominis While the internal oblique is involved in forming part of the anterior wall of the inguinal canal, the transverse abdominis contributes more to the posterior wall and the floor of the canal, not the anterior wall. Therefore, D is incorrect.",
    "correct_choice_id": 200052,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/17279031697986048/17279031697986048.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/17279031697986048/17279031697986048.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50014,
    "choices": [
      {
        "id": 200056,
        "text": "It forms part of posterior wall of inguinal canal"
      },
      {
        "id": 200057,
        "text": "It is the fused part of aponeurosis of transverses abdomens and internal oblique muscle"
      },
      {
        "id": 200058,
        "text": "It is continuous with inguinal ligament"
      },
      {
        "id": 200059,
        "text": "It may be pushed forward by direct inguinal hernia"
      }
    ],
    "text": "All statements concerning the conjoint tendon are true, except:",
    "unique_key": "Q4619816",
    "question_audio": null,
    "question_video": null,
    "map_id": 34916590,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) (A) It forms part of posterior wall of inguinal canal This statement is true. The conjoint tendon does indeed contribute to the posterior wall of the inguinal canal, providing support to the canal and playing a key role in preventing hernias. Therefore, A is correct. (B) It is the fused part of aponeurosis of transversus abdominis and internal oblique muscle This statement is true. The conjoint tendon is formed by the fusion of the aponeuroses of the transversus abdominis and internal oblique muscles as they pass posterior to the inguinal canal. Therefore, B is correct. (D) It may be pushed forward by direct inguinal hernia This statement is true. A direct inguinal hernia can push the conjoint tendon forward into the inguinal canal, leading to bulging in the area. This action can weaken the posterior wall of the canal and contribute to the hernia's progression. Therefore, D is correct.",
    "correct_choice_id": 200058,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/53318421697986063/53318421697986063.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/53318421697986063/53318421697986063.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50015,
    "choices": [
      {
        "id": 200060,
        "text": "External oblique, internal oblique"
      },
      {
        "id": 200061,
        "text": "External oblique, transversus abdominis"
      },
      {
        "id": 200062,
        "text": "Internal oblique, transversus abdominis"
      },
      {
        "id": 200063,
        "text": "All three"
      }
    ],
    "text": "Conjoint tendon is formed by",
    "unique_key": "Q1517422",
    "question_audio": null,
    "question_video": null,
    "map_id": 34171615,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) Internal oblique, transversus abdominis The conjoint tendon, also known as the inguinal falx, is formed by the aponeuroses of the internal oblique muscle and the transversus abdominis muscle. This tendon is located in the lower part of the anterior abdominal wall and serves to reinforce the posterior wall of the inguinal canal. It helps in maintaining the integrity of the inguinal canal, particularly by preventing the herniation of abdominal contents through the inguinal region. Incorrect Responses: (A) External oblique, internal oblique This option is incorrect because the external oblique does not contribute to the formation of the conjoint tendon. The external oblique muscle forms part of the anterior abdominal wall but is not involved in the conjoint tendon, which is formed by the internal oblique and transversus abdominis. (B) External oblique, transversus abdominis While the external oblique and transversus abdominis muscles are important in the structure of the abdominal wall, they do not form the conjoint tendon. The conjoint tendon is formed by the internal oblique and transversus abdominis, not the external oblique. (D) All three This option is incorrect because the conjoint tendon is not formed by all three muscles (external oblique, internal oblique, and transversus abdominis). The external oblique does not contribute to the conjoint tendon. The correct formation involves only the internal oblique and transversus abdominis.",
    "correct_choice_id": 200062,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/37799111697986639/37799111697986639.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/37799111697986639/37799111697986639.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50016,
    "choices": [
      {
        "id": 200064,
        "text": "2.5cm"
      },
      {
        "id": 200065,
        "text": "4cm"
      },
      {
        "id": 200066,
        "text": "10cm"
      },
      {
        "id": 200067,
        "text": "15cm"
      }
    ],
    "text": "Length of inguinal canal -",
    "unique_key": "Q4495398",
    "question_audio": null,
    "question_video": null,
    "map_id": 34997304,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) 4 cm The inguinal canal typically measures 4 cm in length. This canal is a passage in the lower anterior abdominal wall through which the spermatic cord (in males) and the round ligament (in females) pass. The length can slightly vary but is generally around 4 cm. This makes option (B) the correct answer. Incorrect Responses: (A) 2.5 cm The inguinal canal is slightly longer than 2.5 cm. It usually measures around 4 cm, so 2.5 cm is shorter than the actual length of the inguinal canal. This option is incorrect. (C) 10 cm A length of 10 cm is much longer than the typical measurement of the inguinal canal. While it might seem plausible for some anatomical variations, the average length of the inguinal canal is much shorter than 10 cm. This option is incorrect. (D) 15 cm A length of 15 cm is significantly longer than the standard inguinal canal length. The inguinal canal usually measures about 4 cm in length,",
    "correct_choice_id": 200065,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/64780191697986752/64780191697986752.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/64780191697986752/64780191697986752.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50017,
    "choices": [
      {
        "id": 200068,
        "text": "Internal thoracic artery"
      },
      {
        "id": 200069,
        "text": "Superior epigastric artery"
      },
      {
        "id": 200070,
        "text": "Inferior epigastric artery"
      },
      {
        "id": 200071,
        "text": "Rectus abdominis"
      }
    ],
    "text": "Structure contained within rectus sheath are all except -",
    "unique_key": "Q3493897",
    "question_audio": null,
    "question_video": null,
    "map_id": 34779535,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Internal thoracic artery The internal thoracic artery is not contained within the rectus sheath. It is a branch of the subclavian artery and runs along the inner surface of the anterior chest wall, primarily supplying the anterior chest wall and breasts. While it is in close proximity to the rectus abdominis muscle, it does not run within the rectus sheath. Therefore, option A is correct. Incorrect Responses: (B) Superior epigastric artery The superior epigastric artery is contained within the rectus sheath. It is a branch of the internal thoracic artery and supplies the upper part of the rectus abdominis muscle and the overlying skin. It runs within the sheath, making this option incorrect. (C) Inferior epigastric artery The inferior epigastric artery is another structure contained within the rectus sheath. It is a branch of the external iliac artery and supplies the lower part of the rectus abdominis muscle. It passes through the rectus sheath and is involved in its vascular supply, making this option incorrect. (D) Rectus abdominis The rectus abdominis muscle is one of the primary contents of the rectus sheath. It runs along the anterior abdominal wall and is enclosed within the sheath, which consists of the aponeuroses of the surrounding abdominal muscles.",
    "correct_choice_id": 200068,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/50040641697976290/50040641697976290.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/50040641697976290/50040641697976290.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50018,
    "choices": [
      {
        "id": 200072,
        "text": "Between ext oblique and internal oblique"
      },
      {
        "id": 200073,
        "text": "Between int. oblique and transverses abdominis"
      },
      {
        "id": 200074,
        "text": "Below transversus abdominis"
      },
      {
        "id": 200075,
        "text": "Above ext. oblique"
      }
    ],
    "text": "Neurovascular plane in anterior abdominal wall is -",
    "unique_key": "Q1366777",
    "question_audio": null,
    "question_video": null,
    "map_id": 34268546,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Between internal oblique and transversus abdominis. The neurovascular plane in the anterior abdominal wall lies between the internal oblique and transversus abdominis muscles. This space contains the intercostal nerves, which provide sensory and motor innervation to the abdominal wall, and the accompanying blood vessels. The positioning of the neurovascular structures in this plane is crucial for surgical procedures, such as in abdominal wall block techniques for regional anesthesia, where the local anesthetic is deposited within this plane to block sensory nerve transmission. Option A (Between external oblique and internal oblique) is incorrect because the neurovascular plane is not located between the external and internal oblique muscles. The external oblique is more superficial, and the neurovascular plane lies deeper, between the internal oblique and transversus abdominis muscles. The external oblique does not contain significant neurovascular structures in the same manner as the deeper layers. Option C (Below transversus abdominis) is incorrect because the area below the transversus abdominis does not house the neurovascular plane. The transversus abdominis is the deepest of the abdominal muscles, and below it lies the peritoneum and the underlying structures of the abdominal cavity, not the neurovascular structures that innervate the abdominal wall. Option D (Above external oblique) is incorrect because the neurovascular plane is not located above the external oblique muscle. The external oblique is located most superficially, and the neurovascular plane lies much deeper, between the internal oblique and transversus abdominis muscles. There are no significant neurovascular structures above the external oblique in the anterior abdominal wall.",
    "correct_choice_id": 200073,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/804471697976395/804471697976395.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/804471697976395/804471697976395.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50019,
    "choices": [
      {
        "id": 200076,
        "text": "Pyramidalis muscle"
      },
      {
        "id": 200077,
        "text": "Genitofemoral nerve"
      },
      {
        "id": 200078,
        "text": "Inferior epigastric vessels"
      },
      {
        "id": 200079,
        "text": "Superior epigastric vessels"
      }
    ],
    "text": "The rectus sheath contains all of the following except",
    "unique_key": "Q1020438",
    "question_audio": null,
    "question_video": null,
    "map_id": 34914056,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Genitofemoral nerve. The rectus sheath is a fibrous structure formed by the aponeuroses of the abdominal muscles, which encloses the rectus abdominis muscle and other associated structures. The genitofemoral nerve is not contained within the rectus sheath. It originates from the L1 and L2 spinal nerves and passes through the anterior surface of the psoas major muscle before splitting into two branches: the genital branch (which travels to the scrotum in males and the labia majora in females) and the femoral branch (which supplies the skin of the anterior thigh). The genitofemoral nerve does not travel through the rectus sheath. Option A (Pyramidalis muscle) is incorrect because the pyramidalis muscle is located in the anterior wall of the rectus sheath. It is a small triangular muscle that lies within the sheath, anterior to the rectus abdominis muscle, and serves to tense the linea alba. Option C (Inferior epigastric vessels) is incorrect because the inferior epigastric vessels are part of the structures contained within the rectus sheath. These vessels run superiorly and medially, passing through the sheath and supplying blood to the lower part of the rectus abdominis muscle. Option D (Superior epigastric vessels) is incorrect because the superior epigastric vessels are also contained within the rectus sheath. These vessels arise from the internal thoracic artery and descend to supply the upper part of the rectus abdominis muscle.",
    "correct_choice_id": 200077,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/71282041697976450/71282041697976450.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/71282041697976450/71282041697976450.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50020,
    "choices": [
      {
        "id": 200080,
        "text": "A"
      },
      {
        "id": 200081,
        "text": "B"
      },
      {
        "id": 200082,
        "text": "C"
      },
      {
        "id": 200083,
        "text": "D"
      },
      {
        "id": 200084,
        "text": "E"
      }
    ],
    "text": "A 38 years old male presents to the ER with sudden-onset heart palpitations. His blood pressure is 104/72 mmHg, and his heart rate is 156/min with regular rhythm. You ask the patient to do the \"Valsalva maneuver\" to relieve these symptoms. Which of the following structures indicated on the pelvic CT image below is most important in performing the Valsalva maneuver?<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/Anat%20Clen%20Vign%2059.png\" alt=\"Question Image\"></p>",
    "unique_key": "Q5568172",
    "question_audio": null,
    "question_video": null,
    "map_id": 34027205,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) A is rectus abdominis for \"Valsalva maneuver\", abdominal muscles espcially rectus abdominis contracts.",
    "correct_choice_id": 200080,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/43961671698325741/43961671698325741.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/43961671698325741/43961671698325741.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50021,
    "choices": [
      {
        "id": 200085,
        "text": "The abdomen was found to be distended."
      },
      {
        "id": 200086,
        "text": "A rectal examination with the gloved little finger resulted in the passage of a large amount of flatus and the abdominal distension became visibly less."
      },
      {
        "id": 200087,
        "text": "A low barium enema followed by an X-ray examination showed a normal rectum."
      },
      {
        "id": 200088,
        "text": "On the radiograph, above the rectum, a narrowed part of the colon led to a funnel-shaped expansion, which in turn led to a greatly dilated descending colon and transverse colon."
      },
      {
        "id": 200089,
        "text": "On placing a stethoscope on the abdominal wall, the physician could not hear sounds of peristalsis"
      }
    ],
    "text": "A 3-week-old boy was taken to a pediatrician because of repeated vomiting and reluctance to feed. On questioning, the mother said the child had started to vomit on the first day of life and has vomited at least once a day since then. Early on, the mother had been reassured and told that the baby was taking his feedings too quickly and that the vomiting eventually would cease. While initially accepting this reassurance, the mother now noticed that the child did not seem hungry at feeding time; moreover, she could see that the abdomen was becoming distended. She added that the child definitely was constipated; very occasionally, hard meconium was passed. After a thorough physical examination of the child, the pediatrician made the diagnosis of primary megacolon (Hirschsprung disease). The examination of the child revealed the following possible signs except which?",
    "unique_key": "Q2586716",
    "question_audio": null,
    "question_video": null,
    "map_id": 34036154,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (E) In patients with primary megacolon, the muscle of the colon immediately proximal to the obstruction is hypertrophied as the result of attempting to force the meconium and feces onward. Usually very active peristalsis is heard on listening to the abdomen with a stethoscope.",
    "correct_choice_id": 200089,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/46816801698328828/46816801698328828.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/46816801698328828/46816801698328828.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50022,
    "choices": [
      {
        "id": 200090,
        "text": "1\u20133\u20134\u20132"
      },
      {
        "id": 200091,
        "text": "2\u20131\u20133\u20134"
      },
      {
        "id": 200092,
        "text": "2\u20131\u20134\u20133"
      },
      {
        "id": 200093,
        "text": "4\u20131\u20132\u20133"
      }
    ],
    "text": "A surgeon performing an appendectomy makes an incision through the ventrolateral abdominal wall. The layers of the abdominal wall are shown below. 1. Internal oblique 2. External oblique 3. Peritoneum 4. Transversus abdominis Which of the following corresponds to the order of penetration of the layers of the abdominal wall?",
    "unique_key": "Q1981384",
    "question_audio": null,
    "question_video": null,
    "map_id": 34185879,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C)<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/7_1(32).jpg\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200092,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/39784471698329194/39784471698329194.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/39784471698329194/39784471698329194.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50023,
    "choices": [
      {
        "id": 200094,
        "text": "Broad ligament"
      },
      {
        "id": 200095,
        "text": "Falciform ligament"
      },
      {
        "id": 200096,
        "text": "Splenorenal ligament"
      },
      {
        "id": 200097,
        "text": "Hepatoduodenal ligament"
      }
    ],
    "text": "Following a road traffic accident, a patient is brought to the emergency room. X-rays reveal that she has fractures of her left ninth and tenth ribs. She has a rapid heart rate and low blood pressure. Peritoneal lavage reveals free blood in the peritoneal cavity. A surgeon is able to stop the bleeding by placing a clamp across which of the following structures?",
    "unique_key": "Q4104832",
    "question_audio": null,
    "question_video": null,
    "map_id": 34677410,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) This patient has a ruptured spleen. The splenic artery and vein reach the spleen by passing through the splenorenal ligament. A clamp across this ligament will stop the flow of blood to the spleen. The spleen lies under cover of the left ninth, tenth, and eleventh ribs. Fractures of these ribs may cause laceration of the spleen and bleeding into the peritoneal cavity. The broad ligament is in the pelvis of the female. It encloses the uterus and contains the uterine tubes and the ovaries.The uterine arteries cross the base of the broad ligament to pass from the internal iliac artery to the cervix of the uterus. The falciform ligament is the remnant of the ventral mesentery between the liver and the anterior body wall. During prenatal life, the umbilical vein passes within the falciform ligament. After birth, the umbilical vein becomes fibrous and is called the ligamentum teres. The hepatoduodenal ligament is the portion of the lesser omentum that is along its right free edge. It is attached to the liver and the duodenum.<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/13_1(27).jpg\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200096,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/56297641698329994/56297641698329994.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/56297641698329994/56297641698329994.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50024,
    "choices": [
      {
        "id": 200098,
        "text": "Lesser sac"
      },
      {
        "id": 200099,
        "text": "Greater omentum"
      },
      {
        "id": 200100,
        "text": "Lienorenal ligament"
      },
      {
        "id": 200101,
        "text": "Gastro splenic ligament"
      }
    ],
    "text": "Which of the following is not a derivative of dorsal mesentery:",
    "unique_key": "Q8734077",
    "question_audio": null,
    "question_video": null,
    "map_id": 34775358,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Option A-lesser sac is not a derivative a dorsal mesentry.lesser sac is a cavity formed due to rotation of stomach. Option B,C,D-Greater omentum,Lienorenal ligament,Gastro splenic ligament are the derivatives of dorsal mesentery.",
    "correct_choice_id": 200098,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/29268371698506305/29268371698506305.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/29268371698506305/29268371698506305.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50025,
    "choices": [
      {
        "id": 200102,
        "text": "Middle layer is attached to the tips of transverse processes of lumbar vertebrae"
      },
      {
        "id": 200103,
        "text": "Anterior layer covers the posterior surface of quadratus lumborum"
      },
      {
        "id": 200104,
        "text": "It gives attachment to internal oblique and Transversus abdominis"
      },
      {
        "id": 200105,
        "text": "Lateral arcuate ligament is derived from anterior layer of thoracolumbar fascia"
      }
    ],
    "text": "All of the following are true about thoracolumbar fascia except?",
    "unique_key": "Q8812988",
    "question_audio": null,
    "question_video": null,
    "map_id": 34930160,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Option A-Middle layer of thoracolumbar fascia is attached to the tips of transverse processes of lumbar vertebrae. Option B-Anterior layer covers the anterior surface of quadratus lumborum. Option C-Thoracolumbar fascia gives attachment to internal oblique and Transversus abdominis. Option D-Lateral arcuate ligament is derived from anterior layer of thoracolumbar fascia.<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/7(535).jpg\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200103,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/57446391698506569/57446391698506569.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/57446391698506569/57446391698506569.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50026,
    "choices": [
      {
        "id": 200106,
        "text": "It is muscular in neonates and children"
      },
      {
        "id": 200107,
        "text": "Continuous above with the posterior layer of thoracolumbar fascia"
      },
      {
        "id": 200108,
        "text": "Attached to transverse process of lower 2 lumbar vertebrae"
      },
      {
        "id": 200109,
        "text": "Lower part extends upto the posterior iliopectineal line"
      }
    ],
    "text": "All of the following are true about Iliolumbar ligament except?<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/18(265).jpg\" alt=\"Question Image\"></p>",
    "unique_key": "Q3364166",
    "question_audio": null,
    "question_video": null,
    "map_id": 34515696,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Option A-It is muscular in neonates and children is a true statement. Option B-The iliolumbar ligament is superiorly continuous with the anterior and middle layers of the thoracolumbar fascia. Option C- Iliolumbar ligament is attached to transverse process of lower 2 lumbar vertebrae. Option D-It's lower part extends upto the posterior iliopectineal line.",
    "correct_choice_id": 200107,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/39819261698506681/39819261698506681.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/39819261698506681/39819261698506681.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50027,
    "choices": [
      {
        "id": 200110,
        "text": "T8"
      },
      {
        "id": 200111,
        "text": "T9"
      },
      {
        "id": 200112,
        "text": "T10"
      },
      {
        "id": 200113,
        "text": "T11"
      }
    ],
    "text": "Marked area in the given image is supplied by which dermatome?<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/10(455).jpg\" alt=\"Question Image\"></p>",
    "unique_key": "Q6646622",
    "question_audio": null,
    "question_video": null,
    "map_id": 34159724,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) The marked structure is umbilicus and is present at T10 level.<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/38(118).jpg\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200112,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/33200741698501559/33200741698501559.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/33200741698501559/33200741698501559.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50028,
    "choices": [
      {
        "id": 200114,
        "text": "Caudate lobe of liver"
      },
      {
        "id": 200115,
        "text": "IVC"
      },
      {
        "id": 200116,
        "text": "Duodenum"
      },
      {
        "id": 200117,
        "text": "Lesser omentum"
      }
    ],
    "text": "Superior boundary of epiploic foramen is formed by:-",
    "unique_key": "Q9628464",
    "question_audio": null,
    "question_video": null,
    "map_id": 34456894,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Epiploic foramen connects lesser sac to greater sac. Option A-Caudate lobe of liver is present superiorly. Option B-IVC lies posteriorly. Option C-Duodenum lies inferiorly. Option D-Lesser omentum is present anteriorly.<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/66_1(26).jpg\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200114,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/7555881701777246/7555881701777246.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/7555881701777246/7555881701777246.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50029,
    "choices": [
      {
        "id": 200118,
        "text": "Internal oblique"
      },
      {
        "id": 200119,
        "text": "External oblique"
      },
      {
        "id": 200120,
        "text": "Parietal peritoneum"
      },
      {
        "id": 200121,
        "text": "Fascia transversalis"
      }
    ],
    "text": "A defect in which of the following forms the deep inguinal ring?",
    "unique_key": "Q1532029",
    "question_audio": null,
    "question_video": null,
    "map_id": 34684627,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (D) Option A-Internal oblique froms conjoint tendon. Option B-External oblique has an opening called deep inguinal ring. Option C-Parietal peritoneum forms processus vaginalis. Option D-The deep inguinal ring is an opening in the transversalis fascia present 1 cm above the inguinal ligament, midway between the anterior superior iliac spine and the pubic symphysis.<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/1_1(1).png\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200121,
    "solution_audio": null,
    "solution_video": "",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50030,
    "choices": [
      {
        "id": 200122,
        "text": "Indirect inguinal"
      },
      {
        "id": 200123,
        "text": "Direct inguinal"
      },
      {
        "id": 200124,
        "text": "Femoral"
      },
      {
        "id": 200125,
        "text": "Obturator"
      }
    ],
    "text": "Most common hernia in female is:",
    "unique_key": "Q1396748",
    "question_audio": null,
    "question_video": null,
    "map_id": 34618798,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Indirect inguinal hernias can occur in both males and females, but they are more common in males. In females, inguinal hernias are less common compared to males, and when they do occur, they are usually indirect inguinal hernias rather than direct inguinal hernias. An indirect inguinal hernia occurs when a portion of the intestine or other abdominal tissue protrudes through the inguinal canal, which is a passageway in the lower abdominal wall near the groin. This type of hernia is more common in both males and females and is often due to a congenital defect in the abdominal wall. Most common hernia in female is overall is Indirect inguinal hernia.",
    "correct_choice_id": 200122,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/20566771721392975/20566771721392975.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/20566771721392975/20566771721392975.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50031,
    "choices": [
      {
        "id": 200126,
        "text": "T10"
      },
      {
        "id": 200127,
        "text": "T11"
      },
      {
        "id": 200128,
        "text": "T12"
      },
      {
        "id": 200129,
        "text": "L1"
      }
    ],
    "text": "what is the section of vertebral level as shown in picture ?<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/9(165).png\" alt=\"Question Image\"></p>",
    "unique_key": "Q5541835",
    "question_audio": null,
    "question_video": null,
    "map_id": 34137389,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) In this image we can see Epiploic Foramen/Omental Foramen/Foramen of Winslow is located behind the right free margin of the lesser omentum, at the level of the 12th thoracic vertebra.It connects lesser sac with greater sac.Hence,It is the sectoion at T12 vertebra.<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/10(143).png\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200128,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/77570051721393208/77570051721393208.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/77570051721393208/77570051721393208.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50032,
    "choices": [
      {
        "id": 200130,
        "text": "Transverse Abdominis makes Anterior wall"
      },
      {
        "id": 200131,
        "text": "Internal oblique and Transverse Abdominis makes roof"
      },
      {
        "id": 200132,
        "text": "External oblique makes posterior wall"
      },
      {
        "id": 200133,
        "text": "Fascia Transversalis makes floor"
      }
    ],
    "text": "Regarding Inguinal Canal, which of the following is correct?",
    "unique_key": "Q5283277",
    "question_audio": null,
    "question_video": null,
    "map_id": 34135824,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Option A-Anterior wall is formed by External oblique. Option B-Internal oblique and transverse Abdominis arches over and makes the roof of inguinal canal. Option C-Fascia Transversalis makes posterior wall of inguinal canal. Option D-floor is made by inguinal canal.",
    "correct_choice_id": 200131,
    "solution_audio": null,
    "solution_video": "",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50033,
    "choices": [
      {
        "id": 200134,
        "text": "Bladder exstrophy"
      },
      {
        "id": 200135,
        "text": "Omphalocele"
      },
      {
        "id": 200136,
        "text": "Gastroschisis"
      },
      {
        "id": 200137,
        "text": "Umbilical hernia"
      }
    ],
    "text": "What is the diagnosis?<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/3(410).png\" alt=\"Question Image\"></p>",
    "unique_key": "Q7693405",
    "question_audio": null,
    "question_video": null,
    "map_id": 34714403,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Option A-Bladder exstrophy is a rare condition present at birth. During pregnancy, the bladder of an unborn baby, also called a fetus, forms outside of the lower abdominal region. The exposed bladder can't store urine or work as it should. This causes the baby to leak urine after being born. Option B-An omphalocele is a birth defect in which an infant's intestine or other abdominal organs are outside of the body because of a hole in the belly button (navel) area. The intestines are covered only by a thin layer of tissue and can be easily seen. Option C-Gastroschisis is a condition where the intestines extend outside of the body through a hole beside the belly button. Surgery places the abdominal organs inside the baby's body and repair the hole. Option D-An umbilical hernia occurs at the umbilicus (belly button) when a loop of intestine pushes through the umbilical ring, a small opening in a fetus' abdominal muscles",
    "correct_choice_id": 200134,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/45305791725256047/45305791725256047.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/45305791725256047/45305791725256047.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50034,
    "choices": [
      {
        "id": 200138,
        "text": "Vitellointestinal duct"
      },
      {
        "id": 200139,
        "text": "Urachus"
      },
      {
        "id": 200140,
        "text": "Gastroschisis"
      },
      {
        "id": 200141,
        "text": "Omphalocele"
      }
    ],
    "text": "Fecal material coming out from umbilicus. The situation is due to persistence of:",
    "unique_key": "Q7521934",
    "question_audio": null,
    "question_video": null,
    "map_id": 34906407,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Option A-The vitelline duct acts as a communicating tract between the embryonic yolk sac and its primitive midgut during early human development.An umbilical fistula may form due to persistence of vitelline duct.In this situation,Fecal material comes out from umbilicus. Option B-Urachus develops into median umbilical ligament. Option C-Gastroschisis is a condition where the intestines extend outside of the body through a hole beside the belly button. Option D-An omphalocele is a birth defect in which an infant's intestine or other abdominal organs are outside of the body because of a hole in the belly button (navel) area. The intestines are covered only by a thin layer of tissue and can be easily seen.",
    "correct_choice_id": 200138,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/34665451725256622/34665451725256622.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/34665451725256622/34665451725256622.m3u8",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = '01  Abdominal Wall  Mysentry Inguinal';
        const quizFilename = '01-abdominal-wall-mysentry-inguinal-2c83050a.html';
        let hierarchy = ["DAMS", "DQB", "Anatomy"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on navigation
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>