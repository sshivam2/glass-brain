<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pharmacology Test - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Test Series Subject Wise / Year 2020 - 21
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">75</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Which of the following drugs reduces blood pressure primarily by directly decreasing the heart rate?",
    "choices": [
      {
        "id": 1,
        "text": "Propranolol"
      },
      {
        "id": 2,
        "text": "Prazosin"
      },
      {
        "id": 3,
        "text": "Alpha methyl dopa"
      },
      {
        "id": 4,
        "text": "Nitroprusside sodium"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Propranolol</strong>&nbsp;reduces blood pressure by <strong>directly decreasing</strong> the<strong> heart rate</strong>. It is a <strong>nonselective beta-blocker</strong> and blocks the beta 1 receptor of the heart (SA node) thus reducing the heart rate and blood pressure.</p>\n<p>It also <strong>reduces renin secretion</strong> by blocking beta 1 receptors in JG cells. Reduction in renin release also contributes to blood pressure reduction.</p>\n<p>Option B: <strong>Prazosin </strong>is a <strong>selective alpha 1&nbsp;blocker</strong> and dilates both arteries and veins and may cause reflex tachycardia.</p>\n<p>Option C: <strong>Alpha methyldopa</strong> is a selective <strong>alpha 2 receptor</strong> agonist. Alpha 2 receptors are autoreceptors present on the presynaptic membrane. On stimulation, central sympathetic discharge is reduced. Alpha methyldopa can indirectly reduce heart rate.</p>\n<p>Option D: Nitroprusside is a vasodilator and may cause reflex tachycardia.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following drugs is a prostacyclin analog that can be added to the treatment regimen of a patient with pulmonary artery hypertension?",
    "choices": [
      {
        "id": 1,
        "text": "Sildenafil"
      },
      {
        "id": 2,
        "text": "Misoprostol"
      },
      {
        "id": 3,
        "text": "Dinoprost"
      },
      {
        "id": 4,
        "text": "Iloprost"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Iloprost </strong>is a<strong> prostacyclin analog </strong>indicated in the management of <strong>pulmonary artery hypertension</strong>. It falls under the category of&nbsp;IP receptor (prostacyclin receptor) agonists.</p>\n<p class=\"p1\">Other drugs falling under the category of <strong>IP receptor agonists</strong> are:</p>\n<ul>\n<li class=\"p1\">\n<p class=\"p1\">Epoprostenol</p>\n</li>\n<li class=\"p1\">\n<p class=\"p1\">Treprostinil</p>\n</li>\n<li class=\"p1\">\n<p class=\"p1\">Iloprost</p>\n</li>\n<li class=\"p1\">\n<p class=\"p1\">Selexipag</p>\n</li>\n</ul>\n<p>Option A: Sildenafil is a PDE-5 inhibitor.&nbsp;</p>\n<p class=\"p1\">Option B: Misoprostol is a synthetic PGE1 analog.&nbsp;</p>\n<p>Option C: Dinoprost is a natural PGF2-alpha preparation. It should&nbsp;not be confused with dinoprostone which is a synthetic analogue of PGE2.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 45-year-old woman presents with complaints of swelling of both feet and of breathlessness on exertion. After evaluation, she was diagnosed with congestive cardiac failure. Which of the following drugs is contraindicated in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Mannitol"
      },
      {
        "id": 2,
        "text": "Spironolactone"
      },
      {
        "id": 3,
        "text": "Furosemide"
      },
      {
        "id": 4,
        "text": "Hydrochlorothiazide"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Mannitol</strong> is <strong>contraindicated</strong> in patients with cardiac failure.</p>\n<p>Mannitol is an <strong>osmotic</strong> diuretic. It acts by extracting water from the intracellular compartments, which results in the <strong>expansion</strong> of the<strong> extracellular fluid</strong>. This results in <strong>volume overload</strong> and frank <strong>pulmonary edema</strong> in&nbsp;patients with cardiac failure.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 23-year-old hypothyroid patient taking levothyroxine regularly has now become pregnant. What would your advice be regarding levothyroxine?",
    "choices": [
      {
        "id": 1,
        "text": "Switch to liothyronine as levothyroxine is teratogenic"
      },
      {
        "id": 2,
        "text": "Increase the dose as pregnancy causes an increased demand for levothyroxine"
      },
      {
        "id": 3,
        "text": "Continue the same dose but monitor the serum levels on a fortnightly basis"
      },
      {
        "id": 4,
        "text": "Stop levothyroxine till the end of the first trimester as it has teratogenic potential"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The dose of <strong>levothyroxine </strong>in patients who become<strong> pregnant </strong>should usually be<strong> increased. </strong>This is because demand for levothyroxine increases in pregnancy and low thyroxine levels are associated with adverse fetal outcomes such as mental retardation.&nbsp;</p>\n<p>The dose of levothyroxine is increased by<strong> 30-50%</strong> by asking the patient to take 2 extra pills per week. Increased demand for levothyroxine in pregnancy is due to:</p>\n<ul style=\"list-style-type: circle;\">\n<li>The increased serum concentration of thyroxine-binding globulin (TBG) induced by estrogen</li>\n<li>Increased expression of type 3 deiodinase in the placenta</li>\n<li>A small amount of passage of levothyroxine to the fetus</li>\n</ul>\n<p>Thyroid hormones are not teratogenic. <strong>Liothyronine</strong>&nbsp;is <strong>not preferred</strong> in pregnancy because T3 has a short half-life and requires frequent dosing to limit large fluctuations in levels. In addition, excess T3 often acts to normalize TSH while lowering T4, thereby risking inadequate T4 availability to the fetus.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Z track technique is used for?",
    "choices": [
      {
        "id": 1,
        "text": "Administration of nicotine patches"
      },
      {
        "id": 2,
        "text": "Monitoring of carbamazepine therapy"
      },
      {
        "id": 3,
        "text": "Administration of long acting depot antipsychotics"
      },
      {
        "id": 4,
        "text": "Monitoring of lithium therapy"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The<strong> Z-track technique</strong>&nbsp;is used for the intramuscular administration of <strong>long-acting depot antipsychotics.</strong></p>\n<p><strong>Advantages:</strong>&nbsp;</p>\n<ul>\n<li>The 'Z-track'&nbsp;prevents leakage&nbsp;of the medication into the subcutaneous tissue and&nbsp;skin staining&nbsp;through the tract to the surface of the skin</li>\n<li>Pain intensity&nbsp;is also&nbsp;reduced&nbsp;</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/95f332d3004e48e6a476a371eecd59f0x1280x2717.JPEG"
    ]
  },
  {
    "text": "The maximum approved daily dose of Istradefylline is:",
    "choices": [
      {
        "id": 1,
        "text": "20 mg"
      },
      {
        "id": 2,
        "text": "60 mg"
      },
      {
        "id": 3,
        "text": "40 mg"
      },
      {
        "id": 4,
        "text": "100 mg"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The maximum approved daily dose of Istradefylline is <strong>40 mg.</strong></p>\n<p>Istradefylline has been recently approved by FDA as an <strong>add-on treatment to levodopa in adults with Parkinson\u2019s disease experiencing off episodes.</strong></p>\n<p>It is an adenosine A2A receptor antagonist.</p>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following organisms is resistant to tetracyclines?",
    "choices": [
      {
        "id": 1,
        "text": "MRSA"
      },
      {
        "id": 2,
        "text": "Pseudomonas aeruginosa"
      },
      {
        "id": 3,
        "text": "Rickettsia"
      },
      {
        "id": 4,
        "text": "Mycoplasma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>All strains of&nbsp;<em><strong>Pseudomonas aeruginosa</strong> </em>are <strong>resistant</strong> to the action of<strong> tetracyclines</strong>.</p>\n<p>Tetracyclines are active against MRSA and MSSA. Doxycycline and minocycline can be used in cutaneous MRSA infections.</p>\n<p>Rickettsia and chlamydia are highly susceptible to tetracyclines.&nbsp;Tetracyclines are considered first line agents for <strong>chlamydial</strong> <strong>infections</strong> like non-specific urethritis/ endocervicitis and <strong>rickettsial infections</strong> like typhus, rocky mountain spotted fever, Q fever.</p>\n<p>They are also second-line drugs in patients with syphilis who are allergic to penicillin.</p>\n<p>Tetracyclines are<strong> bacteriostatic</strong> drugs which are more active against gram-positive than gram-negative. They are effective against spirochetes, <em>Haemophilus ducreyi,&nbsp;Vibrio cholera,&nbsp;</em><em>Mycoplasma pneumoniae.</em></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An infant had a serum bilirubin level of 33 mg/dL. The mother might have taken which of the following drugs during the third trimester for this to occur?",
    "choices": [
      {
        "id": 1,
        "text": "Ampicillin"
      },
      {
        "id": 2,
        "text": "Co-trimoxazole"
      },
      {
        "id": 3,
        "text": "Azithromycin"
      },
      {
        "id": 4,
        "text": "Chloramphenicol"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Cotrimoxazole is a combination drug consisting of trimethoprim and sulfamethoxazole, of which sulfamethoxazole is a <strong>sulfonamide</strong>.&nbsp;Sulphonamides <strong>displace bilirubin</strong> from plasma albumin, leading to elevation of serum bilirubin levels.</p>\n<p>These drugs can<strong>&nbsp;cross the placenta</strong> and are <strong>secreted in milk&nbsp;</strong>and can therefore cause kernicterus in&nbsp;newborn infants if they are given to&nbsp;pregnant women near term or during lactation.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You notice fenoldopam mentioned on the drug chart of an elderly male patient admitted in the ICU. What condition is he most likely being treated for?",
    "choices": [
      {
        "id": 1,
        "text": "Hypertensive emergency"
      },
      {
        "id": 2,
        "text": "Congestive heart failure"
      },
      {
        "id": 3,
        "text": "Uncontrolled migraine"
      },
      {
        "id": 4,
        "text": "Atrial fibrillation"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Fenoldopam</strong> is primarily indicated in the management of<strong> hypertensive emergencies</strong>. It&nbsp;is a D<sub>1</sub> agonist at peripheral D1 receptors and acts as a rapid-acting vasodilator.</p>\n<p>Drugs used in a hypertensive emergency are:</p>\n<ul>\n<li>Nitroprusside</li>\n<li>Nicardipine</li>\n<li>Labetalol</li>\n<li>Hydralazine</li>\n<li>Esmolol</li>\n<li>Nitroglycerine</li>\n<li>Phentolamine</li>\n<li>Fenoldopam</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is a true statement regarding inverse agonists?",
    "choices": [
      {
        "id": 1,
        "text": "Binds to the receptor and causes maximum action"
      },
      {
        "id": 2,
        "text": "Binds to the receptor and causes opposite action to that of agonist"
      },
      {
        "id": 3,
        "text": "Binds to the receptor and causes no action"
      },
      {
        "id": 4,
        "text": "Binds to the receptor and causes submaximal action"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Inverse agonists</strong> bind to the receptor and cause an action<strong>&nbsp;opposite </strong>to that of an<strong> agonist.</strong></p>\n<table style=\"width: 310px; height: 200px;\">\n<tbody>\n<tr style=\"height: 31px;\">\n<td style=\"height: 31px; width: 155.766px;\">\n<p><strong>Type of drugs</strong></p>\n</td>\n<td style=\"height: 31px; width: 138.234px;\">\n<p><strong>Intrinsic activity</strong></p>\n</td>\n</tr>\n<tr style=\"height: 31px;\">\n<td style=\"height: 31px; width: 155.766px; text-align: center;\">\n<p>Agonists</p>\n</td>\n<td style=\"height: 31px; width: 138.234px; text-align: center;\">\n<p>1</p>\n</td>\n</tr>\n<tr style=\"height: 31px;\">\n<td style=\"height: 31px; width: 155.766px; text-align: center;\">\n<p>Partial agonists</p>\n</td>\n<td style=\"height: 31px; width: 138.234px; text-align: center;\">\n<p>0 to 1</p>\n</td>\n</tr>\n<tr style=\"height: 31px;\">\n<td style=\"height: 31px; width: 155.766px; text-align: center;\">\n<p>Competitive antagonists</p>\n</td>\n<td style=\"height: 31px; width: 138.234px; text-align: center;\">\n<p>0</p>\n</td>\n</tr>\n<tr style=\"height: 31px;\">\n<td style=\"height: 31px; width: 155.766px; text-align: center;\">\n<p>Inverse agonists</p>\n</td>\n<td style=\"height: 31px; width: 138.234px; text-align: center;\">\n<p>0 to -1</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>The ability of the drug <strong>to bind</strong> with a receptor is called <strong>affinity.</strong></p>\n<p>The capacity of a drug to induce a functional change in the receptor is called&nbsp;intrinsic activity or efficacy.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient showing treatment failure with multiple antiretroviral drugs is now started on maraviroc. This drug acts against:",
    "choices": [
      {
        "id": 1,
        "text": "CCR5"
      },
      {
        "id": 2,
        "text": "CXCR4"
      },
      {
        "id": 3,
        "text": "CD4"
      },
      {
        "id": 4,
        "text": "CCR5 and CD4"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Maraviroc</strong> is a<strong> chemokine receptor antagonist </strong>acting against the <strong>CCR5 receptor</strong>.</p>\n<p>It&nbsp;binds to the host cell CCR-5 receptor and prevents the binding of viral GP-120 to host cells. It is indicated in patients with evidence of infection with predominantly CCR-5 tropic virus.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient diagnosed with ventricular tachycardia was started on a class1B anti-arrhythmic drug. Identify the drug.",
    "choices": [
      {
        "id": 1,
        "text": "Mexiletine"
      },
      {
        "id": 2,
        "text": "Quinidine"
      },
      {
        "id": 3,
        "text": "Flecainide"
      },
      {
        "id": 4,
        "text": "Propafenone"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Mexiletine </strong>is a&nbsp;<strong>class 1B antiarrhythmic</strong> drug.<strong>&nbsp;</strong>It<strong>&nbsp;</strong>is a lidocaine analog.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient diagnosed with wet age-related macular degeneration is being administered ranibizumab intravitreally. All of the following are known side effects of the drug, except _______.",
    "choices": [
      {
        "id": 1,
        "text": "Eye pain"
      },
      {
        "id": 2,
        "text": "Fall in IOP"
      },
      {
        "id": 3,
        "text": "Conjunctival hemorrhage"
      },
      {
        "id": 4,
        "text": "Floaters"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Ranibizumab&nbsp;</strong>is associated with a raise in IOP, not a fall.</p>\n<p><strong>Ranibizumab</strong> is a&nbsp;monoclonal antibody directed against VEGF-A (vascular endothelial growth factor-A).&nbsp;Ranibizumab is indicated in<strong> wet age-related macular degeneration </strong>and is used<strong> intravitreally </strong>where it<strong> inhibits VEGF-A induced ocular neovascularization.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ec6b8af55d8d4214adecf78d326084bex1280x1399.JPEG"
    ]
  },
  {
    "text": "The chest x-ray of a patient who presented with fever and cough with expectoration is shown below. Following discussion, a lincosamide antibiotic is prescribed. Which of the following will you choose?",
    "choices": [
      {
        "id": 1,
        "text": "Telithromycin"
      },
      {
        "id": 2,
        "text": "Spectinomycin"
      },
      {
        "id": 3,
        "text": "Clindamycin"
      },
      {
        "id": 4,
        "text": "Streptomycin"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Clindamycin</strong>, a<strong>&nbsp;lincosamide&nbsp;</strong>is used in the management of&nbsp;lung abscess and anaerobic lung and pleural space infections.</p>\n<p>Clindamycin is a congener of lincomycin and binds to the<strong> 50S subunit</strong> of bacterial ribosomes and <strong>inhibits protein synthesis.</strong></p>\n<p>Option A: Telithromycin is a ketolide antibiotic.</p>\n<p>Option B: Spectinomycin is an aminocyclitol antibiotic that binds to the 30S subunit of ribosomes and inhibits protein synthesis.</p>\n<p>Option D: Streptomycin is an aminoglycoside antibiotic.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/653b55b4bf464e6ea6e66052cb0912d7.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Polymyxins are effective against:",
    "choices": [
      {
        "id": 1,
        "text": "Gram-positive bacteria"
      },
      {
        "id": 2,
        "text": "Gram-negative bacteria"
      },
      {
        "id": 3,
        "text": "Acid-fast bacilli"
      },
      {
        "id": 4,
        "text": "Anaerobic bacteria"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Polymyxins</strong> are <strong>effective</strong> against <strong>gram-negative bacteria.</strong></p>\n<p>Polymyxin group of antibiotics includes <strong>polymyxin B</strong> and <strong>colistin</strong> which have their antimicrobial spectrum limited primarily to<strong> gram-negative</strong> <strong>aerobic bacteria</strong>. They interact with the phospholipid of the bacterial cell membranes and disrupt it.</p>\n<p>Polymyxins are used in various <strong>topical</strong> formulations. Parenteral formulations are used only in serious systemic infections that are resistant to other antimicrobials.<strong> Nephrotoxicity</strong> limits widespread systemic use.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 40-year old man who is suffering from open-angle glaucoma reads about netarsudil being approved as a novel agent for his condition. What is the mechanism of action of this drug?",
    "choices": [
      {
        "id": 1,
        "text": "Carbonic anhydrase inhibition"
      },
      {
        "id": 2,
        "text": "Phosphodiesterase 5 inhibition"
      },
      {
        "id": 3,
        "text": "Rho kinase inhibition"
      },
      {
        "id": 4,
        "text": "GPCR inhibition"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Netarsudil</strong> is a <strong>rho kinase inhibitor</strong> that acts by&nbsp;relaxing the trabecular meshwork. This increases the outflow of aqueous humor and reduces intraocular pressure.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the drug of choice for type IIa and IIb hyperlipoproteinemias?",
    "choices": [
      {
        "id": 1,
        "text": "Statins"
      },
      {
        "id": 2,
        "text": "Fibrates"
      },
      {
        "id": 3,
        "text": "Niacin"
      },
      {
        "id": 4,
        "text": "Bile acid sequestrants"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p style=\"text-align: left;\">The drugs of choice for <strong>type IIa and IIb hyperlipoproteinemias</strong> are <strong>statins</strong>.&nbsp;</p>\n<p style=\"text-align: left;\">In type IIa or IIb hyperlipoproteinemias, there is increased LDL cholesterol with +/- increase in TG.&nbsp; Statins have the <strong>maximum LDL lowering</strong> property among the hypolipidemic drugs. Therefore, they are the drugs of choice in this case.</p>\n<p style=\"text-align: left;\">In <strong>type III/IV hyperlipoproteinemias,&nbsp;</strong>there is mainly an increase in triglyceride(TG) level<strong>. Fibrates</strong> reduce the TGs contained in VLDL and increase the HDL. So they are the drugs of choice for these conditions.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following rifamycins is not used for mycobacterial infections?",
    "choices": [
      {
        "id": 1,
        "text": "Rifampicin"
      },
      {
        "id": 2,
        "text": "Rifaximin"
      },
      {
        "id": 3,
        "text": "Rifapentine"
      },
      {
        "id": 4,
        "text": "Rifabutin"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Rifaximin</strong>&nbsp;is not used for mycobacterial infections. It is a<strong> synthetic </strong>rifamycin that is <strong>poorly absorbed from the GIT</strong> and is indicated in the management of GI conditions like:&nbsp;</p>\n<ul>\n<li>Traveler&rsquo;s diarrhea</li>\n<li>Irritable bowel syndrome with diarrhea</li>\n<li>Hepatic encephalopathy</li>\n</ul>\n<p>Rifamycins indicated in mycobacterial infections are&nbsp;rifampicin, rifapentine, and rifabutin.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 52-year-old man with alcoholic cirrhosis develops ascites. What is the drug of choice for management?",
    "choices": [
      {
        "id": 1,
        "text": "Chlorothiazide"
      },
      {
        "id": 2,
        "text": "Acetazolamide"
      },
      {
        "id": 3,
        "text": "Spironolactone"
      },
      {
        "id": 4,
        "text": "Mannitol"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The diuretic of choice in a patient with<strong> cirrhotic ascites&nbsp;</strong>is <strong>spironolactone.</strong></p>\n<p><strong>Spironolactone</strong> is a <strong>competitive inhibitor</strong> of the <strong>mineralocorticoid receptor</strong> in the <strong>late distal tubule</strong> and<strong> collecting duct</strong> of the kidneys. It causes a decrease in sodium reabsorption and potassium excretion in the distal tubule. As a result, spironolactone <strong>promotes sodium diuresis</strong> but <strong>maintains body potassium levels</strong>.</p>\n<p>Spironolactone is particularly helpful in edematous states caused or exacerbated by hyperaldosteronism such as in cirrhotic ascites.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient has presented to your OPD complaining of hearing loss following an attack of vertigo. He says he has had similar episodes in the past. You decide to prescribe him betahistine. What is the mechanism of action of this drug?",
    "choices": [
      {
        "id": 1,
        "text": "H1 agonist"
      },
      {
        "id": 2,
        "text": "H1 antagonist"
      },
      {
        "id": 3,
        "text": "H2 agonist"
      },
      {
        "id": 4,
        "text": "H2 antagonist"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p style=\"text-align: justify;\">The scenario given in the question likely points to a diagnosis of <strong>Meniere's disease. </strong>Betahistine is a <strong>selective H<sub>1</sub> agonist&nbsp;</strong>used in this condition.</p>\n<p style=\"text-align: justify;\">It causes <strong>vasodilation </strong>in the <strong>inner ear </strong>which improves circulation. Hence, it is used to <strong>treat</strong> <strong>vertigo </strong>in Meniere's disease.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The finding shown in the image below is seen as a side effect of which of the following drugs?",
    "choices": [
      {
        "id": 1,
        "text": "1, 4 and 5 only"
      },
      {
        "id": 2,
        "text": "1, 3 and 5 only"
      },
      {
        "id": 3,
        "text": "1 and 3 only"
      },
      {
        "id": 4,
        "text": "2 and 4 only"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The finding shown in the image is<strong> bulls-eye maculopathy,</strong> and<strong> chloroquine and hydroxychloroquine</strong> use are associated with this side effect.</p>\n<p>Bull's-eye maculopathy refers to the ophthalmoscopic appearance of a<strong> central area of retinal pigment epithelial depigmentation</strong> surrounded by relatively normal retinal pigment epithelium, giving a bull's-eye appearance to the macula.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/05e0376fc11340daa9d74b749ff969d7.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A patient with diabetes mellitus came to the OPD with a history suggestive of recurrent episodes of hypoglycemia. She was recently put on combination therapy. Her symptoms are least likely to be caused by which of the following drugs?",
    "choices": [
      {
        "id": 1,
        "text": "Acarbose"
      },
      {
        "id": 2,
        "text": "Insulin"
      },
      {
        "id": 3,
        "text": "Gliclazide"
      },
      {
        "id": 4,
        "text": "Repaglinide"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Acarbose</strong> is&nbsp;least likely to cause hypoglycemia among the given options.</p>\n<p>It&nbsp;is an alpha-glucosidase inhibitor. It inhibits the intestinal degradation and absorption of starch and disaccharides&nbsp;and thereby lowers the postprandial rise in glucose levels.</p>\n<p>It has<strong> no role in stimulating insulin secretion</strong> and is therefore,&nbsp;<strong>least likely to cause hypoglycemia</strong> during monotherapy.&nbsp;</p>\n<p>Insulin and insulin secretagogues like sulfonylureas (gliclazide) and meglitinides (repaglinide) can result in hypoglycemia.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The total microbial population was found to be susceptible to antimicrobials on testing but a subset of the same population was resistant which was undetected. What is this phenomenon called?",
    "choices": [
      {
        "id": 1,
        "text": "Cross resistance"
      },
      {
        "id": 2,
        "text": "Heteroresistance"
      },
      {
        "id": 3,
        "text": "Idioresistance"
      },
      {
        "id": 4,
        "text": "Alloresistance"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p style=\"text-align: left;\"><strong>Heteroresistance</strong> occurs when a <strong>subset</strong> of the total microbial population is <strong>resistant</strong>, despite the <strong>total microbial population</strong> being <strong>susceptible</strong> on testing. The resistant subpopulation is usually well below the assay-detection limits.&nbsp;</p>\n<p style=\"text-align: left;\">Heteroresistant <em>Staphylococc</em>i and <em>M. tuberculosis</em> have led to&nbsp;<strong>therapeutic failures</strong> and <strong>mortality</strong>. <em>C. albicans</em> and <em>C. neoformans with </em>heteroresistance&nbsp;to fluconazole have resulted in increased treatment failures.</p>\n<p style=\"text-align: left;\">Note:&nbsp;For viruses, the resistant viral species occurring due to the above phenomenon is termed as 'quasi-species'.&nbsp;Quasi-species resistant to antiretroviral agents have resulted in the failure of antiretroviral therapy.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following drugs cause carcinoma bladder?",
    "choices": [
      {
        "id": 1,
        "text": "Cyclophosphamide"
      },
      {
        "id": 2,
        "text": "Cisplatin"
      },
      {
        "id": 3,
        "text": "Taxane"
      },
      {
        "id": 4,
        "text": "Tamoxifen"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The only chemotherapeutic agent that has been proven to cause bladder cancer is <strong>cyclophosphamide</strong>.</p>\n<p>The risk of the bladder cancer formation is linearly related to the duration and intensity of cyclophosphamide treatment, supporting a causative role. <strong>Phosphoramide mustard</strong> is the primary <strong>mutagenic metabolite</strong> that causes bladder cancer in patients exposed to cyclophosphamide.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An elderly man with a 30-year history of smoking complains of breathing difficulty. A diagnosis of COPD is made, and treatment with a long-acting muscarinic antagonist is initiated.  Which of the following will you not prescribe?",
    "choices": [
      {
        "id": 1,
        "text": "Glycopyrronium"
      },
      {
        "id": 2,
        "text": "Umeclidinium"
      },
      {
        "id": 3,
        "text": "Ipratropium"
      },
      {
        "id": 4,
        "text": "Tiotropium"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p style=\"text-align: left;\"><strong>Ipratropium</strong> is a <strong>short-acting muscarinic antagonist&nbsp;</strong>which is not used for the long-term management of COPD. It can be used to treat <strong>acute exacerbations.</strong></p>\n<p style=\"text-align: left;\">The long-acting muscarinic antagonists (<strong>LAMAs</strong>) are:</p>\n<ul>\n<li style=\"text-align: left;\">Tiotropium</li>\n<li style=\"text-align: left;\">Glycopyrronium&nbsp;</li>\n<li style=\"text-align: left;\">Umeclidinium</li>\n<li style=\"text-align: left;\">Aclidinium</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The culture and sensitivity report from a wound swab is positive for penicillinase-producing Staphylococcus aureus. Which of the following antimicrobials can be administered?",
    "choices": [
      {
        "id": 1,
        "text": "Amoxicillin"
      },
      {
        "id": 2,
        "text": "Penicillin G"
      },
      {
        "id": 3,
        "text": "Piperacillin"
      },
      {
        "id": 4,
        "text": "Cloxacillin"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The drug that can be used here is<strong> cloxacillin</strong> since it is not penicillinase susceptible. It&nbsp;is&nbsp;<strong>penicillinase-resistant penicillin</strong>.</p>\n<div class=\"page\" title=\"Page 1029\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Bacteria can inactivate &beta;-lactam antibiotics by the action of the <strong>&beta;-lactamase enzyme</strong>. The &beta;-lactamases enzyme activity can be narrow or broad spectrum. In general, gram-positive bacteria produce and secrete a large amount of &beta;-lactamase. Most of these enzymes are penicillinases.</p>\n</div>\n</div>\n</div>\n</div>\n<p>Penicillinase-resistant penicillins are:</p>\n<ul>\n<li>Cloxacillin</li>\n<li>Dicloxacillin</li>\n<li>Flucloxacillin</li>\n<li>Methicillin</li>\n<li>Nafcillin</li>\n</ul>\n<p>Option B: Penicillin G encompasses the natural preparations and salts of penicillin. They have a narrow spectrum and are susceptible to penicillinase.</p>\n<p>Options A and C: Amoxicillin and piperacillin are extended-spectrum penicillins but are susceptible to penicillinase.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "During a rotation in the acute medical ward, you observe a patient in cardiogenic shock being started on a low-dose dopamine infusion. Which of the following would you expect to increase in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Cardiac output"
      },
      {
        "id": 2,
        "text": "Urine output"
      },
      {
        "id": 3,
        "text": "Heart rate"
      },
      {
        "id": 4,
        "text": "Blood pressure"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>At <strong>lower doses </strong>(&lt; 2 &mu;g/kg), dopamine only stimulates dopamine&nbsp;receptors in renal vasculature, causing&nbsp;<strong>increased urine output</strong>.</p>\n<p>As the dose increases (2-5 &mu;g/kg), additional cardiac stimulant action (&beta;<sub>1</sub>) is also seen.</p>\n<p>At very high doses&nbsp;(5-15 &mu;g/kg), vasoconstriction (&alpha;<sub>1</sub>) is additionally seen.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Neostigmine is administered to a post-op patient to reverse neuromuscular blockade. What is its mechanism of action?",
    "choices": [
      {
        "id": 1,
        "text": "It blocks the action of acetylcholine"
      },
      {
        "id": 2,
        "text": "It interferes with the action of choline transferase"
      },
      {
        "id": 3,
        "text": "It interferes with the action of choline acetyl transferase"
      },
      {
        "id": 4,
        "text": "It interferes with the action of acetylcholine esterase"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Muscle weakness is improved by <strong>neostigmine</strong> as it <strong>interferes</strong> with the action of <strong>acetylcholine esterase.</strong></p>\n<p>Neostigmine is a&nbsp;<strong>cholinesterase inhibitor</strong>&nbsp;used mainly to improve muscle tone in people with myasthenia gravis, and also to reverse the effects of non-depolarizing muscle relaxants such as rocuronium and vecuronium at the end of an operation.&nbsp;</p>\n<p>Inhibition of acetylcholine esterase <strong>increases</strong> the <strong>acetylcholine</strong> levels in the <strong>synapse</strong> that can act on receptors over the large surface area and for longer periods of time, reducing the weakness.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/17de91627d8047d984a749fcc6eac33fx1280x2234.JPEG"
    ]
  },
  {
    "text": "Which of the following are not reasons for the alteration of drug dosage in the elderly?",
    "choices": [
      {
        "id": 1,
        "text": "They have decreasing renal function with age"
      },
      {
        "id": 2,
        "text": "They have loss of lean body mass"
      },
      {
        "id": 3,
        "text": "They have  increased baroreceptor sensitivity"
      },
      {
        "id": 4,
        "text": "Their total body water is decreased"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The reason for the <strong>alteration</strong> of <strong>drug dosage</strong> in the <strong>elderly</strong> is\u00a0<strong>decreased baroreceptor sensitivity</strong> due to age-related vascular stiffening.</p>\n<p>Reasons for the alteration of drug dosage in the elderly are:</p>\n<ul>\n<li>Progressive <strong>decline</strong> of <strong>renal function </strong>(option A)\u00a0</li>\n<li>Hepatic microsomal function is reduced, thus decreasing the metabolism of drugs with high hepatic extraction.</li>\n<li><strong>Loss </strong>of <strong>lean body mass </strong>and an<strong> </strong>increased ratio of fat to muscle (option B), leading to an<strong> </strong>increased volume of distribution (Vd) of lipophilic drugs\u00a0</li>\n<li><strong>Decreased body</strong> <strong>water</strong> (option D) causing decreased volume of distribution (Vd) of <strong>hydrophilic drugs</strong></li>\n<li>Slower absorption due to reduced gut motility.</li>\n<li>Decreased plasma albumin concentration leading to decreased plasma protein binding.<strong><br /></strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 64-year-old man was started on heparin postoperatively for thromboprophylaxis. After a week he developed sudden difficulty in breathing. His platelet count was found to be 70,000/microliter. Which of the following is incorrect regarding the management of this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Heparin should be discontinued immediately"
      },
      {
        "id": 2,
        "text": "Alternative anticoagulant such as argatroban should be administered"
      },
      {
        "id": 3,
        "text": "Low molecular weight heparins should be avoided"
      },
      {
        "id": 4,
        "text": "Heparin should be replaced with warfarin"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p style=\"text-align: justify;\">The patient in the above scenario has <strong>heparin-induced thrombocytopenia (HIT)</strong>. Direct thrombin inhibitors,&nbsp;such as <strong>argatroban&nbsp;</strong>is the anticoagulant of choice in HIT.</p>\n<p>Management of HIT:</p>\n<ul style=\"text-align: justify;\">\n<li class=\"p1\"><strong>Stop</strong> heparin/LMWH</li>\n<li class=\"p1\">Give an alternative anticoagulant, such as lepirudin, <strong>argatroban</strong>, bivalirudin, <strong>fondaparinux</strong> or rivaroxaban</li>\n<li class=\"p1\">Do not give platelet transfusions (it only worsens the consumptive coagulopathy)</li>\n<li class=\"p1\"><strong>Do not give warfarin</strong> until the platelet count returns to its baseline level. If warfarin was administered, give vitamin K to restore the INR to normal.</li>\n</ul>\n<p style=\"text-align: justify;\">Increased thrombin generation associated with HIT can cause consumption of protein C. <strong>Warfarin</strong> administration can <strong>further decrease protein C levels</strong> and cause <strong>skin necrosis</strong>. Therefore warfarin is avoided in HIT.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient who is on statin therapy asks about a new drug called evolocumab that his friend is taking for hyperlipidemia. What is the route of administration of this drug?",
    "choices": [
      {
        "id": 1,
        "text": "Intramuscular"
      },
      {
        "id": 2,
        "text": "Intradermal"
      },
      {
        "id": 3,
        "text": "Subcutaneous"
      },
      {
        "id": 4,
        "text": "Intravenous"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p style=\"text-align: left;\"><strong>Evolocumab </strong>is a <strong>PCSK-9 inhibitor </strong>that is&nbsp;administered as<strong>&nbsp;</strong>a <strong>subcutaneous</strong> injection.</p>\n<p style=\"text-align: left;\">PCSK-9 is a<strong>&nbsp;</strong>protease that binds to the LDL receptors on the surface of hepatocyte and enhances the lysosomal degradation of the LDL receptor. This results in higher plasma LDL levels. inhibition of PCSK-9 results in a <strong>reduction of plasma LDL</strong> levels.&nbsp;</p>\n<p style=\"text-align: left;\">Two approved PCSK-9 inhibitors are alirocumab and evolocumab.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is true about pegylated-filgrastim?",
    "choices": [
      {
        "id": 1,
        "text": "Duration of action is shorter than normal filgrastim"
      },
      {
        "id": 2,
        "text": "Added advantage is that it can be taken orally"
      },
      {
        "id": 3,
        "text": "It should not be administered in sickle cell patients"
      },
      {
        "id": 4,
        "text": "It is not effective in the treatment of severe neutropenia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p style=\"text-align: justify;\">Patients with sickle cell anemia should not receive pegylated filgrastim as it can&nbsp;trigger a <strong>sickle cell crisis.</strong></p>\n<p style=\"text-align: justify;\"><strong>Filgrastim&nbsp;</strong>is a recombinant human G-CSF (granulocyte colony-stimulating factor). The pegylated forms of filgrastim, pegfilgrastim, and lipefilgrastim, are longer-acting forms. It is administered subcutaneously or by slow intravenous infusion only.</p>\n<p style=\"text-align: justify;\">Indications of recombinant G-CSF:&nbsp; &nbsp;</p>\n<ul style=\"text-align: justify;\">\n<li>Severe neutropenia after autologous hematopoietic stem cell transplantation</li>\n<li>Severe neutropenia after high dose cancer chemotherapy</li>\n<li>Severe congenital neutropenias</li>\n<li>Neutropenia of patients with <strong>AIDS</strong> receiving <strong>zidovudine</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You are counseling a diabetic patient and teaching her the technique to self-administer insulin at home every day. Which of the following sites would you not suggest as the preferred site for insulin administration?",
    "choices": [
      {
        "id": 1,
        "text": "Anterior part of thigh"
      },
      {
        "id": 2,
        "text": "Lateral part of thigh"
      },
      {
        "id": 3,
        "text": "Buttocks"
      },
      {
        "id": 4,
        "text": "Medial part of thigh"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The medial part of the thigh is not a preferred site for insulin administration in patients. This is because of the relatively higher density of blood vessels and nerves in this area. Another consideration is that the inner thighs rub together while walking and may cause soreness at the injection sites.</p>\n<p>The <strong>preferred sites</strong> for insulin administration are:</p>\n<ul>\n<li>Upper arm</li>\n<li>Anterior and lateral aspects of the thigh</li>\n<li>Buttocks</li>\n<li>Abdomen (with the exception of a circle with a 2-inch radius around the navel)</li>\n</ul>\n<p><strong>Rotation</strong> of the injection site is important to <strong>prevent lipodystrophy</strong>. However, rotating <strong>within one area</strong> is recommended (e.g., rotating injections systematically within the abdomen) rather than rotating to a different area with each injection. This helps decrease variability in absorption from day to day.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/336c015a430f474d9d6818f4ee6c4336x472x449.PNG"
    ]
  },
  {
    "text": "Methemoglobinemia is caused by:",
    "choices": [
      {
        "id": 1,
        "text": "Procaine"
      },
      {
        "id": 2,
        "text": "Bupivacaine"
      },
      {
        "id": 3,
        "text": "Prilocaine"
      },
      {
        "id": 4,
        "text": "Ropivacaine"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Methemoglobinemia is caused by prilocaine.</p>\n<p>It is due to the metabolism of the aromatic ring of prilocaine to <strong>o-toluidine</strong> which is an <strong>oxidizing agent</strong> and oxidizes hemoglobin to methemoglobin.&nbsp;Methemoglobinemia risk is directly associated with the total dose administered, usually appearing when doses exceed 8 mg/kg.</p>\n<p>Intravenous administration of<strong> methylene blue</strong> is the <strong>treatment for methemoglobinemia.</strong></p>\n<p><strong>Benzocaine </strong>can also cause<strong> methemoglobinemia </strong>similar to prilocaine.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the mechanism of action of delamanid?",
    "choices": [
      {
        "id": 1,
        "text": "Inhibition of ATP synthase"
      },
      {
        "id": 2,
        "text": "Inhibition of mycolic acid synthesis"
      },
      {
        "id": 3,
        "text": "Inhibition of DNA gyrase"
      },
      {
        "id": 4,
        "text": "Inhibition of alanine racemase"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Delamanid</strong>&nbsp;acts by<strong>&nbsp;inhibiting mycolic acid synthesis</strong>.</p>\n<p>Pretomanid and delamanid are bicyclic nitroimidazoles that act by&nbsp;<strong>inhibiting mycolic acid</strong>&nbsp;(a component of the mycobacterial cell wall) and&nbsp;<strong>protein synthesis</strong>&nbsp;in the mycobacteria.</p>\n<p><strong>Pretomanid&nbsp;</strong>in combination with&nbsp;<strong>bedaquiline&nbsp;</strong>and<strong>&nbsp;linezolid</strong>&nbsp;was approved by FDA in 2019 for the treatment of adult patients with extensively drug-resistant<strong>&nbsp;(XDR) TB&nbsp;</strong>and for patients who are<strong>&nbsp;treatment</strong>-<strong>intolerant or nonresponsive</strong>&nbsp;to multidrug-resistant pulmonary (<strong>MDR</strong>)&nbsp;<strong>TB</strong>&nbsp;treatment.</p>\n<p>In India, delamanid is only approved for the management of MDR-TB.</p>\n<p><strong>Isoniazid</strong> also acts by inhibiting mycolic acid synthesis.</p>\n<p>Other options:</p>\n<p>Option A:&nbsp;<strong>Bedaquiline</strong>&nbsp;acts by&nbsp;<strong>inhibition of ATP synthase.&nbsp;</strong>It&nbsp;is a&nbsp;diarylquinoline that targets the<strong>&nbsp;subunit c&nbsp;</strong>of the ATP synthase of M. tuberculosis. This leads&nbsp;to inhibition of the proton pump activity of the ATP synthase and causes a failure in the bacillary energy metabolism.</p>\n<p>Option C: <strong>Fluoroquinolones</strong> act by inhibition of <strong>DNA gyrase. </strong>They are used as second-line agents in the treatment of tuberculosis.</p>\n<p>Option D:&nbsp;<strong>Cycloserine</strong>&nbsp;is a D-alanine analogue used as a second-line drug for MDR-TB that acts by&nbsp;<strong>inhibition of alanine racemase.</strong>&nbsp;Alanine racemase converts L-alanine to D-alanine which is needed for the mycobacterial cell wall.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A pregnant woman with hypertension, on treatment with methyldopa, comes for routine evaluation. She is found to have a positive Coombs test but is asymptomatic. What is the next course of action for this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Immediately stop methyldopa"
      },
      {
        "id": 2,
        "text": "Taper the dose of methyldopa"
      },
      {
        "id": 3,
        "text": "Monitor for signs of hemolysis"
      },
      {
        "id": 4,
        "text": "Switch to labetalol"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The best course of action for the patient is <strong>close monitoring</strong> for any signs or symptoms of <strong>hemolysis</strong>.</p>\n<p>Coombs test is done to test the presence of antibodies against Rh antigens on the red blood cells, which result in hemolysis. Positive Coombs test&nbsp;is seen in&nbsp;20% of patients who receive methyldopa.</p>\n<p>However, only&nbsp;1-5% of such patients develop hemolytic anemia and hence, a positive Coombs test is not a necessary indication for stopping methyldopa treatment.&nbsp;They must be monitored closely and any <strong>signs </strong>that indicate<strong>&nbsp;hemolytic anemia</strong> needs prompt <strong>discontinuation of the drug.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "'Me-too drugs' do not differ significantly in which of the following pharmacological features as compared to the prototypical drug?",
    "choices": [
      {
        "id": 1,
        "text": "Absorption"
      },
      {
        "id": 2,
        "text": "Metabolism"
      },
      {
        "id": 3,
        "text": "Mechanism of action"
      },
      {
        "id": 4,
        "text": "Elimination"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Me-too drugs </strong>are <strong>chemically related</strong> to the prototype<strong>&nbsp;</strong>or other chemical compounds that have an <strong>identical mechanism of action.&nbsp;</strong></p>\n<p>Various statins present in the market can be considered as \"Me-too drugs\". The pharmacokinetic parameters (absorption, distribution, metabolism, and elimination) vary significantly between them (atorvastatin and rosuvastatin have a very long duration of action), but the core mechanism of action remains the same: HMG CoA reductase inhibition and decrease in cholesterol synthesis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following organizations regulates the clinical trials and approval of investigational new drugs in India?",
    "choices": [
      {
        "id": 1,
        "text": "CPCSEA"
      },
      {
        "id": 2,
        "text": "CDSCO"
      },
      {
        "id": 3,
        "text": "FDA"
      },
      {
        "id": 4,
        "text": "DCGI"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p style=\"text-align: justify;\"><strong>Central Drug Standard Control Organisation</strong> (<strong>CDSCO</strong>)\u00a0regulates the <strong>clinical trials</strong> and <strong>approval</strong> of <strong>investigational new drugs</strong> in India.\u00a0</p>\n<p style=\"text-align: justify;\">The CDSCO is also responsible for laying down the standards for drugs, controlling the quality of imported drugs in the country and coordinating the activities of State Drug Control Organizations. The proposal for initiating trials, review of clinical trial results, and recommendations for marketing authorization is done through a committee called the <strong>Investigational New Drug</strong> (IND) <strong>Committee</strong> formed by CDSCO.\u00a0</p>\n<p style=\"text-align: justify;\">The Drugs Controller General of India<strong> (DCGI)</strong> is the head of the CDSCO, under the Ministry of Health and Family Welfare in India.\u00a0</p>\n<p style=\"text-align: justify;\"><strong>Preclinical trials</strong> are performed on<strong> animals, </strong>and they are regulated by guidelines prescribed by the\u00a0Committee for the Purpose of the Control and Supervision of Experiments on Animals <strong>(CPCSEA) </strong>in <strong>India</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An 18-year-old boy is brought to the casualty with complaints of swelling of his face and lips as shown in the image below. On further enquiry, it is noted that he has suffered from similar episodes in the past whenever he becomes emotional. He is prescribed icatibant. What is the likely mechanism of action of this drug?",
    "choices": [
      {
        "id": 1,
        "text": "Bradykinin B2 receptor agonist"
      },
      {
        "id": 2,
        "text": "Bradykinin B2 receptor antagonist"
      },
      {
        "id": 3,
        "text": "Bradykinin B1 receptor agonist"
      },
      {
        "id": 4,
        "text": "Bradykinin B1 receptor antagonist"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario and image showing swelling of the face and lips is suggestive of<strong>&nbsp;hereditary angioedema</strong>.<strong> Icatibant </strong>is a<strong> selective bradykinin B<sub>2</sub> receptor </strong>competitive <strong>antagonist</strong>&nbsp;indicated for the treatment of acute attacks of hereditary angioedema.</p>\n<p>The other drug which is approved for the treatment of&nbsp;acute attacks of hereditary angioedema is <strong>ecallantide&nbsp;</strong>which is a <strong>synthetic plasma kallikrein inhibitor</strong>. Both these drugs are <strong>administered subcutaneously</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5ec1504cc1c8408485f6e571e4ee5172.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The efficacy of which of the following antiplatelet drugs will be reduced, if omeprazole is used concurrently?",
    "choices": [
      {
        "id": 1,
        "text": "Clopidogrel"
      },
      {
        "id": 2,
        "text": "Prasugrel"
      },
      {
        "id": 3,
        "text": "Ticagrelor"
      },
      {
        "id": 4,
        "text": "Vorapaxar"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p style=\"text-align: justify;\"><strong>Clopidogrel </strong>is a prodrug that is converted into an&nbsp;active metabolite by the <strong>CYP2C19</strong> <strong>enzyme</strong> and<strong>&nbsp;</strong>omeprazole can reduce the efficacy of clopidogrel due to its <strong>CYP2C19 inhibitory activity.&nbsp;</strong></p>\n<p style=\"text-align: justify;\">Option B: Prasugrel is converted to its active metabolite mainly by <strong>other CYP enzymes</strong> and therefore omeprazole does not interfere in its activation.</p>\n<p style=\"text-align: justify;\">Option C: Ticagrelor does not require activation and is metabolized by the<strong> CYP3A4 enzyme.</strong>&nbsp;</p>\n<p style=\"text-align: justify;\">Option D: Vorapaxar is a thrombin receptor antagonist that is also metabolized by the <strong>CYP3A4 enzyme</strong>.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 57-year-old woman diagnosed with breast carcinoma was prescribed trastuzumab. Which of the following statements regarding this drug is true?",
    "choices": [
      {
        "id": 1,
        "text": "It is an antibody produced entirely from mouse containing no human component"
      },
      {
        "id": 2,
        "text": "It is a monoclonal antibody produced by injecting HER-2 antigen"
      },
      {
        "id": 3,
        "text": "It is a polyclonal antibody"
      },
      {
        "id": 4,
        "text": "It is a monoclonal antibody containing only human component"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Trastuzumab</strong> is a <strong>humanized monoclonal antibody</strong> against the external domain of <strong>HER2/neu.</strong> In humanized antibodies, all components are identical to human antibodies (95% human component), except the complementary region of the variable chain that <strong>contains sequences</strong> from<strong> other species</strong>.</p>\n<p>It&nbsp;is indicated in the management of <strong>adjuvant therapy</strong> in <strong>early</strong> and <strong>metastatic HER-2 positive breast cancer.</strong>&nbsp;</p>\n<div class=\"page\" title=\"Page 1213\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Human epidermal growth factor receptor 2 tyrosine kinase receptor (<strong>HER-2-TK</strong>) <strong>inhibitors</strong> are:</p>\n<ul>\n<li>Lapatinib</li>\n<li>Neratinib</li>\n</ul>\n<p><strong>Anti-Her-2 monoclonal antibodies</strong> are:</p>\n<ul>\n<li>Trastuzumab</li>\n<li>Pertuzumab</li>\n</ul>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A researcher who was studying plasmodium species decided to visit a malaria-endemic place in Odisha to do his clinical study for 5 weeks. He is planning to leave after 2 days.  Which of the following drugs can be taken as prophylaxis before visiting the malaria-endemic place?",
    "choices": [
      {
        "id": 1,
        "text": "Artesunate"
      },
      {
        "id": 2,
        "text": "Mefloquine"
      },
      {
        "id": 3,
        "text": "Doxycycline"
      },
      {
        "id": 4,
        "text": "Chloramphenicol"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Doxycycline</strong> can be taken as prophylaxis by the researcher before going to malaria-endemic places.</p>\n<p>Chemoprophylaxis against malaria for travelers:</p>\n<ul>\n<li>If the duration of travel is <strong>less than 6 weeks</strong> then <strong>doxycycline 100mg once a day</strong>&nbsp;is to be started <strong>2 days before</strong> travel and continued atleast 4 weeks after travel.</li>\n<li>If the duration of travel is<strong> more than 6 weeks</strong> then <strong>mefloquine 250mg once a week</strong>&nbsp;is to be started <strong>2 weeks before</strong> travel&nbsp;and continued atleast 4 weeks after travel.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In which of the following conditions is methotrexate not used?",
    "choices": [
      {
        "id": 1,
        "text": "Giant cell arteritis"
      },
      {
        "id": 2,
        "text": "Psoriasis"
      },
      {
        "id": 3,
        "text": "Sickle cell anemia"
      },
      {
        "id": 4,
        "text": "Organ transplantation"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Indications for methotrexate (inflammatory conditions) include:</p>\n<ul>\n<li>Rheumatoid arthritis</li>\n<li><strong>Psoriasis&nbsp;</strong></li>\n<li>Psoriatic arthritis</li>\n<li>Ankylosing spondylitis</li>\n<li>Polymyositis</li>\n<li>Dermatomyositis</li>\n<li>Wegener&rsquo;s granulomatosis</li>\n<li><strong>Giant cell arteritis&nbsp;</strong></li>\n<li>Systemic lupus erythematosus</li>\n<li>Other systemic vasculitis</li>\n<li><strong>Graft versus host disease associated with organ transplantation.</strong></li>\n</ul>\n<p>Sickle cell anemia appears to be the most appropriate answer among the options. Though small trials have shown positive results in sickle cell disease, it is neither extensively used nor approved for this indication.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the mechanism of action of colchicine?",
    "choices": [
      {
        "id": 1,
        "text": "Inhibits synthesis of uric acid"
      },
      {
        "id": 2,
        "text": "Promotes excretion of uric acid"
      },
      {
        "id": 3,
        "text": "Inhibits xanthine oxidase enzyme"
      },
      {
        "id": 4,
        "text": "Binds to tubulin and inhibits granulocyte migration"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p style=\"text-align: justify;\">Colchicine acts by binding to tubulin and inhibits granulocyte migration.</p>\n<p style=\"text-align: justify;\">Colchicine produces its anti-inflammatory effects by binding to the intracellular protein tubulin. This <strong>prevents</strong> the&nbsp;<strong>polymerization of tubulin </strong>into microtubules&nbsp;which is necessary for&nbsp;leukocyte migration and phagocytosis. Inhibition of microtubule formation prevents granulocyte migration and also <strong>arrests cell division at G<sub>1&nbsp;</sub></strong>phase.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Given below is the ECG of a patient who presented to the emergency room with sudden onset palpitations and breathlessness. Which of the following drugs can be used in this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Atropine"
      },
      {
        "id": 2,
        "text": "Mexiletine"
      },
      {
        "id": 3,
        "text": "Verapamil"
      },
      {
        "id": 4,
        "text": "Lidocaine"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The clinical scenario and the ECG findings are suggestive of&nbsp;<strong>paroxysmal supraventricular tachycardia</strong> (PSVT). <strong>Verapamil</strong> and <strong>diltiazem</strong> are used in both <strong>acute treatment</strong> and <strong>prophylaxis</strong> of PSVT.</p>\n<p>Their mechanism of action is by <strong>slowing SA node </strong>automaticity and<strong> AV nodal conduction velocity</strong>. Additionally, they also decrease cardiac contractility and reduce blood pressure.</p>\n<p>Dihydropyridines like nifedipine and amlodipine do not have any antiarrhythmic property.</p>\n<div class=\"O0\">Drugs used for <strong>supraventricular</strong> arrhythmias are:</div>\n<ul>\n<li class=\"O1\">Adenosine</li>\n<li class=\"O1\">Verapamil</li>\n<li class=\"O1\">Diltiazem</li>\n<li class=\"O1\">Digoxin</li>\n</ul>\n<div class=\"O1\">Drugs used for <strong>ventricular</strong> arrhythmias are:</div>\n<ul>\n<li class=\"O1\">Lidocaine&nbsp;</li>\n<li class=\"O1\">Mexiletine</li>\n</ul>\n<div class=\"O1\">Drugs used in <strong>both</strong> conditions are:</div>\n<ul>\n<li class=\"O1\">Amiodarone</li>\n<li class=\"O1\">Beta-blockers</li>\n<li class=\"O1\">Class 1A / 1C antiarrhythmics</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b062624679194d43acf969ad9e87358a.GIF"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/16c4534451f244bf9c43d74c07268356x510x812.PNG"
    ]
  },
  {
    "text": "A 33-year-old man with a history of heroin addiction is referred to a rehabilitation center. Which of the following would you use as a substitute drug for maintenance therapy?",
    "choices": [
      {
        "id": 1,
        "text": "Methylmorphine"
      },
      {
        "id": 2,
        "text": "Methadone"
      },
      {
        "id": 3,
        "text": "Meperidine"
      },
      {
        "id": 4,
        "text": "Methylphenidate"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Methadone</strong>&nbsp;is used as a substitute drug for the <strong>maintenance</strong>&nbsp;therapy of opioid (heroin) dependence. This is because of its <strong>good oral bioavailability</strong> and <strong>long half-life</strong>.&nbsp;</p>\n<p>Methadone is substituted for opioids during detoxification<strong> to avoid withdrawal</strong> symptoms.&nbsp;Once stabilized, the dose is gradually reduced and the drug is stopped slowly over days.&nbsp;</p>\n<p>Due to its long half-life and accumulation in tissues, discontinuing the drug still results in low concentrations of the drug in plasma resulting in protracted withdrawal symptoms.</p>\n<p>Maintainance therapy for opioid dependence:</p>\n<ul>\n<li>Long-acting opioid agonist - a safer substitute like <strong>methadone</strong> is given in a supervised manner to <strong>prevent&nbsp;withdrawal</strong> symptoms</li>\n<li>Partial agonist -&nbsp;<strong>buprenorphine</strong> can also be used</li>\n<li><strong>Clonidine, lofexidine</strong> - alpha-2 agonists act as sympatholytic and <strong>reduce the withdrawal</strong> symptoms</li>\n<li><strong>LAAM</strong>(L-Alpha-Acetyl-Methadol) - opioid agonist which <strong>reduces craving</strong></li>\n<li><strong>Naltrexone -</strong>&nbsp;is an opioid antagonist used in&nbsp;maintenance therapy to&nbsp;<strong>prevent relapses</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is false regarding the use of selegiline in Parkinsonism?",
    "choices": [
      {
        "id": 1,
        "text": "It acts as a selective MAO A inhibitor"
      },
      {
        "id": 2,
        "text": "Incidence of cheese reaction is minimal"
      },
      {
        "id": 3,
        "text": "May be used for on / off phenomenon"
      },
      {
        "id": 4,
        "text": "It forms amphetamines as metabolites"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Selegiline </strong>acts as a selective<strong> MAO-B inhibitor.</strong></p>\n<p>At <strong>higher doses, MAO-A</strong> can also be <strong>inhibited.</strong> Higher doses are used for depression and administered in the form of the <strong>transdermal patch.</strong>&nbsp;</p>\n<p>Option B: Selective MAO-B inhibitors do not interfere significantly with the peripheral metabolism of dietary amines and do not cause cheese reaction.</p>\n<p>Option C: &nbsp;It has lower efficacy than levodopa but when added with levodopa it prolongs its action and also decreases the wearing-off effect of levodopa.</p>\n<p>Option D:&nbsp;Selegiline forms metabolites like amphetamine and methamphetamine that can result in anxiety, insomnia, and other undesirable effects.&nbsp;<strong>Rasagiline</strong>, unlike selegiline, <strong>does not</strong> form amphetamines as metabolites.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following can cause diarrhea?",
    "choices": [
      {
        "id": 1,
        "text": "Sodium bicarbonate"
      },
      {
        "id": 2,
        "text": "Magnesium hydroxide"
      },
      {
        "id": 3,
        "text": "Calcium bicarbonate"
      },
      {
        "id": 4,
        "text": "Aluminium hydroxide"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Magnesium salts</strong> have a <strong>laxative</strong> property and can cause <strong>diarrhoea</strong>.</p>\n<p><strong>Aluminium salts</strong> can cause <strong>constipation</strong> by relaxing smooth muscles.&nbsp;</p>\n<p>The<strong> combination</strong> of aluminium and magnesium salts can <strong>neutralize </strong>each other&rsquo;s action, thus the combination is preferred.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following quinolones is not approved for use in a patient diagnosed with urinary tract infection?",
    "choices": [
      {
        "id": 1,
        "text": "Nalidixic acid"
      },
      {
        "id": 2,
        "text": "Ciprofloxacin"
      },
      {
        "id": 3,
        "text": "Moxifloxacin"
      },
      {
        "id": 4,
        "text": "Norfloxacin"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Moxifloxacin <strong>does not accumulate significantly in urine</strong> and is not approved for the treatment of urinary tract infections (UTIs).</p>\n<p>UTIs are the only indication for the use of nalidixic acid.&nbsp;Ciprofloxacin and norfloxacin can be used in UTIs caused by susceptible organisms.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You are studying the susceptibility of Streptococci to bacitracin in the lab. What is the site of action of this drug?",
    "choices": [
      {
        "id": 1,
        "text": "Cell wall"
      },
      {
        "id": 2,
        "text": "Cell membrane"
      },
      {
        "id": 3,
        "text": "Nucleic acid"
      },
      {
        "id": 4,
        "text": "Ribosome"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p style=\"text-align: justify;\"><strong>Bacitracin</strong> acts on the cell wall by<strong> inhibiting</strong> the<strong> synthesis </strong>of the<strong> cell wall</strong>.</p>\n<p style=\"text-align: justify;\">It interferes with the dephosphorylation of bactoprenol (lipid carrier) which carries peptidoglycan subunits outside the cell membrane to the growing cell wall. It&nbsp;can also alter the integrity of the cell membrane.</p>\n<p style=\"text-align: justify;\">Bacitracin is mainly active against <strong>gram-positive cocci and bacilli</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is more likely to precipitate angina?",
    "choices": [
      {
        "id": 1,
        "text": "Amlodipine"
      },
      {
        "id": 2,
        "text": "Nifedipine"
      },
      {
        "id": 3,
        "text": "Diltiazem"
      },
      {
        "id": 4,
        "text": "Verapamil"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Amongst the given calcium channel blockers,<strong> nifedipine </strong>is more likely to<strong> precipitate angina.</strong></p>\n<p><strong>Nifedipine </strong>is a dihydropyridine calcium channel blocker having a<strong> rapid onset </strong>and<strong> short duration of action.</strong>&nbsp;It results in an abrupt decrease in blood pressure resulting in <strong>reflex tachycardia</strong>. Increased contractility leads to an <strong>increase in O<sub>2</sub> demand</strong> which may precipitate angina.</p>\n<p>Option A: Amlodipine and extended-release preparations of nifedipine do not cause a steep fall in blood pressure and subsequent activation of sympathetic tone. Therefore, they are less likely to precipitate angina.&nbsp;</p>\n<p>Options C and D: Verapamil and diltiazem have relatively less action on peripheral vascular smooth muscles. They have a direct inhibitory effect on cardiac tissue causing <strong>negative ionotropic effect</strong> (verapamil &gt; diltiazem).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An elderly patient who was taken up for an emergency laparotomy showed prolonged respiratory depression which did not resolve with neostigmine.  On inquiry, the attendant confirmed that the patient was on aminoglycoside therapy. Which of the following is least likely to cause this effect?",
    "choices": [
      {
        "id": 1,
        "text": "Amikacin"
      },
      {
        "id": 2,
        "text": "Kanamycin"
      },
      {
        "id": 3,
        "text": "Gentamicin"
      },
      {
        "id": 4,
        "text": "Tobramycin"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given scenario depicts the&nbsp;<strong>neuromuscular blockade</strong>&nbsp;effect of aminoglycosides, and<strong>&nbsp;tobramycin</strong> has the least potency for blockade in this group.</p>\n<p>Decreasing order of potency for the neuromuscular blockade is:</p>\n<p>Neomycin &gt;&nbsp;Kanamycin &gt; Amikacin &gt; Gentamicin &gt; <strong>Tobramycin</strong></p>\n<p>It is a recognized clinical side effect of aminoglycoside antibiotics, and this effect becomes significant (prolonged respiratory depression) when the drug is used in conjunction with <strong>neuromuscular blocking agents</strong> or <strong>calcium channel blockers</strong>. They are avoided in patients with myasthenia gravis.</p>\n<p>Aminoglycosides cause neuromuscular blockade by <strong>interfering with calcium channels</strong> and thereby&nbsp;<strong>inhibiting</strong> <strong>acetylcholine's</strong>&nbsp;pre-junctional release and post-junctional sensitivity. The neuromuscular blockade produced by these antibiotics is not reversed by neostigmine but is <strong>reversed by IV calcium gluconate.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following antineoplastic agents is extracted from the plant shown below?",
    "choices": [
      {
        "id": 1,
        "text": "Epothilones"
      },
      {
        "id": 2,
        "text": "Camptothecin analogs"
      },
      {
        "id": 3,
        "text": "Vinca alkaloids"
      },
      {
        "id": 4,
        "text": "Taxanes"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The image shown is of the<strong> periwinkle plant&nbsp;</strong>(<em>Catharanthus roseus)</em>. Vinca alkaloids like vinblastine and vincristine are extracted from this plant.</p>\n<p>Sources&nbsp;of few other drugs are:</p>\n<ul>\n<li>Epothilones - Myxobacterium <em>Sorangium cellulosum</em></li>\n<li>Camptothecin analogs -&nbsp;<em>Camptotheca acuminata&nbsp;</em>tree</li>\n<li>Taxanes - bark of the western yew tree.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/8cfcd125db234466ab771d63e1ead398.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A study was conducted to genotype NAT2 gene polymorphisms in patients receiving ATT. Among the 300 patients genotyped, 200 were slow acetylators (group A), 70 were intermediate (group B) and 30 were fast acetylators (group C). Patients in group A are prone to develop which of the following?",
    "choices": [
      {
        "id": 1,
        "text": "Failure of therapy"
      },
      {
        "id": 2,
        "text": "Peripheral neuropathy"
      },
      {
        "id": 3,
        "text": "Hepatotoxicity"
      },
      {
        "id": 4,
        "text": "Allergic reactions"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Isoniazid,&nbsp;</strong>a key agent in the ATT,<strong>&nbsp;</strong>is metabolized primarily through<strong> N-acetylation</strong> by the genetically polymorphic N-acetyltransferase-2 <strong>(NAT2) </strong>enzyme. <strong>Slow acetylators</strong>&nbsp;(group A) of isoniazid are prone to develop <strong>peripheral neuropathy</strong>.</p>\n<p class=\"p1\">The rate of metabolism of isoniazid is determined by the genetic polymorphism of NAT2 enzyme and&nbsp;classified broadly into two groups -&nbsp;<strong>slow </strong>and<strong> fast acetylators</strong>.</p>\n<p class=\"p1\">In&nbsp;<strong>slow acetylators, </strong>the drug <strong>accumulates </strong>due to slow metabolism resulting in<strong>&nbsp;</strong>an increased risk of<strong>&nbsp;side effects, </strong>and hence they should undergo periodic monitoring. Peripheral neuropathy is a more frequent side effect of INH when compared to hepatotoxicity.</p>\n<p class=\"p1\"><strong>Fast acetylators</strong>&nbsp;metabolize the drug rapidly and <strong>show less response </strong>to standard doses and the therapy may be less effective.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A post-menopausal lady who is taking estrogen as part of her hormone replacement therapy reads about raloxifene on the internet and wants to change her current treatment. Which of the following is not an advantage of using raloxifene over estrogen?",
    "choices": [
      {
        "id": 1,
        "text": "Reduces fracture rates"
      },
      {
        "id": 2,
        "text": "Avoids endometrial hyperplasia"
      },
      {
        "id": 3,
        "text": "Reduces incidence of venous thrombosis"
      },
      {
        "id": 4,
        "text": "No increase in incidence of breast carcinoma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<div class=\"page\" title=\"Page 818\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Raloxifene causes a <strong>3-fold increase in deep vein thrombosis</strong> and pulmonary embolism.</p>\n<p>It is a selective estrogen receptor modulator&nbsp;<strong>(SERM)</strong> with the following actions:</p>\n</div>\n</div>\n</div>\n</div>\n<ul>\n<li><strong>Agonist </strong>actions<strong>:</strong>\n<ul>\n<li>Bone - increases bone mineral density and reduces the risk of vertebral fracture</li>\n<li>Lipids - increases the risk of deep vein thrombosis and pulmonary embolism.</li>\n</ul>\n</li>\n<li><strong>Antagonist </strong>actions<strong>:</strong>\n<ul>\n<li>Breast - incidence of breast carcinoma is reduced&nbsp;</li>\n<li>Uterus - endometrial hyperplasia is avoided</li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with recent-onset primary generalized epilepsy develops a skin reaction due to phenytoin sodium. What is the most appropriate course of action?",
    "choices": [
      {
        "id": 1,
        "text": "Switch to clonazepam"
      },
      {
        "id": 2,
        "text": "Stop and restart phenytoin sodium after two weeks"
      },
      {
        "id": 3,
        "text": "Switch to sodium valproate"
      },
      {
        "id": 4,
        "text": "Switch to ethosuximide"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p style=\"text-align: left;\"><strong>Hypersensitivity reaction</strong> to<strong> phenytoin&nbsp;</strong>warrants <strong>discontinuation</strong> of the drug.&nbsp;<strong>Switching</strong> to <strong>sodium valproate</strong> is the most appropriate course of action for this patient.&nbsp;</p>\n<p style=\"text-align: left;\"><strong>Sodium valproate</strong> is one of the first-line agents indicated for<strong> GTCS. Clonazepam</strong> and <strong>ethosuximide</strong> are primarily used in <strong>absence seizures</strong> and are not indicated for GTCS.&nbsp;</p>\n<p style=\"text-align: left;\">Clonazepam is indicated as <strong>adjunctive therapy</strong> in the absence seizures when first-line agents (ethosuximide, sodium valproate, lamotrigine) fail to control the seizures adequately.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient requires the shortest acting formulation of insulin to prevent postprandial hyperglycemia. Which of the following formulations would you choose?",
    "choices": [
      {
        "id": 1,
        "text": "Insulin lispro"
      },
      {
        "id": 2,
        "text": "Insulin aspart"
      },
      {
        "id": 3,
        "text": "Regular insulin"
      },
      {
        "id": 4,
        "text": "Inhaled insulin"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Inhaled insulin</strong>&nbsp;is the <strong>shortest acting</strong> formulation of <strong>insulin</strong>.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with superficial bladder carcinoma is being treated with a drug by intravesical therapy. Identify this drug.",
    "choices": [
      {
        "id": 1,
        "text": "Actinomycin"
      },
      {
        "id": 2,
        "text": "Mitomycin"
      },
      {
        "id": 3,
        "text": "Cisplatin"
      },
      {
        "id": 4,
        "text": "Vincristine"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Mitomycin C</strong> is used in the treatment of superficial transitional cell carcinoma by intravesical instillation. It is also used in upper gastrointestinal cancers (e.g. esophageal carcinoma), anal cancers, and breast cancers.</p>\n<p>Topical mitomycin C is used in:</p>\n<ul>\n<li>Superficial bladder cancer</li>\n<li>Intraperitoneal tumors</li>\n<li>Strabismus surgery to reduce scarring</li>\n<li>To prevent tracheal and esophageal stenosis</li>\n<li>Post nasal surgery synechae formation</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient presents with watery diarrhea, fever and abdominal pain. Investigations reveal a WBC count of 16,000 cells/microL. The patient has been on treatment with ampicillin for a few days. Which of the following antibiotics is approved for use in this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Azithromycin"
      },
      {
        "id": 2,
        "text": "Roxithromycin"
      },
      {
        "id": 3,
        "text": "Fidaxomicin"
      },
      {
        "id": 4,
        "text": "Clindamycin"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The scenario is suggestive of <strong>pseudomembranous colitis</strong> caused by <em>Clostridium difficile</em> and <strong>fidaxomicin</strong>&nbsp;is a macrocyclic antibiotic that is indicated as an alternative to vancomycin in<strong> severe</strong> and<strong> recurring <em>Clostridium difficile</em> infections.</strong></p>\n<p>It acts by <strong>inhibiting protein synthesis</strong> through the blockade of RNA polymerase.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The elimination after 3 half-lives in first-order kinetics is around:",
    "choices": [
      {
        "id": 1,
        "text": "12.5%"
      },
      {
        "id": 2,
        "text": "75%"
      },
      {
        "id": 3,
        "text": "87.5%"
      },
      {
        "id": 4,
        "text": "94%"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The proportion of drug eliminated after three half-lives in first-order kinetics is around <strong>87.5%</strong>.\u00a0</p>\n<p>After <strong>each half-life, 50%</strong> of the drug is <strong>eliminated</strong> or the plasma concentration becomes half the original value.</p>\n<p>Therefore, after,\u00a0</p>\n<ul>\n<li>1 half-life = 50% drug is eliminated</li>\n<li>2 half-lives = 75% drug is eliminated</li>\n<li>3 half-lives = 87.5%\u00a0is eliminated</li>\n<li>4 half-lives = 93% is eliminated</li>\n</ul>\n<p>Thus, about 4-5 half lives are required for near-complete drug elimination.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient is to be started on a cephalosporin antibiotic. His serum creatinine levels yesterday at the time of admission was 1.1 mg/dl and now it is 1.5 mg/dl. Which of the following cephalosporins can be started without dose reduction in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Cefuroxime"
      },
      {
        "id": 2,
        "text": "Cefoperazone"
      },
      {
        "id": 3,
        "text": "Ceftazidime"
      },
      {
        "id": 4,
        "text": "Cefotaxime"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given scenario is suggestive of <strong>acute kidney injury</strong>&nbsp;and the cephalosporin that does not require dose reduction in this patient is <strong>cefoperazone</strong>.</p>\n<p>All cephalosporins are usually excreted by glomerular filtration and tubular secretion. They need a dose reduction in renal failure, except<strong> cefpiramide </strong>and&nbsp;<strong>cefoperazone</strong> that have <strong>predominant biliary excretion</strong>.</p>\n<p>Dose reduction is necessary for cefoperazone and cefpiramide in patients with <strong>hepatic impairment</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Sugammadex is a reversal agent for:",
    "choices": [
      {
        "id": 1,
        "text": "Neostigmine"
      },
      {
        "id": 2,
        "text": "Atropine"
      },
      {
        "id": 3,
        "text": "Rocuronium"
      },
      {
        "id": 4,
        "text": "Glycopyrrolate"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Sugammadex</strong> is a<strong> reversal agent </strong>for <strong>rocuronium</strong> and <strong>vecuronium.</strong></p>\n<p>Sugammadex binds to plasma rocuronium and thus decreases the plasma concentration of rocuronium. This forms a concentration gradient of rocuronium due to which it moves from the neuromuscular junction back into the circulation where it quickly bound by free sugammadex. It is not recommended to be used in patients who have severe renal impairment.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Subfamily of CYP3A4 is _______",
    "choices": [
      {
        "id": 1,
        "text": "CYP"
      },
      {
        "id": 2,
        "text": "A"
      },
      {
        "id": 3,
        "text": "3"
      },
      {
        "id": 4,
        "text": "4"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The <strong>sub-family</strong> of <strong>CYP3A4</strong> is <strong>A</strong>.</p>\n<p>In CYP enzymes nomenclature, the root CYP is followed by a number designating the family, a letter denoting the subfamily and another number designating the gene. Therefore, in CYP3A4:</p>\n<ul>\n<li>3 - family&nbsp;</li>\n<li>A - subfamily A</li>\n<li>4 - individual gene coding for one specific isoenzyme</li>\n</ul>\n<p>There are numerous CYP isoenzymes in humans. Among them,&nbsp;<strong>CYP3A4&nbsp;</strong>is the<strong>&nbsp;most abundant</strong>&nbsp;and carries out the metabolism of nearly <strong>50%</strong> of <strong>clinically used</strong> drugs.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 60-year-old man presents to the OPD with complaints of bluish discoloration of the skin on the sun-exposed areas. He has been on medication for monomorphic ventricular tachycardia for the past 3 years. Which drug is most likely implicated in this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Lidocaine"
      },
      {
        "id": 2,
        "text": "Adenosine"
      },
      {
        "id": 3,
        "text": "Amiodarone"
      },
      {
        "id": 4,
        "text": "Mexiletine"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p style=\"text-align: justify;\">The scenario is suggestive of&nbsp;<strong>blue man syndrome </strong>which<strong>&nbsp;</strong>is most likely caused by&nbsp;<strong>amiodarone.</strong></p>\n<p style=\"text-align: justify;\">One of the side effects of amiodarone is <strong>photosensitivity</strong>.<strong>&nbsp;</strong>In some cases, bluish discoloration of the skin is seen, predominantly in the sun-exposed areas. This could be due to the <strong>immune response in dermal layers</strong> by amiodarone or the accumulation of amiodarone in superficial layers of skin.</p>\n<p style=\"text-align: justify;\">The symptoms are <strong>reversible</strong> on drug discontinuation. The syndrome is related to both dose and photosensitivity.</p>\n<p style=\"text-align: justify;\">The side effects of amiodarone include:</p>\n<ul>\n<li style=\"text-align: justify;\">Pulmonary fibrosis</li>\n<li style=\"text-align: justify;\">Hypotension, depressed ventricular function</li>\n<li style=\"text-align: justify;\">Torsades de pointes</li>\n<li style=\"text-align: justify;\">Corneal microdeposits</li>\n<li style=\"text-align: justify;\">Hepatotoxicity</li>\n<li style=\"text-align: justify;\">Neuropathies</li>\n<li style=\"text-align: justify;\">Photosensitivity</li>\n<li style=\"text-align: justify;\">Thyroid dysfunction</li>\n</ul>\n<p style=\"text-align: justify;\">Other such syndromes associated with drugs are:</p>\n<ul>\n<li style=\"text-align: justify;\">Red man syndrome - Vancomycin</li>\n<li style=\"text-align: justify;\">Gray baby syndrome -&nbsp;Chloramphenicol</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following ACE inhibitors is not a prodrug?",
    "choices": [
      {
        "id": 1,
        "text": "Fosinopril"
      },
      {
        "id": 2,
        "text": "Enalapril"
      },
      {
        "id": 3,
        "text": "Ramipril"
      },
      {
        "id": 4,
        "text": "Lisinopril"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Lisinopril</strong> is not a prodrug.</p>\n<p>All ACE inhibitors are prodrugs except lisinopril and <strong>captopril.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is pegloticase used for?",
    "choices": [
      {
        "id": 1,
        "text": "Chronic gout"
      },
      {
        "id": 2,
        "text": "Rheumatoid arthritis"
      },
      {
        "id": 3,
        "text": "Psoriatric arthritis"
      },
      {
        "id": 4,
        "text": "Paralytic ileus"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Pegloticase</strong> is used in the treatment of <strong>chronic gout.</strong></p>\n<div class=\"page\" title=\"Page 711\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Pegloticase is a <strong>pegylated uricase</strong> (urate oxidase). It catalyzes the enzymatic oxidation of <strong>uric acid into allantoin</strong>, which is a more soluble and inactive metabolite.</p>\n<p>It is used in the treatment of <strong>severe</strong>,&nbsp;<strong>refractory chronic gout</strong> or in cases where other urate-lowering therapies are contraindicated.</p>\n</div>\n</div>\n</div>\n</div>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the current GINA recommendation for the prescription of long-acting \u03b2-2 agonists in patients suffering from bronchial asthma?",
    "choices": [
      {
        "id": 1,
        "text": "As monotherapy"
      },
      {
        "id": 2,
        "text": "In combination with an inhaled anticholinergic"
      },
      {
        "id": 3,
        "text": "In combination with an inhaled corticosteroid"
      },
      {
        "id": 4,
        "text": "In combination with a short acting \u03b2-2 agonist"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p style=\"text-align: left;\"><strong>LABA</strong> is used in <strong>combination </strong>with<strong> inhalational corticosteroids</strong>&nbsp;(ICS),<strong>&nbsp;</strong>preferably in the form of a combination inhaler.</p>\n<p style=\"text-align: left;\">LABA is never taken alone as it does not treat the underlying chronic inflammation of asthma. Corticosteroids&nbsp;will decrease the underlying inflammation and halt the progression of the disease.</p>\n<p style=\"text-align: left;\">Short-acting &beta;-2 agonists (<strong>SABA</strong>) can be given as an add-on therapy to the LABA-ICS combination (<strong>as-needed therapy</strong>).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A sanitation worker presented with complaints of blurred vision, breathing difficulty and muscle weakness. He gave a history of spraying malathion this morning. You administer pralidoxime as an antidote. What is the mechanism of action of this drug?",
    "choices": [
      {
        "id": 1,
        "text": "Stimulation of ACh receptors"
      },
      {
        "id": 2,
        "text": "Inhibition of breakdown of ACh"
      },
      {
        "id": 3,
        "text": "Blockade of ACh receptors"
      },
      {
        "id": 4,
        "text": "Reactivation of AChE enzyme"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Pralidoxime<strong>&nbsp;reactivates cholinesterase,&nbsp;</strong>which would have been deactivated by phosphorylation caused by malathion.</p>\n<p><strong>Pralidoxime</strong> attaches to the anionic site of the enzyme that remains unoccupied. Then it<strong> reacts </strong>with the <strong>phosphorus atom</strong>&nbsp;of the organophosphorous compound which is attached to the esteric site to form a<strong> phospho-oxime complex. </strong>It then dissociates from the enzyme, regenerating the active enzyme.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following drugs approach zero-order kinetics at higher therapeutic levels?",
    "choices": [
      {
        "id": 1,
        "text": "Penicillin"
      },
      {
        "id": 2,
        "text": "Phenytoin"
      },
      {
        "id": 3,
        "text": "Valproate"
      },
      {
        "id": 4,
        "text": "Carbamazepine"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Phenytoin</strong> kinetics changes from <strong>first-order to zero-order</strong> kinetics at <strong>higher therapeutic</strong> levels.</p>\n<p><strong>True zero-order</strong> kinetics is shown only by <strong>ethanol</strong>. Some drugs have first-order kinetics at low plasma concentrations while at higher plasma concentration (within therapeutic range), the mechanism for elimination gets saturated and they change over to zero-order kinetics.</p>\n<p>Drugs that show <strong>early saturation kinetics</strong>\u00a0include:\u00a0</p>\n<ul>\n<li>Warfarin</li>\n<li>Aspirin</li>\n<li>Theophylline</li>\n<li>Verapamil</li>\n<li>Fluoxetine</li>\n<li>Phenytoin</li>\n</ul>\n<p>Some drugs show zero-order kinetics at much higher (non-therapeutic / toxic) levels.</p>\n<p>All the other options exhibit first order kinetics.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following drugs causes activation of K+-ATP channels?",
    "choices": [
      {
        "id": 1,
        "text": "Nicorandil"
      },
      {
        "id": 2,
        "text": "Molsidomine"
      },
      {
        "id": 3,
        "text": "Isosorbide dinitrate"
      },
      {
        "id": 4,
        "text": "Nitroglycerin"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Nicorandil</strong> causes activation of <strong>K<sup>+</sup>-ATP channels.&nbsp;</strong>This leads to the hyperpolarization of the smooth muscle cells leading to <strong>vasodilatation</strong>.</p>\n<p>It also has nitrate like <strong>cGMP dependent action</strong>. Nicorandil dilates both arteries and veins leading to a decrease in afterload and preload of the heart.</p>\n<p>Molsidomine, isosorbide dinitrate, and nitroglycerin are nitrates. They do not act on K-ATP channels.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You observe a nurse administering an intramuscular injection to a patient in the clinic. Which of the following was likely being administered to the patient?",
    "choices": [
      {
        "id": 1,
        "text": "Test dose of drugs"
      },
      {
        "id": 2,
        "text": "Tetanus toxoid"
      },
      {
        "id": 3,
        "text": "BCG vaccine"
      },
      {
        "id": 4,
        "text": "Low molecular weight heparin"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Tetanus toxoid</strong><strong>\u00a0</strong>is likely to be administered <strong>intramuscularly</strong>.</p>\n<p>The <strong>intramuscular</strong> <strong>route</strong> (IM) of drug administration is mostly given in the <strong>deltoid</strong>, <strong>gluteal region,</strong> and <strong>anterolateral aspect </strong>of the <strong>thigh</strong> where the muscle is bulkier. This route <strong>bypasses</strong> the <strong>first-pass metabolism</strong> and reaches systemic circulation quickly.\u00a0</p>\n<p>This method is suitable for moderate volumes, oily vehicles, and some irritating substances. <strong>Absorption</strong> of drugs in an aqueous solution after IM injection depends on the <strong>rate </strong>of <strong>blood flow</strong> to the injection site and can be <strong>relatively rapid</strong>. Thus, the injections given in the gluteal region are relatively more slowly absorbed in females than in males. Depot injections may produce slow and prolonged action.\u00a0</p>\n<p>The<strong>\u00a0Z-track technique</strong>\u00a0is used for intramuscular injections in which the needle is inserted at <strong>90 degrees</strong> with a quick darting movement. This prevents skin staining\u00a0through the tract to the surface of the skin. Pain intensity\u00a0is also\u00a0reduced.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/95f332d3004e48e6a476a371eecd59f0x1280x2717.JPEG"
    ]
  },
  {
    "text": "A patient on intravenous vancomycin develops flushing and erythematous lesions. On examination, tachycardia, and hypotension are noted. By what mechanism does vancomycin cause these effects?",
    "choices": [
      {
        "id": 1,
        "text": "Allergic reaction"
      },
      {
        "id": 2,
        "text": "Direct toxic effect on mast cells"
      },
      {
        "id": 3,
        "text": "Histamine antagonist action"
      },
      {
        "id": 4,
        "text": "Immune-complex deposition"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given scenario depicts <strong>red man syndrome</strong> associated with <strong>vancomycin.&nbsp;</strong>It occurs due to&nbsp;a<strong> direct toxic effect</strong> on<strong> mast cells </strong>resulting in the release of<strong> histamine.</strong></p>\n<p>Red man or red neck syndrome is a <strong>non-allergic reaction</strong> due to<strong> rapid intravenous infusion</strong> of vancomycin characterized by:&nbsp;</p>\n<ul>\n<li>Flushing</li>\n<li>Erythematous, urticarial reactions</li>\n<li>Tachycardia</li>\n<li>Hypotension</li>\n</ul>\n<p>Slow infusion, prophylactic use of antihistamines can reduce the incidence.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The action of digoxin will not be affected in which of the following patients?",
    "choices": [
      {
        "id": 1,
        "text": "43-year-old man with chronic liver disease"
      },
      {
        "id": 2,
        "text": "30-year-old woman with electrolyte disturbances"
      },
      {
        "id": 3,
        "text": "82-year-old man with renal failure"
      },
      {
        "id": 4,
        "text": "60-year-old woman with myocardial infarction"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The action of digoxin is not affected in chronic liver disease.&nbsp;</p>\n<p>Option B:&nbsp;<strong>Electrolyte disturbances</strong> like hypokalemia, hypomagnesemia, and hypercalcemia&nbsp;<strong>increase digitalis toxicity.</strong></p>\n<p>Option C: Digoxin is<strong>&nbsp;excreted </strong>unchanged primarily by<strong> kidneys</strong>&nbsp;by glomerular filtration. Therefore, <strong>dose adjustment</strong> of digoxin has to be done in&nbsp;<strong>renal failure</strong>.</p>\n<p>Option D: Chances of arrhythmias increases manifold in post-MI duration. Hence, it is generally avoided post-MI as <strong>digitalis</strong> itself <strong>causes arrhythmias</strong>.</p>\n<table style=\"width: 291px;\">\n<tbody>\n<tr>\n<td style=\"width: 71px;\">&nbsp;</td>\n<td style=\"width: 74px;\"><strong>Digitoxin&nbsp;</strong></td>\n<td style=\"width: 138px;\"><strong>Digoxin&nbsp;</strong></td>\n</tr>\n<tr>\n<td style=\"width: 71px;\">Oral absorption&nbsp;</td>\n<td style=\"width: 74px;\">Very good (90-100%)&nbsp;</td>\n<td style=\"width: 138px;\">Good ( 60-80%)&nbsp;i/v also&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 71px;\">Plasma protein binding&nbsp;&nbsp;</td>\n<td style=\"width: 74px;\">95%&nbsp;</td>\n<td style=\"width: 138px;\">25%&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 71px;\">Elimination&nbsp;</td>\n<td style=\"width: 74px;\">Hepatic metabolism&nbsp;</td>\n<td style=\"width: 138px;\">Renal excretion (by glomerular filtration)&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 71px;\">Dose adjustment in&nbsp;</td>\n<td style=\"width: 74px;\">Liver failure&nbsp;</td>\n<td style=\"width: 138px;\">Kidney failure&nbsp;</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The mechanism of action of pitolisant is:",
    "choices": [
      {
        "id": 1,
        "text": "H3 receptor inverse agonism"
      },
      {
        "id": 2,
        "text": "H1 receptor inverse agonism"
      },
      {
        "id": 3,
        "text": "H3 receptor agonism"
      },
      {
        "id": 4,
        "text": "H1 receptor agonism"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Pitolisant is an <strong>H3 receptor inverse agonist.</strong></p>\n<p>It has been recently approved by the FDA for the treatment of <strong>excessive daytime sleepiness in adults with narcolepsy.</strong></p>\n<p>Contraindications:</p>\n<ul>\n<li>End-stage renal disease</li>\n<li>Severe hepatic impairment</li>\n</ul>\n<p>Other drugs used for the treatment of daytime sleepiness are:</p>\n<ul>\n<li>Modafinil</li>\n<li>Solriamfetol</li>\n<li>Methylphenidate</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following drugs do not act as a prokinetic agent by 5HT4 agonism?",
    "choices": [
      {
        "id": 1,
        "text": "Renzapride"
      },
      {
        "id": 2,
        "text": "Metoclopramide"
      },
      {
        "id": 3,
        "text": "Domperidone"
      },
      {
        "id": 4,
        "text": "Cisapride"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Domperidone</strong> does not have any 5HT<sub>4</sub> agonist action. It mainly acts by <strong>D<sub>2</sub> antagonist</strong> action.</p>\n<p><strong>5HT<sub>4</sub> agonism</strong> and<strong> D<sub>2</sub> antagonism</strong> can result in <strong>prokinetic action</strong> by increasing the cholinergic activity of the gut.</p>\n<p>The 5HT<sub>4</sub> agonist action is shown by:</p>\n<ul>\n<li><strong>Metoclopramide</strong>&nbsp;</li>\n<li><strong>Cisapride</strong></li>\n<li>Mosapride</li>\n<li>Itopride</li>\n<li><strong>Renzapride</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Pharmacology Test';
        const quizFilename = 'pharmacology-test-696fc98d.html';
        let hierarchy = ["Marrow", "NEET PG Test Series Subject Wise", "Year 2020 - 21"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>