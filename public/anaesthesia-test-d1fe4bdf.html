<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anaesthesia Test - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Test Series Subject Wise / Year 2021 - 22
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "The complications associated with extubation are all except:",
    "choices": [
      {
        "id": 1,
        "text": "Upper airway obstruction"
      },
      {
        "id": 2,
        "text": "Increased blood pressure and heart rate"
      },
      {
        "id": 3,
        "text": "Positive pressure pulmonary edema"
      },
      {
        "id": 4,
        "text": "Paradoxical vocal cord motion"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The complication associated with extubation is<strong> negative pressure pulmonary edema</strong> which is a dangerous and potentially fatal condition.</p>\n<p>Complications associated with extubation:</p>\n<ul>\n<li>Laryngospasm and bronchospasm</li>\n<li>Negative pressure pulmonary edema</li>\n<li>Upper airway obstruction</li>\n<li>Hypoventilation</li>\n<li>Hemodynamic changes (hypertension, tachycardia)</li>\n<li>Coughing and straining leading to surgical wound dehiscence</li>\n<li>Laryngeal or airway edema</li>\n<li>Paradoxical vocal cord motion</li>\n<li>Arytenoid dislocation</li>\n<li>Aspiration</li>\n</ul>\n<p>Factors associated with increased extubation risk:</p>\n<ul>\n<li>Airway risk factors\n<ul>\n<li>known difficult airway</li>\n<li>airway deterioration (bleeding, edema, trauma)</li>\n<li>restricted airway access</li>\n<li>obesity and obstructive sleep apnea</li>\n<li>aspiration risk</li>\n</ul>\n</li>\n<li>General risk factors\n<ul>\n<li>cardiovascular disease</li>\n<li>respiratory disease</li>\n<li>neuromuscular disease</li>\n<li>metabolic derangements</li>\n<li>special surgical requirements</li>\n</ul>\n</li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the oxygen delivery rate of the device shown below?",
    "choices": [
      {
        "id": 1,
        "text": "1-4 liters per minute"
      },
      {
        "id": 2,
        "text": "40-50 liters per minute"
      },
      {
        "id": 3,
        "text": "20-25 liters per minute"
      },
      {
        "id": 4,
        "text": "10-15 liters per minute"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The equipment shown in the image is a <strong>non-rebreather mask</strong>. It can give up to<strong> 10-15 liters</strong> of oxygen per minute.</p>\n<p>The non-rebreather mask is a <strong>low-flow device</strong> that can be used to <strong>deliver oxygen</strong> at <strong>higher concentrations</strong> (FiO2 80-95%). It is used in patients who are severely hypoxic but are ventilating well. It uses a <strong>reservoir bag</strong> to let the oxygen get concentrated while a <strong>one-way valve</strong> doesn't allow it to breathe in expired air.</p>\n<p><strong>Other</strong> examples of<strong> low-flow</strong> devices are:</p>\n<ul>\n<li>Nasal cannula</li>\n<li>Face mask</li>\n<li>Face tent</li>\n<li>Non-rebreather mask.</li>\n</ul>\n<p><strong>High-flow</strong> devices include:</p>\n<ul>\n<li>Venturi mask</li>\n<li>High flow nasal cannula</li>\n<li>Mechanical ventilation</li>\n</ul>\n<table style=\"height: 134px; width: 587px;\">\n<tbody>\n<tr>\n<td style=\"width: 199px;\"><strong>Oxygen delivery devices</strong></td>\n<td style=\"width: 166px;\"><strong>Flow rate (liter/min)&nbsp;</strong></td>\n</tr>\n<tr>\n<td style=\"width: 199px;\">Nasal cannula&nbsp;</td>\n<td style=\"width: 166px;\">1-6&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 199px;\">Simple face mask&nbsp;</td>\n<td style=\"width: 166px;\">6-10</td>\n</tr>\n<tr>\n<td style=\"width: 199px;\">Non-rebreathing mask</td>\n<td style=\"width: 166px;\">10-15</td>\n</tr>\n<tr>\n<td style=\"width: 199px;\">Venturi mask&nbsp;</td>\n<td style=\"width: 166px;\">2-15&nbsp;</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/f75d8e1758fb4a0b8cf646e1c945c3b6.JPG"
    ],
    "explanation_images": []
  },
  {
    "text": "A patient in hemorrhagic shock was shifted for emergency surgery and given ketamine for induction. Why is this drug preferred for use in this situation?",
    "choices": [
      {
        "id": 1,
        "text": "Direct sympathomimetic action"
      },
      {
        "id": 2,
        "text": "Indirect sympathomimetic action"
      },
      {
        "id": 3,
        "text": "Negative inotropic action"
      },
      {
        "id": 4,
        "text": "Positive inotropic action"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Ketamine is preferred due to its <strong>indirect sympathomimetic</strong> action. It is the intravenous anesthetic of choice for <strong>hemorrhagic shock.</strong></p>\n<p>It <strong>inhibits</strong> the <strong>reuptake</strong> of both <strong>central </strong>and <strong>peripheral catecholamines</strong> and&nbsp;causes increased <strong>blood pressure,</strong> heart rate, and cardiac output.</p>\n<p>Ketamine has direct negative inotropic and vasodilating activity, but these effects are overwhelmed by the indirect sympathomimetic action.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is the most common cause of perioperative vision loss?",
    "choices": [
      {
        "id": 1,
        "text": "Globe perforation"
      },
      {
        "id": 2,
        "text": "Angle closure glaucoma"
      },
      {
        "id": 3,
        "text": "Retinal emboli"
      },
      {
        "id": 4,
        "text": "Ischemic optic neuropathy"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Ischemic optic neuropath</strong>y is the most common cause of perioperative vision loss.</p>\n<p>It is usually seen after <strong>spine</strong> <strong>surgeries</strong> in the prone position, <strong>radical neck dissections</strong> and following <strong>cardiopulmonary bypass.</strong></p>\n<p><strong>Symptoms:</strong>&nbsp;Reduced visual acuity, rarely complete blindness; usually presents on awakening from anesthesia.</p>\n<p><strong>Preoperative risk factors:</strong>&nbsp;</p>\n<ul>\n<li>Diabetes, hypertension</li>\n<li>Smoking</li>\n<li>Coronary artery disease.</li>\n</ul>\n<p><strong>Intraoperative risk factors:</strong>&nbsp;</p>\n<ul>\n<li>Anaemia</li>\n<li>Hypotension</li>\n<li>Prone position</li>\n<li>Prolonged duration of surgery&nbsp;</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 7-year-old child was scheduled for strabismus correction surgery. The induction of anesthesia was uneventful. After conjunctival incision as the surgeon grasps the medial rectus the anesthetist looks at the cardiac monitor. Why do you think he did that?",
    "choices": [
      {
        "id": 1,
        "text": "To check the depth of anesthesia"
      },
      {
        "id": 2,
        "text": "To look for hypotension"
      },
      {
        "id": 3,
        "text": "To see if there was an oculocardiac reflex"
      },
      {
        "id": 4,
        "text": "To ensure there were no ventricular arrhythmias"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The anaesthetist would have looked at the monitor as soon as the medial rectus was grasped, to see if there was an <strong>oculocardiac reflex.</strong></p>\n<p>The <strong>oculocardiac reflex </strong>is a<strong> trigemino-vagal-reflex</strong> (afferent through trigeminal nerve, efferent through vagus nerve). It is most common in <strong>pediatric patients</strong> undergoing <strong>strabismus</strong> surgery. It is caused by<strong> traction</strong> on extraocular muscles or pressure on the eyeball and surrounding structures, particularly the<strong> medial rectus muscle.</strong></p>\n<p><strong>Mechanism of reflex:</strong> Stretch receptors are located in the extraocular muscles. Once activated, the receptors send afferents through <strong>short and long ciliary nerves.</strong> The ciliary nerves will merge with&nbsp;the<strong> ophthalmic division </strong>of the<strong> trigeminal nerve</strong> at the ciliary ganglion. The trigeminal nerve carries impulses to the Gasserian ganglion resulting in <strong>increased parasympathetic tone</strong> and <strong>bradycardia.</strong></p>\n<p>The manifestation can range from <strong>bradycardia (most common)</strong> to sinus arrest and ventricular ectopic to ventricular fibrillation. Administration of antimuscarinic drug <strong>glycopyrrolate</strong> or <strong>atropine</strong> reduces the incidence of bradycardia during eye surgery.</p>\n<p><strong>Treatment&nbsp;</strong>is done by <strong>t</strong><strong>emporary cessation</strong> of any surgical manipulation, prevention of hypercapnia or hypoxemia with adequate ventilation, IV glycopyrrolate or IV atropine if bradycardia persists.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 5-month-old child is set to undergo a herniotomy procedure for congenital inguinal hernia under caudal anesthesia. Where is the local anesthetic injected into for this procedure?",
    "choices": [
      {
        "id": 1,
        "text": "Spinal cord"
      },
      {
        "id": 2,
        "text": "Subdural space"
      },
      {
        "id": 3,
        "text": "Subarachnoid space"
      },
      {
        "id": 4,
        "text": "Epidural space"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>During <strong>caudal anaesthesia</strong>, the local anaesthetic is injected into the sacral portion of the&nbsp;<strong>epidural space</strong>.</p>\n<p>Caudal anaesthesia involves a needle and/or catheter penetration of the<strong> sacrococcygeal ligament </strong>which&nbsp;opens into the caudal epidural space. The sacrococcygeal ligament covers the<strong> sacral hiatus </strong>that is created by the <strong>unfused S4 and S5 laminae.</strong></p>\n<p>Sacral hiatus is well appreciated in children. Hence, it is a <strong>common</strong> regional technique in <strong>paediatrics&nbsp;</strong>for procedures below the diaphragm, including urogenital, rectal, inguinal, and lower extremity surgery.&nbsp;</p>\n<p>It may also be used for anorectal surgery in adults but it is <strong>technically challenging</strong> in <strong>adults</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7ea7bdd5c87044999c6f822f4faf49c0x1280x1890.JPEG"
    ]
  },
  {
    "text": "Following a road traffic accident, an unresponsive young man was brought to the emergency room. In order to declare him as brain dead, which of the following criteria can be used?",
    "choices": [
      {
        "id": 1,
        "text": "2, 3 and 5"
      },
      {
        "id": 2,
        "text": "1, 2 and 4"
      },
      {
        "id": 3,
        "text": "1, 3 and 5"
      },
      {
        "id": 4,
        "text": "2, 3 and 4"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Absent spinal cord reflex and decorticate posturing are not criteria for brain death. The statements 2, 3 and 5 are correct.</p>\n<p>Brain death is defined as the irreversible cessation of all brain function. Spinal cord function below C1 may still be present.</p>\n<p>Brain death criteria can be applied only in the absence of:</p>\n<ul>\n<li>Hypothermia&nbsp;</li>\n<li>Hypotension</li>\n<li>Uncorrected metabolic or endocrine abnormalities</li>\n<li>Neuromuscular blockers</li>\n<li>Drugs known to depress brain function.</li>\n</ul>\n<p>Generally accepted <strong>clinical criteria</strong> for brain death include the following:</p>\n<ul>\n<li>Coma</li>\n<li>Absent motor activity, including no decerebrate or decorticate posturing</li>\n<li>Spinal cord reflexes may be preserved&nbsp;</li>\n<li>Absent brainstem reflexes, including no pupillary, corneal, vestibulocochlear (caloric), or gag (or cough) reflexes</li>\n<li>Absence of ventilatory effort, with the arterial CO<sub>2</sub> tension &gt;60 mm Hg or 20 mm Hg above the pretest level (positive apnea test)</li>\n</ul>\n<div class=\"page\" title=\"Page 1295\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Confirmatory test findings</strong> (not mandatory but may assist in diagnosis)</p>\n<ul>\n<li>Isoelectric electroencephalogram</li>\n<li>Absence of brainstem auditory evoked potentials</li>\n<li>Absence of cerebral perfusion as documented by angiographic, transcranial Doppler, or radioisotopic studies</li>\n</ul>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A middle aged man presents with complaints of shortness of breath, chest pain and cough. The following catheter is being used to evaluate the patient for pulmonary hypertension. Identify the catheter.",
    "choices": [
      {
        "id": 1,
        "text": "Swan-Ganz catheter"
      },
      {
        "id": 2,
        "text": "Triple lumen catheter"
      },
      {
        "id": 3,
        "text": "Peripherally inserted central catheter"
      },
      {
        "id": 4,
        "text": "Double lumen catheter"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image shown above is the<strong> Swan-Ganz catheter</strong> used for<strong> pulmonary artery catheterization</strong>. It is also called the pulmonary artery catheter and is used to diagnose and evaluate pulmonary artery hypertension.</p>\n<p>The standard <strong>pulmonary artery catheter</strong> is 110 cm long with a 7.0 &ndash; 9.0 Fr circumference. It contains <strong>4 internal lumens</strong>. The distal port is used to measure PAP (pulmonary artery pressure) while the 2nd port is used to measure CVP (central venous pressure).</p>\n<p><strong>Pulmonary artery catheterization</strong> is a diagnostic procedure in which a catheter is passed through the central vein, into the right atrium and the right ventricle, and then is finally placed in the pulmonary artery.</p>\n<p>The&nbsp;<strong>indications</strong> include:</p>\n<ul>\n<li>Evaluation of <strong>pulmonary artery hypertension</strong></li>\n<li><strong>Measurement of pressures</strong> in the right atrium, right ventricle, and pulmonary artery</li>\n<li>Assessment of etiology and&nbsp;<strong>volume status</strong> in shock</li>\n<li>Assessment of congenital heart disease, cardiac shunts, and right-sided valvular disease</li>\n</ul>\n<p><strong>Complications&nbsp;</strong>:</p>\n<ul>\n<li><strong>Catheterization related:</strong>\n<ol>\n<li>Arrhythmias, ventricular fibrillation</li>\n<li>Right bundle branch block, complete heart block</li>\n</ol>\n</li>\n<li><strong>Catheter residence related:</strong>\n<ol>\n<li>Mechanical, catheter knots</li>\n<li>Thromboembolism</li>\n<li>Pulmonary infarction</li>\n<li>Infection, endocarditis</li>\n<li>Endocardial damage, cardiac valve injury</li>\n<li>Pulmonary artery rupture</li>\n<li>Pulmonary artery pseudoaneurysm</li>\n</ol>\n</li>\n<li><strong>Others:</strong>\n<ol>\n<li>Misinterpretation of data</li>\n<li>Misuse of equipment</li>\n</ol>\n</li>\n</ul>\n<p>Other options:</p>\n<p>All the other catheters mentioned are used for establishing a central venous line for long-term total parenteral nutrition, medications, etc.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/dd43382351174abea972d2239952980f.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0b860547e4eb4c9c9edf7fbee29f81f3x273x218.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3b1e1b53a074415298d2d3e24d97bf8ex307x192.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/fcd3b2956d774c4aae70bbd5be5442b2x211x391.JPEG"
    ]
  },
  {
    "text": "An intern in the anesthesia department was asked about the use of absorbents like soda lime in breathing systems. Which of the following statements are true regarding soda lime?",
    "choices": [
      {
        "id": 1,
        "text": "2 and 3"
      },
      {
        "id": 2,
        "text": "3 and 5"
      },
      {
        "id": 3,
        "text": "2 and 4"
      },
      {
        "id": 4,
        "text": "1 and 3"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p dir=\"ltr\" role=\"presentation\">The statements that are true regarding soda lime are <strong>3</strong> and <strong>5</strong>.</p>\n<p dir=\"ltr\" role=\"presentation\"><strong>Soda lime</strong> is a&nbsp;<strong>CO<sub>2&nbsp;</sub>absorbent</strong> used in the circle system (breathing system). It can absorb up to 23 L of CO<sub>2</sub><span class=\"s1\">&nbsp;</span>per 100 g of absorbent. Its major constituent is&nbsp;<strong>Ca(OH)<sub>2</sub></strong> (80%). Other components include <strong>KOH</strong>,&nbsp;NaOH, and water (15%). It is also known as&nbsp;<strong>slaked lime</strong>.</p>\n<p dir=\"ltr\" role=\"presentation\">A <strong>circle system</strong> is used in place of Mapleson circuits to avoid problems like loss of patient heat and humidity, waste of anesthetic agent due to high fresh gas flow, and pollution of the operating room environment. Components of this system are:</p>\n<ol>\n<li dir=\"ltr\" role=\"presentation\"><strong>CO<sub>2</sub><span class=\"s1\">&nbsp;</span>absorber containing CO<sub>2</sub><span class=\"s1\">&nbsp;</span>absorbent</strong></li>\n<li dir=\"ltr\" role=\"presentation\">Fresh gas inlet</li>\n<li dir=\"ltr\" role=\"presentation\">Inspiratory unidirectional valve and&nbsp;inspiratory breathing tube</li>\n<li dir=\"ltr\" role=\"presentation\">Y-connector</li>\n<li dir=\"ltr\" role=\"presentation\">Expiratory unidirectional valve and expiratory breathing tube</li>\n<li dir=\"ltr\" role=\"presentation\">Adjustable pressure-limiting valve</li>\n<li dir=\"ltr\" role=\"presentation\">Reservoir</li>\n</ol>\n<p dir=\"ltr\" role=\"presentation\">The reactions of soda lime granules with&nbsp;CO<sub>2&nbsp;</sub>are as follows:</p>\n<p dir=\"ltr\" role=\"presentation\"><strong>Step 1</strong>:&nbsp;CO<sub>2</sub> + H<sub>2</sub>O (present on and within granules) &rarr; H<sub>2</sub>CO<sub>3</sub></p>\n<p><strong>Step 2</strong>:&nbsp;</p>\n<ul>\n<li>H<sub>2</sub>CO<sub>3</sub> + 2NaOH &rarr; Na<sub>2</sub>CO<sub>3</sub> + 2H<sub>2</sub>O + Heat</li>\n<li>H<sub>2</sub>CO<sub>3</sub> + 2KOH &rarr; K<sub>2</sub>CO<sub>3</sub> + 2H<sub>2</sub>O + Heat</li>\n</ul>\n<p dir=\"ltr\" role=\"presentation\">All available strong bases are depleted.</p>\n<p dir=\"ltr\" role=\"presentation\"><strong>Step 3</strong>:</p>\n<ul>\n<li dir=\"ltr\" role=\"presentation\">Na<sub>2</sub>CO<sub>3</sub> + Ca(OH)<sub>2</sub> &rarr; CaCO<sub>3</sub>&nbsp;(insoluble) + 2NaOH + Heat</li>\n<li dir=\"ltr\" role=\"presentation\"><sub><span style=\"font-size: 14px;\">K</span>2</sub>CO<sub>3</sub> + Ca(OH)<sub>2</sub> &rarr; CaCO<sub>3</sub>&nbsp;(insoluble) + 2KOH + Heat</li>\n</ul>\n<p>NaOH and KOH are regenerated in this step, thereby acting as catalysts. This is the <strong>rate-limiting step</strong> since the NaOH and KOH regenerated in this step are required for step 2 for additional CO<sub>2</sub>&nbsp;to be dissolved in water (step 1). Byproducts of this entire reaction are water and heat.</p>\n<p>A pH indicator dye changes color from white to purple due to increasing H<sup>+</sup> concentration and absorbent depletion. The absorbent should be replaced when 50-70% has changed color.</p>\n<p class=\"p1\">Absorbent granules can absorb and later release volatile anesthetics. This property is enhanced by the increased dryness of soda lime. Volatile anesthetics can be broken down to CO, resulting in clinically significant <strong>CO poisoning</strong>. Another absorbent,<strong> barium hydroxide lime</strong>, is no longer used due to the risk of fire in the system.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "During a routine evaluation of the operating room before an operation, you hear an alarm from the anesthesia workstation. Assuming it to be due to a leak from the oxygen cylinder, you immediately check the pressure gauge. What would be the maximum pressure that is normally expected in this medical gas cylinder?",
    "choices": [
      {
        "id": 1,
        "text": "750 psig"
      },
      {
        "id": 2,
        "text": "1500 psig"
      },
      {
        "id": 3,
        "text": "2000 psig"
      },
      {
        "id": 4,
        "text": "2500 psig"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Maximum pressure in oxygen cylinder is&nbsp;<strong>2000 psig&nbsp;</strong>(pounds per square inch gauge)</p>\n<p><strong>Maximum pressure in the E-cylinders:</strong></p>\n<ul>\n<li><strong>750 psig </strong>for<strong> nitrous oxide </strong>(<strong>liquid</strong>)</li>\n<li><strong>2000 psig </strong>for<strong> air </strong>(gaseous)</li>\n<li><strong>2000 psig </strong>for<strong> oxygen&nbsp;</strong>(gaseous)</li>\n</ul>\n<p>Each cylinder is passed through a high-pressure regulator, which reduces the high pressures inside the cylinder to a lower, nearly constant pressure of 45 psig, which is suitable for use in the anesthesia machine.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 40-year-old man was being prepared for an emergency laparotomy and an endotracheal tube was inserted. Following intubation, end-tidal carbon dioxide was detected. However, his oxygen saturation dropped to 60% and breath sounds were not audible over the left hemithorax. What could be the cause of this?",
    "choices": [
      {
        "id": 1,
        "text": "Endobronchial intubation into left main bronchus"
      },
      {
        "id": 2,
        "text": "Esophageal intubation"
      },
      {
        "id": 3,
        "text": "Endotracheal tube blockage"
      },
      {
        "id": 4,
        "text": "Endobronchial intubation into right main bronchus"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Detection of end-tidal CO<sub>2</sub> but dropping oxygen saturation with absent breath sounds over the left hemithorax points to <strong>endobronchial intubation</strong> into the <strong>right main bronchus</strong>.</p>\n<p><strong>Signs of endobronchial intubation</strong>:</p>\n<ul>\n<li><strong>Elevated peak inspiratory pressure (first sign)</strong></li>\n<li>Asymmetric chest expansion</li>\n<li>Unilateral breath sounds</li>\n<li>Drop in oxygen saturation</li>\n</ul>\n<p><strong>Capnography</strong> and detection of end-tidal CO<sub>2,</sub>&nbsp;though the surest confirmation for an advanced airway placement,&nbsp;<strong>does not differentiate</strong> <strong>endotracheal</strong> from <strong>endobronchial</strong> <strong>intubation</strong>.</p>\n<p><strong>Esophageal intubation:</strong>&nbsp;initial end-tidal CO2 may be detected due to swallowed air but later becomes zero. There would be the absence of breath sounds bilaterally with the presence of breath sounds in the epigastrium.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9fb9082fbced40cfafa3829a99d8f0b8x1280x809.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/11eeb1fd9aad4af39e4c8cdc35d52132x1280x849.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a6337588547244a0a9cb2e681430e676x1280x2540.JPEG"
    ]
  },
  {
    "text": "Beta waves on electroencephaloghram (EEG) signify __________ .",
    "choices": [
      {
        "id": 1,
        "text": "Light anesthesia"
      },
      {
        "id": 2,
        "text": "Profound hypothermia"
      },
      {
        "id": 3,
        "text": "Deep anesthesia"
      },
      {
        "id": 4,
        "text": "Anesthetic induced coma"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Beta waves on EEG signifies <strong>light anesthesia.</strong></p>\n<p>Beta waves on EEG are seen in <strong>awake state</strong> and during <strong>initial stages of inhalational anesthesia.</strong></p>\n<p><strong> Interpretation of an EEG:</strong></p>\n<ul>\n<li>&beta;-awake state\n<ul>\n<li>During inhalational anesthesia, initial beta activation is followed by slowing burst suppression and&nbsp;isoelectricity.</li>\n</ul>\n</li>\n<li>&alpha;-&beta;&nbsp;oscillations:&nbsp;Arousable&nbsp;state of sedation</li>\n<li>&alpha;,&theta;&nbsp;oscillations with &delta; dominance: Surgically anesthetized state</li>\n</ul>\n<p>(&alpha;- alpha,&nbsp;&beta;- beta,&nbsp;&delta;- delta,&nbsp;&theta;- theta)</p>\n<p><strong>Iso electric EEG </strong>is seen in&nbsp;</p>\n<ul>\n<li>Brief periods during normal maintenance of anesthesia</li>\n<li>Anesthetic induced coma</li>\n<li>Profound hypothermia</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following investigations provides the most accurate prognostic information with respect to predicting risks of perioperative cardiac complications?",
    "choices": [
      {
        "id": 1,
        "text": "Exercise ECG testing"
      },
      {
        "id": 2,
        "text": "Dobutamine stress echocardiography"
      },
      {
        "id": 3,
        "text": "Myocardial perfusion scintigraphy"
      },
      {
        "id": 4,
        "text": "Coronary angiography"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<div class=\"page\" title=\"Page 1280\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Among the given investigations, <strong>dobutamine stress echocardiography</strong>&nbsp;provides the most accurate prognostic information with respect to predicting risks of perioperative cardiac complications.</p>\n<p>Preoperative cardiac stress testing can help identify the presence and severity of preexisting CAD. The prognostic performance of these tests is better assessed based on positive and negative likelihood ratios. Among all the given options, dobutamine stress echocardiography has the maximum positive likelihood ratio and hence provides the most accurate prognostic information.</p>\n<div class=\"page\" title=\"Page 545\">Even though coronary angiography is considered the gold standard, it may not absolutely risk-stratify patients because many perioperative cardiac events may be related to noncritical coronary lesions.</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A critically ill patient was given an infusion of an intravenous anesthetic at a dose of 4mg/kg/hour. 48 hours later, the patient developed refractory bradycardia, and there was evidence of rhabdomyolysis on investigations. Which agent is most likely implicated?",
    "choices": [
      {
        "id": 1,
        "text": "Thiopentone"
      },
      {
        "id": 2,
        "text": "Propofol"
      },
      {
        "id": 3,
        "text": "Etomidate"
      },
      {
        "id": 4,
        "text": "Ketamine"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given features point towards a diagnosis of <strong>propofol infusion syndrome</strong>. It is a <strong>rare</strong> but <strong>lethal</strong> syndrome seen when the dose of propofol infusion is <strong>&gt; 4 mg/kg/hour</strong> for<strong> 48 hours </strong>or longer.</p>\n<p>This syndrome is common in children and critically ill adults.</p>\n<p>Clinical features:</p>\n<ul>\n<li>Acute refractory <strong>bradycardia</strong> leading to asystole in the presence of one or more of the following:\n<ul>\n<li>Metabolic acidosis (base deficit &gt;10 mmol/L)</li>\n<li>Rhabdomyolysis</li>\n<li>Hyperlipidemia</li>\n<li>Enlarged or fatty liver</li>\n</ul>\n</li>\n<li>Other features -&nbsp;&nbsp;cardiomyopathy with acute cardiac failure, skeletal myopathy, hyperkalemia, hepatomegaly, and lipemia.</li>\n</ul>\n<p>The symptoms and signs are the results of muscle injury and the release of intracellular toxic contents. It is due to defect in<strong> mitochondrial metabolism </strong>and <strong>electron transport chain </strong>function.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You are an anesthetist who needs to administer general anesthesia to an obese patient with a history of rheumatoid arthritis. Preoperatively, you assess the airway using the modified Mallampati classification and conclude that the patient falls under class III. How does her airway probably look?",
    "choices": [
      {
        "id": 1,
        "text": "1"
      },
      {
        "id": 2,
        "text": "2"
      },
      {
        "id": 3,
        "text": "3"
      },
      {
        "id": 4,
        "text": "4"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The patient&rsquo;s airway was classified as&nbsp;<strong>Mallampati class III,</strong> so it probably looks like&nbsp;<strong>image 3</strong>. Here, the<strong>&nbsp;soft palate and base of the uvula</strong> are <strong>seen</strong>.</p>\n<p>The <strong>Modified Mallampati </strong>classification is used to <strong>predict difficulty</strong> in <strong>tracheal intubation</strong>. It is based on the size of the base of the tongue. During the assessment, the patient has to be <strong>seated</strong>, with the&nbsp;<strong>head neutral, mouth open, tongue protruding, and no phonation</strong>. In this position, the visibility of the faucial pillars, uvula, and soft palate is assessed and assigned a class from I-IV.&nbsp;</p>\n<p>The initial Mallampati classification included only classes I-III. It was modified by Samsoon and Young to include class IV.&nbsp;</p>\n<p>In addition to class I-IV, a fifth class also exists called class 0. In this, the epiglottis can be seen when the mouth is opened and tongue is protruded. However, it is still not proven by studies whether class 0 is a sign of easy intubation or not.&nbsp;</p>\n<p>Other options:</p>\n<p>Option A: In Mallampati <strong>class&nbsp;IV, </strong>the&nbsp;soft palate is not visible at all.</p>\n<p>Option B: In Mallampati <strong>class&nbsp;I, </strong>the <strong>soft palate, fauces, uvula, and tonsillar pillars</strong> are <strong>visible</strong>.</p>\n<p>Option D: In Mallampati <strong>class</strong>&nbsp;<strong>II, </strong>the&nbsp;<strong>soft palate, fauces, and portion of uvula</strong> are <strong>visible</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5f9f75e272e44a3686078450f950e3ec.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the laryngoscopic blade given in the image below.",
    "choices": [
      {
        "id": 1,
        "text": "Miller"
      },
      {
        "id": 2,
        "text": "Macintosh"
      },
      {
        "id": 3,
        "text": "Wisconsin"
      },
      {
        "id": 4,
        "text": "Magill"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given image is that of the <strong>Macintosh</strong> laryngoscopic blade, an instrument that allows for laryngeal examination and tracheal intubation. It is the most commonly used laryngoscopic blade for endotracheal intubation in <strong>adults</strong>.</p>\n<p>Laryngoscopic blades can be:</p>\n<ul>\n<li><strong>Curved&nbsp; - </strong>Macintosh</li>\n<li><strong>Straight - </strong>Miller</li>\n</ul>\n<p>Miller is the most commonly used blade in&nbsp;infants.</p>\n<p>Advantage of curved blade:</p>\n<ul>\n<li>Greater room available for the passage for an endotracheal tube</li>\n<li>Less damage to the teeth</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/27ad332ec36e4a3685e2b0cdf19b21f8.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/44094f916ee84a1489955d2e3436093fx1280x2145.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/47e035b71b4c4a4f8f3f6854bbbfcf23x720x635.PNG"
    ]
  },
  {
    "text": "A 23-year-old patient admitted to the intensive medical care unit with suspected meningoencephalitis is undergoing the procedure shown below. All the following structures are pierced during this procedure, except ________.",
    "choices": [
      {
        "id": 1,
        "text": "Supraspinous ligament"
      },
      {
        "id": 2,
        "text": "Posterior longitudinal ligament"
      },
      {
        "id": 3,
        "text": "Ligamentum flavum"
      },
      {
        "id": 4,
        "text": "Dura mater"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The patient is undergoing a procedure of <strong>lumbar puncture</strong> as shown in the image. All the given structures are pierced during\u00a0lumbar puncture, except<strong>\u00a0</strong>the posterior longitudinal ligament.</p>\n<p><strong>Lumbar puncture</strong> is a diagnostic procedure done to obtain a sample of\u00a0<strong>cerebrospinal fluid</strong>\u00a0from the <strong>subarachnoid space.\u00a0</strong>The following structures are <strong>pierced</strong> during lumbar puncture, in that order:</p>\n<ul>\n<li>Skin</li>\n<li>Subcutaneous tissue</li>\n<li>Supraspinous ligament</li>\n<li>Interspinous ligament</li>\n<li>Ligamentum flavum</li>\n<li>Epidural space</li>\n<li>Dura</li>\n<li>Arachnoid</li>\n<li>Subarachnoid space\u00a0</li>\n</ul>\n<p>Indications:</p>\n<ul>\n<li>Diagnosis of suspected\u00a0<strong>meningitis</strong> and <strong>subarachnoid hemorrhage</strong>\u00a0</li>\n<li><strong>Spinal anesthesia</strong> and intrathecal administration of antibiotics/ chemotherapy</li>\n<li>Therapeutic relief of pseudomotor cerebri,\u00a0less frequently</li>\n</ul>\n<p><strong>Contraindications</strong> for lumbar puncture include:</p>\n<ul>\n<li>Absolute- <strong>Infection</strong> over the site\u00a0</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Relative-\n<ul>\n<li style=\"font-weight: 400;\" aria-level=\"1\"><strong>Coagulopathy</strong></li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Raised intracranial pressure</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Spinal epidural abscess</li>\n</ul>\n</li>\n</ul>\n<p><strong>Post-dural puncture headache</strong> (PDPH) is a common post-procedure symptom. It occurs due to loss of CSF through the dura which causes traction on the pain-sensitive intracranial structures. The headache in PDPH is typically <strong>frontal</strong> or <strong>occipital. </strong>It is aggravated with the upright or sitting posture and is relieved by lying supine.\u00a0</p>\n<p>Other complications include infections, bleeding, cerebral herniation, and radicular pain.</p>\n<p>The image given below shows the types of needles used for lumbar puncture.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/da0d497cca854f5aab5a4cae0f1fce4e.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a23a1c542271457094b7278e79a8a919x1280x1717.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3e2ddc4b30ee4a15930481aa40ac052dx640x320.PNG"
    ]
  },
  {
    "text": "Glycopyrrolate is used as a pre-anesthetic agent for:",
    "choices": [
      {
        "id": 1,
        "text": "Reducing the secretions"
      },
      {
        "id": 2,
        "text": "Sedative effect"
      },
      {
        "id": 3,
        "text": "Skeletal muscle relaxant"
      },
      {
        "id": 4,
        "text": "Anxiolytic"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Glycopyrrolate</strong> is used as a pre-anesthetic agent for <strong>reducing the secretions.</strong></p>\n<div class=\"page\" title=\"Page 1184\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Anticholinergic drugs e.g. atropine, glycopyrrolate are routinely administered with anticholinesterases in order <strong>to attenuate the undesirable muscarinic effects.</strong> Glycopyrrolate is usually preferred because it has less vagolytic effects than atropine at doses that inhibit secretions and does not cross the blood-brain barrier. It should be administered as early as possible to maximize its effectiveness.</p>\n</div>\n</div>\n</div>\n<p>Glycopyrrolate&nbsp;0.2 mg IV, is administered to dry airway secretions before flexible scope intubation of the trachea, during the bronchoscopic examination.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is incorrect regarding transient neurological symptoms associated with spinal anesthesia?",
    "choices": [
      {
        "id": 1,
        "text": "Presents as buttock pain radiating to legs"
      },
      {
        "id": 2,
        "text": "Highest incidence with intrathecal bupivacaine"
      },
      {
        "id": 3,
        "text": "Reduced incidence  with the use of double-orifice needles"
      },
      {
        "id": 4,
        "text": "Usually a self limiting condition"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Transient neurological symptoms (TNS) are less common with bupivacaine and other local anesthetics.</p>\n<p>TNS was previously known as transient radicular irritation.&nbsp;It is mostly attributed to the use of <strong>intrathecal lidocaine and mepivacaine.&nbsp;</strong>It is most common in patients who were placed in <strong>lithotomy position</strong> during surgery.</p>\n<p>Symptoms occur within <strong>48 hours</strong> of resolution of spinal anesthetic. It presents as unilateral or bilateral pain in the buttocks that radiates to the legs.&nbsp;</p>\n<p>It is not related to the concentration of lidocaine, the addition of dextrose or <strong>epinephrine</strong> or solution osmolarity.&nbsp;Its incidence is <strong>decreased</strong> by the use of <strong>double-orifice needle</strong>, since single-orifice needles can increase the risk of injecting the anesthetic caudally in the thecal sac.</p>\n<p>This condition is usually <strong>self-limiting</strong>.&nbsp;Nonsteroidal anti-inflammatory drugs can be given.&nbsp;Some patients may require opioids.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 50-year-old male patient is posted for TURP  (transurethral resection of prostate) under subarachnoid block. Up to which dermatome must the anesthetist ensure adequate anesthesia?",
    "choices": [
      {
        "id": 1,
        "text": "T10"
      },
      {
        "id": 2,
        "text": "T8"
      },
      {
        "id": 3,
        "text": "T6"
      },
      {
        "id": 4,
        "text": "T4"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>For procedures like TURP, the sensory block should be achieved up to\u00a0<strong>T10</strong>\u00a0dermatomal level, as the pain-sensitive\u00a0peritoneum innervation starts from T10 level.</p>\n<p><strong>Dermatomal level of required sensory blocks for v</strong><strong>arious common surgical procedures:</strong></p>\n<ul>\n<li>T4 - Upper abdominal surgery, Caesarian section</li>\n<li>T10 - Transurethral resection of the prostate,\u00a0Hip surgery</li>\n<li>L2 - Foot and ankle surgery</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 23-year-old pregnant woman in the active stage of labor requests epidural anesthesia. Immediately following the injection of 1.5% lidocaine with 1:200,000 epinephrine through the epidural catheter, the patient complains of lip numbness and becomes very apprehensive. Her heart rate is 110/min and her BP is 90/60 mmHg.  What is this most likely due to?",
    "choices": [
      {
        "id": 1,
        "text": "Accidental subdural injection"
      },
      {
        "id": 2,
        "text": "Accidental subarachnoid injection"
      },
      {
        "id": 3,
        "text": "Accidental intravascular injection"
      },
      {
        "id": 4,
        "text": "Allergic manifestation to lignocaine"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above condition is most likely due to <strong>accidental intravascular injection</strong> of local anaesthetic into the epidural vein resulting in <strong>local anaesthesia systemic toxicity</strong>\u00a0(LAST).</p>\n<p><strong>Features of LAST:</strong></p>\n<ol>\n<li><strong>CNS</strong> (in the order of appearance)\n<ul>\n<li>Tinnitus, blurred vision, dizziness, tongue paresthesia, and <strong>circumoral numbness</strong></li>\n<li>Excitatory signs such as <strong>nervousness</strong>, <strong>agitation</strong>, <strong>restlessness</strong>, and muscle twitching leading to <strong>tonic-clonic seizures</strong></li>\n<li>CNS depression with slurred speech, <strong>drowsiness</strong>, unconsciousness, and then <strong>respiratory arrest</strong></li>\n<li>Patients who have received CNS depressant drugs may present with only CNS depression without any preceding excitatory signs</li>\n</ul>\n</li>\n<li><strong>CVS</strong>\n<ul>\n<li><strong>Prolonged PR </strong>intervals and <strong>widened QRS </strong>complexes, and <strong>sinus bradycardia</strong>/arrest</li>\n<li><strong>Ventricular arrhythmias</strong>, including fibrillation, are more likely to occur with <strong>bupivacaine</strong> than lidocaine.</li>\n</ul>\n</li>\n</ol>\n<p><strong>Prevention:</strong></p>\n<ul>\n<li>Careful aspiration for CSF (to rule out intrathecal placement) and blood (to rule out intravascular placement) before injecting the local anaesthesia</li>\n<li>Use of a test dose with lidocaine and adrenaline</li>\n<li>Incremental injection techniques instead of a bolus dose</li>\n<li>Close observation for early signs of intravascular injection</li>\n</ul>\n<p><strong>Treatment:</strong></p>\n<ul>\n<li><strong>Supplemental oxygen </strong>should be given.</li>\n<li>Seizures:\u00a0<strong>Benzodiazepine</strong>; if not available, a small dose of propofol or thiopentone. If seizures persist, a <strong>neuromuscular blockade</strong> to minimize acidosis and hypoxemia</li>\n<li>Cardiac arrest: standard <strong>ACLS</strong>\u00a0protocol with few modifications</li>\n<li><strong>Lipid emulsion therapy</strong></li>\n<li>Last resort: cardio-pulmonary bypass</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You are doing your first-year residency in anesthesia. In which of the following patients would you administer a higher amount of inhalational anesthetic?",
    "choices": [
      {
        "id": 1,
        "text": "3 and 4 only"
      },
      {
        "id": 2,
        "text": "1, 3 and 5 only"
      },
      {
        "id": 3,
        "text": "1, 2 and 5 only"
      },
      {
        "id": 4,
        "text": "3, 4 and 5 only"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Minimum alveolar concentration (MAC)<strong>&nbsp;increases</strong>&nbsp;in <strong>neonates</strong>, <strong>hypernatremia</strong>&nbsp;(total serum sodium &gt;145 mmol/L), and <strong>hypocalcemia </strong>(total serum calcium &lt; 8.8 mg/dL). Thus,&nbsp;<strong>1, 2, and 5&nbsp;</strong>will require a higher amount of inhalational anesthetic agents.</p>\n<p>MAC is defined as the inhaled anesthetic atmospheric pressure required to prevent movement in response to a defined noxious stimulus in 50% of subjects. MAC is <strong>unique</strong> to each inhaled anesthetic.&nbsp;</p>\n<p>It is used to express the potency of anesthetic agents. Thus, the <strong>lower the MAC</strong>, the <strong>higher the potency</strong>.&nbsp;</p>\n<p><strong>Hypotensive patients</strong>&nbsp;(blood pressure &lt; 90/60 mmHg) and <strong>patients with anemia </strong>would require a lower amount of anesthetic agents.</p>\n<p>Effect of <strong>age </strong>on MAC: MAC is the highest at <strong>6 months</strong> of age, after which it declines. After the age of 40, MAC reduces by ~6% per decade.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 10-year-old child is posted for surgery under general anesthesia. Which of the following inhalational agent cannot be used for induction of anesthesia in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Halothane"
      },
      {
        "id": 2,
        "text": "Sevoflurane"
      },
      {
        "id": 3,
        "text": "Desflurane"
      },
      {
        "id": 4,
        "text": "Nitrous oxide"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p style=\"text-align: left;\"><strong>Desflurane</strong>\u00a0cannot be used for the induction of anesthesia in this patient since it produces <strong>laryngospasm</strong> when used for inhalational anesthesia. Laryngospasm is because of the <strong>pungent</strong> nature of the gas. The incidence of <strong>laryngospasm</strong> following desflurane induction is almost <strong>50%</strong>.</p>\n<p style=\"text-align: left;\">Desflurane has a rapid onset of action and also rapid emergence from anesthesia.\u00a0Therefore, it is of particular value in neurosurgical and spinal fusion procedures where<strong> rapid awakening </strong>is required for neurological function assessment. It is also used for the\u00a0<strong>maintenance of anesthesia.\u00a0</strong> Desflurane has no hepatic metabolism.</p>\n<p style=\"text-align: justify;\">Other options:</p>\n<p style=\"text-align: left;\">Option A:\u00a0<strong>Halothane </strong>is the preferred drug for gaseous induction of anesthesia in children. However, the incidence of <strong>halothane hepatitis</strong> and <strong>myocardial depression</strong> has reduced its use in children.</p>\n<p style=\"text-align: left;\">Option B:\u00a0<strong>Sevoflurane</strong>\u00a0is the <strong>preferred inhalational agent for induction </strong>in the <strong>pediatric age group</strong>. Cardiovascular depression, bradycardia, and arrhythmias are less frequent with sevoflurane than with halothane and hence the former is preferred.</p>\n<p style=\"text-align: left;\">Option D: <strong>Nitrous oxide</strong> is the <strong>least potent</strong> as it\u00a0has the <strong>highest minimum alveolar concentration</strong>. It is combined with other potent inhaled anesthetics to reduce their dose. It can be used to hasten the induction of anesthesia along with other induction agents.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A female patient underwent surgery under general anesthesia 2 days ago. On the first postoperative day, her liver enzymes were elevated, and she developed jaundice. It was diagnosed that she developed hepatitis due to halothane, which was used during surgery. What type of hepatic damage is usually seen in this type of halothane hepatitis?",
    "choices": [
      {
        "id": 1,
        "text": "Spotty necrosis"
      },
      {
        "id": 2,
        "text": "Piecemeal necrosis"
      },
      {
        "id": 3,
        "text": "Confluent necrosis"
      },
      {
        "id": 4,
        "text": "Centrilobular necrosis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The most common type of hepatic damage that occurs in halothane hepatitis is<strong>&nbsp;centrilobular necrosis.</strong></p>\n<p><strong>Halothane </strong>is commonly known to be associated with complications such as <strong>hepatotoxicity</strong> and <strong>massive hepatic necrosis</strong>. Other volatile anesthetics, including <strong>enflurane</strong>, <strong>isoflurane</strong>, and <strong>desflurane</strong>, have also been associated with fulminant hepatic necrosis, but compared with toxicity due to halothane, potentially fatal toxicity from the administration of these newer volatile anesthetics is rare.</p>\n<p><strong>Clinical types:&nbsp;</strong>Clinical exposure to halothane is associated with two distinct types of hepatic injury:</p>\n<ul>\n<li><strong>Subclinical hepatotoxicity</strong>: It is characterized by mild postoperative elevations in alanine aminotransferase and aspartate aminotransferase, but is reversible and innocuous.</li>\n<li><strong>Halothane hepatitis: </strong>It is a fulminant form of hepatotoxicity, characterized by elevated alanine aminotransferase, aspartate aminotransferase, bilirubin, and alkaline phosphatase levels, and massive hepatic necrosis following the administration of halothane.</li>\n</ul>\n<p><strong>Mechanism of injury:</strong></p>\n<p>Halothane-induced hepatitis is caused by a <strong>hypersensitivity reaction</strong> associated with the&nbsp;<strong>oxidative metabolism</strong> of halothane. This causes the release of a highly reactive <strong>trifluoroacetyl</strong> (TFA)<strong> chloride metabolite</strong> that cross-reacts with nearby liver proteins resulting in the formation of <strong>TFA-modified proteins.</strong> The&nbsp;TFA-modified proteins serve as neoantigens and the <strong>antibodies</strong> against them are attributed to liver injury.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient involved in a road traffic accident had difficulty in breathing and multiple bone fractures. Chest X-Ray revealed a pneumothorax and an emergency needle thoracostomy is performed. The patient was shifted to the operation theatre for management of the fractures. Which of the following inhalational agents would you avoid in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Desflurane"
      },
      {
        "id": 2,
        "text": "Halothane"
      },
      {
        "id": 3,
        "text": "Sevoflurane"
      },
      {
        "id": 4,
        "text": "Nitrous oxide"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The inhalational agent to be <strong>avoided</strong> in a patient with <strong>pneumothorax</strong> undergoing surgery is<strong>&nbsp;nitrous oxide</strong>.</p>\n<p>Nitrous oxide has <strong>greater diffusibility</strong> across tissue than nitrogen. It has the <strong>potential to expand</strong> air-containing cavities, <strong>specifically nitrogen-containing spaces</strong>, and replace nitrogen. Hence, it should be avoided in patients with pneumothorax.&nbsp;</p>\n<p>Due to its greater diffusibility, <strong>nitrous oxide is avoided</strong> in&nbsp;</p>\n<ul>\n<li>arterial air embolism</li>\n<li>pneumothorax</li>\n<li>acute intestinal obstruction with bowel distension</li>\n<li>intracranial air</li>\n<li>pulmonary air cysts</li>\n<li>intraocular air bubbles</li>\n<li>tympanic membrane grafting</li>\n<li>middle ear surgeries</li>\n</ul>\n<p>Nitrous oxide can even <strong>diffuse into tracheal tube cuffs,</strong> increasing its pressure and <strong>hampering mucosal blood circulation</strong>.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "During ward rounds, a resident doctor inserts an intravenous cannula in the patient's hand as shown in the image. What is the gauge size of this cannula?",
    "choices": [
      {
        "id": 1,
        "text": "20G"
      },
      {
        "id": 2,
        "text": "22G"
      },
      {
        "id": 3,
        "text": "14G"
      },
      {
        "id": 4,
        "text": "18G"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image shows a <strong>pink&nbsp;intravenous cannula</strong> and the size is <strong>20G.&nbsp;</strong>It has a flow rate of <strong>67 mL/ min</strong>.</p>\n<p>Other options:</p>\n<p><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;This is a recent AIIMS question. IV Cannula and its aspects are favorite topics in every AIIMS exam. A simple mnemonic to remember these in descending order of their numbering is Nature. The mantle zone of the earth is orange, the land is grey, the grass is green, the butterfly on the grass is pink, the sky is blue and the sun is yellow.&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:768,&quot;11&quot;:4,&quot;12&quot;:0}\">Option B:&nbsp;</span><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;This is a recent AIIMS question. IV Cannula and its aspects are favorite topics in every AIIMS exam. A simple mnemonic to remember these in descending order of their numbering is Nature. The mantle zone of the earth is orange, the land is grey, the grass is green, the butterfly on the grass is pink, the sky is blue and the sun is yellow.&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:768,&quot;11&quot;:4,&quot;12&quot;:0}\">The <strong>blue</strong> IV cannula is <strong>22G</strong> with a flow rate of <strong>42 mL/min.</strong></span></p>\n<p><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;This is a recent AIIMS question. IV Cannula and its aspects are favorite topics in every AIIMS exam. A simple mnemonic to remember these in descending order of their numbering is Nature. The mantle zone of the earth is orange, the land is grey, the grass is green, the butterfly on the grass is pink, the sky is blue and the sun is yellow.&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:768,&quot;11&quot;:4,&quot;12&quot;:0}\">Option C:&nbsp;The <strong>orange</strong>&nbsp;IV cannula is <strong>14G</strong> with a flow rate of <strong>270&nbsp;mL/min.</strong></span></p>\n<p><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;This is a recent AIIMS question. IV Cannula and its aspects are favorite topics in every AIIMS exam. A simple mnemonic to remember these in descending order of their numbering is Nature. The mantle zone of the earth is orange, the land is grey, the grass is green, the butterfly on the grass is pink, the sky is blue and the sun is yellow.&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:768,&quot;11&quot;:4,&quot;12&quot;:0}\">Option D:&nbsp;The <strong>green</strong>&nbsp;IV cannula is <strong>18G</strong> with a flow rate of <strong>103 mL/min.</strong></span></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/2614d48902c148fa861d792a249134a4.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Match the following muscle relaxants with their respective durations of action.",
    "choices": [
      {
        "id": 1,
        "text": "1-A, 2-B, 3-C, 4-D"
      },
      {
        "id": 2,
        "text": "1-D, 2-C, 3-A, 4-B"
      },
      {
        "id": 3,
        "text": "1-C, 2-D, 3-A, 4-B"
      },
      {
        "id": 4,
        "text": "1-A, 2-C, 3- B, 4-D"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The correctly matched&nbsp;muscle relaxants with their respective durations of action are <strong>1-C, 2-D, 3-A, 4-B</strong>.</p>\n<p><strong>Neuromuscular blocking drugs</strong> (NMBDs) are administered to facilitate endotracheal intubation, mechanical ventilation, and various surgical procedures by relaxing skeletal muscles. However, they are not administered to prevent patient movement. There are two types of NMBDs:</p>\n<ul>\n<li><strong>Depolarizing</strong>: <strong>Succinylcholine</strong> is the only available depolarizing NMBD, characterized by rapid onset and ultrashort duration of action.</li>\n<li><strong>Non-depolarizing</strong>:\n<ul>\n<li>Many NMBDs are available, classified according to chemical class or duration of action.</li>\n<li>They&nbsp;produce neuromuscular blockade by competing with acetylcholine for the postsynaptic &alpha; subunits.</li>\n<li>The speed of onset is inversely proportional to the potency of the drug.</li>\n<li>The normal neuromuscular function must return after the administration of the drug, using objective means of monitoring. Residual neuromuscular paralysis decreases esophageal tone and disrupts muscle coordination during swallowing.</li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In the medical ward, SpO2 of a 14-year-old female patient was found to be 85% despite 100% oxygenation. She is hemodynamically stable. On examination, she has nail polish over her fingernails. Which of the following color of nail polish is associated with inaccurate/ falsely low readings in pulse oximeter?",
    "choices": [
      {
        "id": 1,
        "text": "Yellow"
      },
      {
        "id": 2,
        "text": "Purple"
      },
      {
        "id": 3,
        "text": "Red"
      },
      {
        "id": 4,
        "text": "Fluorescent green"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Purple color nail polish</strong>&nbsp;gives inaccurate/falsely low readings in pulse-oximeter. Nail polish colors which give inaccurate readings in pulse-oximeter are, <strong>purple,&nbsp;</strong><strong>dark blue</strong> and&nbsp;<strong>black</strong>.</p>\n<p>Pulse oximetry is a <strong>non-invasive </strong>measurement of the<strong> oxygen saturation</strong> of hemoglobin.&nbsp;</p>\n<p>But, a pulse oximeter is not always reliable as it reads</p>\n<ul>\n<li><strong>Falsely high</strong> -&nbsp;carboxyhemoglobinemia&nbsp;</li>\n<li><strong>Falsely low</strong> - severe anemia, low cardiac output states, hypovolemia, increased systemic vascular resistance&nbsp;</li>\n<li><strong>80% to 85%</strong>, irrespective of the arterial oxygen saturation -&nbsp;<strong>methemoglobinemia</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 15-month-old child who is posted for a minor surgical procedure is brought by his mother for preoperative evaluation. What would be the recommended period of fasting for this child?",
    "choices": [
      {
        "id": 1,
        "text": "6 hours for light meal, 2 hours for clear fluids"
      },
      {
        "id": 2,
        "text": "6 hours for fried foods, 2 hours for clear fluids"
      },
      {
        "id": 3,
        "text": "6  hours for light meal, 4 hours for clear fluids"
      },
      {
        "id": 4,
        "text": "6 hours for fried foods, 4 hours for clear fluids"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The recommended preoperative fasting period for this child is <strong>6 hours</strong> for a <strong>light meal</strong> and <strong>2 hours</strong> for <strong>clear fluids</strong>.</p>\n<p>Recommended preoperative fasting periods for all <strong>above 1 year </strong>of age are&nbsp;<strong>2 hours</strong> for <strong>clear fluids,&nbsp;</strong><strong>6 hours</strong> for a <strong>light meal, </strong>and<strong>&nbsp;</strong>8 hours for fried, fatty food.</p>\n<p style=\"text-align: left;\">Recommended preoperative fasting periods for <strong>neonates</strong> and<strong> infants</strong> are&nbsp;<strong>6 hours</strong> for <strong>solids</strong>/ formula feeds/ cow's milk, and&nbsp;<strong>4 hours</strong> for <strong>breast milk.</strong></p>\n<p>The goal of recommending preoperative fasting periods is to <strong>reduce</strong> the <strong>risk</strong> of<strong> pulmonary aspiration.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 54-year-old postmenopausal woman who is on hormone replacement therapy is planned to undergo knee replacement surgery.  The correct statement regarding the hormone replacement therapy in this patient is?",
    "choices": [
      {
        "id": 1,
        "text": "Discontinue HRT 4 weeks before surgery"
      },
      {
        "id": 2,
        "text": "Continue HRT on the day of surgery"
      },
      {
        "id": 3,
        "text": "Discontinue HRT 4 days before surgery"
      },
      {
        "id": 4,
        "text": "Reduce the dose of HRT on the day of surgery"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Hormone Replacement Therapy </strong>should be stopped <strong>4 weeks before surgery</strong> since the estrogen in it increase the risk of <strong>thromboembolic complications.</strong> It is seen that the coagulation function returns to baseline after 4 weeks of stoppage of HRT.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The opioid which has maximum lipid solubility is ________",
    "choices": [
      {
        "id": 1,
        "text": "Morphine"
      },
      {
        "id": 2,
        "text": "Fentanyl"
      },
      {
        "id": 3,
        "text": "Sufentanil"
      },
      {
        "id": 4,
        "text": "Remifentanil"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Sufentanil</strong> has the <strong>highest water partition coefficient </strong>and hence has the <strong>maximum lipid solubility.</strong></p>\n<p>Therefore, Sufentanil is the <strong>most potent opioid</strong>.</p>\n<div class=\"page\" title=\"Page 1\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Opioids wih a high octanol/water partition coefficient are called lipophilic opioids. They have a <strong>rapid onset</strong> and a much <strong>shorter duration of action. </strong>It is ideal for continuous epidural infusion (CEI) or patient controlled epidural anesthesia (PCEA).</p>\n</div>\n</div>\n</div>\n<p>Fentanyl is 100 times more potent and sufentanil is 1000 times more potent than morphine.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient is posted for an elective procedure under general anesthesia. Being an intern in the anesthetist's team, you are asked to monitor the bispectral Index. What will be the bispectral index (BIS) reading if the patient is still in a state of sedation and not under adequate general anesthesia?",
    "choices": [
      {
        "id": 1,
        "text": "80-100"
      },
      {
        "id": 2,
        "text": "65-85"
      },
      {
        "id": 3,
        "text": "40-65"
      },
      {
        "id": 4,
        "text": "20-40"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p style=\"text-align: justify;\">The range of bispectral index<strong>&nbsp;</strong>reading&nbsp;if the patient is still in the state of<strong> sedation</strong> and not under adequate general anesthesia is&nbsp;<strong>65-85</strong>.</p>\n<p style=\"text-align: justify;\">BIS is a monitoring technique used to check the&nbsp;<strong>depth </strong>of<strong> anesthesia</strong> and <strong>prevent intraoperative awareness</strong>. It processes the EEG and provides an index value between 0 and 100 that indicates the <strong>patient&rsquo;s</strong> level of<strong> consciousness. </strong>BIS monitors examine <strong>four components </strong>within the<strong> EEG</strong> that are associated with the anesthetic state.</p>\n<ol>\n<li style=\"text-align: justify;\">Low frequency, as found during deep anesthesia.</li>\n<li style=\"text-align: justify;\">High-frequency beta activation, found during light anesthesia.</li>\n<li style=\"text-align: justify;\">Suppressed EEG waves.</li>\n<li style=\"text-align: justify;\">Burst suppression.</li>\n</ol>\n<p>It has numerical values from 0 to 100, with 0 representing isoelectric EEG and 100 being awake CNS. Recommended range of Bispectral index (BIS)&nbsp;for <strong>general anesthesia</strong> is&nbsp;<strong>40-65</strong>.</p>\n<table style=\"width: 287.133px;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"width: 87px; text-align: center;\">&nbsp;BIS&nbsp; <br />value</td>\n<td style=\"width: 184.133px;\">&nbsp;&nbsp; Interpretation</td>\n</tr>\n<tr>\n<td style=\"width: 87px;\">&nbsp;&nbsp;&nbsp;&nbsp; 80-100</td>\n<td style=\"width: 184.133px; text-align: center;\">&nbsp;&nbsp; Awake(Respond to normal voice)</td>\n</tr>\n<tr>\n<td style=\"width: 87px;\">&nbsp; &nbsp; &nbsp;65-85</td>\n<td style=\"width: 184.133px; text-align: center;\">sedation</td>\n</tr>\n<tr>\n<td style=\"width: 87px;\">&nbsp; &nbsp; &nbsp;40-65</td>\n<td style=\"width: 184.133px; text-align: center;\">General anesthesia</td>\n</tr>\n<tr>\n<td style=\"width: 87px;\">&nbsp; &nbsp; &nbsp; &lt;40</td>\n<td style=\"width: 184.133px; text-align: center;\">&nbsp;Deep hypnosis(Cortical suppression)</td>\n</tr>\n<tr>\n<td style=\"text-align: center; width: 87px;\">0&nbsp;</td>\n<td style=\"width: 184.133px; text-align: center;\">Coma (Flatline EEG)</td>\n</tr>\n</tbody>\n</table>\n<p>Monitors used to assess the depth of anesthesia are:&nbsp;</p>\n<ol>\n<li>Electroencephalography (EEG)</li>\n<li>Bispectral index (BIS)</li>\n<li>Entropy</li>\n<li>Evoked responses (EP) - Motor EP, sensory EP (Auditory, visual, brain stem evoked potential)</li>\n<li>Patient state index</li>\n<li>Narcotrend.</li>\n</ol>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Match the following American Society of Anesthesiologists Physical Status (ASA-PS) categories to the conditions.",
    "choices": [
      {
        "id": 1,
        "text": "I-e, II-b, III-a, IV-d, V-c"
      },
      {
        "id": 2,
        "text": "I-c, II-e, III-d, IV-a, V-b"
      },
      {
        "id": 3,
        "text": "I-c,II-d, III-b, IV-e, V-a"
      },
      {
        "id": 4,
        "text": "I-c, II-a, III-d, IV-b, V-e"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The correctly matched&nbsp;American Society of Anesthesiologists Physical Status (ASA-PS) categories to their definitions is <strong>I-c, II-e, III-d, IV-a, and V-b.</strong></p>\n<table style=\"height: 12px; width: 482.156px;\">\n<tbody>\n<tr style=\"height: 36px;\">\n<td style=\"width: 125px; text-align: center; height: 36px;\"><strong>ASA-PS categories</strong></td>\n<td style=\"width: 338.156px; text-align: center; height: 36px;\"><strong>Conditions</strong></td>\n</tr>\n<tr style=\"height: 42px;\">\n<td style=\"width: 125px; text-align: center; height: 42px;\">I</td>\n<td style=\"width: 338.156px; height: 42px;\">c. Healthy, nonsmoking, minimal alcohol use&nbsp;&nbsp;</td>\n</tr>\n<tr style=\"height: 45px;\">\n<td style=\"width: 125px; text-align: center; height: 45px;\">II</td>\n<td style=\"width: 338.156px; height: 45px;\">e. Current smoker/drinker with well-controlled diabetes mellitus/hypertension</td>\n</tr>\n<tr style=\"height: 47px;\">\n<td style=\"width: 125px; text-align: center; height: 47px;\">III</td>\n<td style=\"width: 338.156px; height: 47px;\">d. Poorly controlled chronic obstructive pulmonary disease</td>\n</tr>\n<tr style=\"height: 22px;\">\n<td style=\"width: 125px; text-align: center; height: 22px;\">IV</td>\n<td style=\"width: 338.156px; height: 22px;\">a. Recent myocardial infarction&nbsp;</td>\n</tr>\n<tr style=\"height: 31.2734px;\">\n<td style=\"width: 125px; text-align: center; height: 31.2734px;\">V</td>\n<td style=\"width: 338.156px; height: 31.2734px;\">b. Ruptured abdominal aortic aneurysm</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>\n<p>The ASA-PS helps in assessing<strong>&nbsp;</strong>the patient's&nbsp;<strong>risk </strong>of&nbsp;undergoing&nbsp;<strong>anesthesia </strong>and <strong>surgery</strong>.<strong>&nbsp;</strong>It also&nbsp;<strong>improves</strong> the physician's <strong>clinical decision making</strong> by&nbsp;identifying&nbsp;alternative treatment options and the extent of postoperative care and monitoring that may be required. It also helps in&nbsp;preparing for interventions that might need to be carried out in the case of deterioration.&nbsp;</p>\n<p>However, it does not consider the risks of the&nbsp;surgical procedure itself, resulting in postoperative complications and mortality when performed alone. Hence, a <strong>combination</strong> of assessment of the <strong>risks</strong> of the <strong>operative procedure</strong> and those of the <strong>patient's preoperative medical status</strong> must constitute the <strong>overall perioperative risk</strong>. Another limitation is that the ASA-PA classification shows a lot of subjectivity since different anesthesiologists would assign different categories to the same patient.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What alternative drug would you use for cardiac arrest if epinephrine is not effective?",
    "choices": [
      {
        "id": 1,
        "text": "Vasopressin"
      },
      {
        "id": 2,
        "text": "Atropine"
      },
      {
        "id": 3,
        "text": "Amiodarone"
      },
      {
        "id": 4,
        "text": "Adenosine"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Epinephrine and amiodarone </strong>are the two main drugs <strong>approved by the AHA </strong>for the resuscitation of a cardiac arrest patient.</p>\n<p>The first dose of epinephrine 1 mg IV is administered after the 2<sup>nd</sup>&nbsp;defibrillator shock is delivered and it is continued every 3-5 minutes.</p>\n<p>If this is not effective, 300 mg IV bolus dose of amiodarone can be given and another dose of 150 mg given if necessary</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A male patient was given anesthesia for a surgical procedure. After a few minutes, the anesthetist noticed there was a masseter muscle spasm in the patient. His vitals are given below. Which of the following drugs is least likely to cause this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Atracurium"
      },
      {
        "id": 2,
        "text": "Halothane"
      },
      {
        "id": 3,
        "text": "Desflurane"
      },
      {
        "id": 4,
        "text": "Succinylcholine"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical scenario of masseter muscle spasm with <strong>hyperthermia</strong> and elevated blood pressure suggests the diagnosis of\u00a0<strong>malignant hyperthermia.</strong> The least likely drug to cause this condition is\u00a0<strong>atracurium</strong>.</p>\n<p>Malignant hyperthermia is a hypermetabolic condition, seen on exposure to <strong>inhaled anesthetics</strong> or <strong>succinylcholine</strong>.\u00a0</p>\n<p>The pathophysiology behind the development of malignant hyperthermia is that there is an <strong>uncontrolled increase </strong>in <strong>intracellular calcium </strong>in skeletal muscle. This sudden release of calcium can result in sustained muscle contraction by removing the inhibition of troponin. This leads to increased oxygen consumption, and increased CO<sub>2</sub> production, producing severe <strong>lactic acidosis</strong> and hyperthermia.\u00a0</p>\n<p>Drugs known to trigger this condition include:\u00a0</p>\n<ul>\n<li><strong>Inhaled anesthetics:\u00a0</strong>Halothane, isoflurane, sevoflurane, desflurane, ether, methoxyflurane</li>\n<li><strong>Depolarising muscle relaxant:\u00a0</strong>Succinylcholine.</li>\n</ul>\n<div class=\"ng-scope\">\n<div class=\"ng-scope\">\n<p class=\"ng-binding\"><strong>Atracurium</strong> is a <strong>non-depolarizing muscle relaxant</strong> and is not implicated in malignant hyperthermia.</p>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements are correct regarding the cylinder shown below?",
    "choices": [
      {
        "id": 1,
        "text": "1, 2 are correct."
      },
      {
        "id": 2,
        "text": "1, 3, 4 are correct."
      },
      {
        "id": 3,
        "text": "1, 4,5 are correct."
      },
      {
        "id": 4,
        "text": "3, 4, 5 are correct."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given image shows an&nbsp;<strong>oxygen cylinder</strong> and Statements 1,3 and 4 are correct regarding the oxygen cylinder.</p>\n<p>Salient features of oxygen cylinder:</p>\n<ul>\n<li>Black cylinders with white shoulders are used to store <strong>oxygen</strong>.</li>\n<li>The pin index of the oxygen cylinder is <strong>2,5</strong>.&nbsp;</li>\n<li>The maximum pressure in the oxygen cylinder is around <strong>2000 psi</strong>.&nbsp;</li>\n<li>The critical temperature of oxygen is -<strong>119 &ordm;C;</strong>&nbsp;hence, it is present in the <strong>gaseous form</strong>&nbsp;at room temperature.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c32cfcd997ec4113baf5c6fa4eeb6790.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "An unresponsive child is brought to the emergency room. His BP is not recordable and pulse rate is 40 per minute. CPR is initiated. Despite proper oxygenation and ventilation, his SpO2 is 70% and pulse rate is not improving. What is the dose of epinephrine that needs to be given to the child?",
    "choices": [
      {
        "id": 1,
        "text": "0.05mg/ kg of 1:10,000 solution"
      },
      {
        "id": 2,
        "text": "0.01mg/ kg of 1:10,000 solution"
      },
      {
        "id": 3,
        "text": "0.01mg/ kg of 1:1000 solution"
      },
      {
        "id": 4,
        "text": "0.05mg/ kg of 1:1000 solution"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In a child who continues to have <strong>bradycardia</strong> despite initiating <strong>CPR</strong>, the dose of <strong>epinephrine</strong> that needs to be given is <strong>0.01 mg/kg </strong>of\u00a0<strong>1:10,000 solution</strong>\u00a0(0.1 mL/kg of 1:10,000).\u00a0</p>\n<p><strong>Epinephrine</strong> can be given <strong>intravenously</strong> or via the <strong>intraosseous</strong> route if the intravenous route is not accessible. It is repeated every 3-5 minutes. If intravenous or intraosseous access cannot be obtained, then it can be administered via the <strong>endotracheal route</strong> at a dose of <strong>0.1 mg/kg of 1:1,000 solution</strong>\u00a0(0.1 mL/kg of 1:1000).</p>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/787d6e3faad94ea4901f759e29249689x1280x3242.JPEG"
    ]
  },
  {
    "text": "Identify the following circuit shown in the image.",
    "choices": [
      {
        "id": 1,
        "text": "Lack\u2019s circuit"
      },
      {
        "id": 2,
        "text": "Magill\u2019s circuit"
      },
      {
        "id": 3,
        "text": "Jackson Rees circuit"
      },
      {
        "id": 4,
        "text": "Bain\u2019s circuit"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given circuit is&nbsp;<strong>Bain's circuit</strong> which is a <strong>coaxial modification </strong>of the <strong>Mapleson D circuit&nbsp;</strong>since it has two tubings- inner and outer tubing.</p>\n<div class=\"page\" title=\"Page 714\">Bain's circuit has</div>\n<ul>\n<li><strong>Inner inspiratory</strong> tubing: carries fresh gas flow to the patient</li>\n<li><strong>Outer expiratory</strong> tubing: carries exhaled gases out through APL (adjustable pressure limiting) valve</li>\n</ul>\n<div class=\"page\" title=\"Page 714\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The fresh gas tube enters the outer corrugated tube near the reservoir bag, but it actually enters the circuit near the patient. The exhaled gases pass through the outer corrugated tube and get vented out via the pop-off valve near the reservoir bag. These exhaled gases that pass through the outer corrugated tube provide warmth to the inspired fresh gases by countercurrent heat exchange.</p>\n</div>\n</div>\n</div>\n</div>\n<p>The main hazards related to the use of the Bain&rsquo;s circuit are an <strong>unrecognized disconnection</strong> or <strong>kinking of the inner fresh gas hose</strong>. These problems can cause <strong>hypercapnia</strong> as a result of inadequate gas flow or increased respiratory resistance. The outer corrugated tube must be <strong>transparent</strong> to allow ongoing inspection of the inner tube.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d6c76a6a2c0d4f3e9103710e43baf54e.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1b241ed1e467490c86682490e312a02cx1280x1678.984485190409.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cdc8693cdadf4d609f77955fed3cd37cx1280x1882.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c7b9bb47eea844e9b2bfc5b3c7a40c3ax1280x1047.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d0729a0f679944c4bcb0f74780b836e6x1280x1212.JPEG"
    ]
  },
  {
    "text": "In which of the following patients would you prefer not to use a laryngeal mask airway (LMA) for securing the airway?",
    "choices": [
      {
        "id": 1,
        "text": "Providing CPR to a patient who had a road traffic accident"
      },
      {
        "id": 2,
        "text": "A 45-year-old male patient with suspected lung carcinoma, planned for bronchoscopy"
      },
      {
        "id": 3,
        "text": "A 50-year-old man planned for laparoscopic appendicectomy, having Mallampati class III airway"
      },
      {
        "id": 4,
        "text": "A term G2P1L1 previously diagnosed with preeclampsia planned for elective LSCS"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>From the above-given options,&nbsp;laryngeal mask airway (LMA) cannot be used in a&nbsp;<strong>term woman previously diagnosed with preeclampsia planned for elective LSCS. </strong>This is because pregnancy is a state which is <strong>more prone to aspiration</strong> and hence<strong> LMA is contraindicated.</strong></p>\n<p>A<strong> laryngeal mask airway</strong> (LMA) is a supraglottic device that consists of a wide bore tube. It has a proximal end connected to a breathing circuit while a distal end is connected to an elliptical cuff which can be inflated through a pilot tube.&nbsp;</p>\n<p>It is inserted in a deflated manner following lubrication blindly into the hypopharynx. After inflation, it forms a low-pressure seal around the laryngeal entry.&nbsp;Ideally positioned cuff will have the base of the tongue superiorly and the upper esophageal sphincter inferiorly. Pyriform sinuses should be present laterally.</p>\n<p>It is <strong>indicated</strong> in cases with <strong>difficult</strong> <strong>airways</strong> where endotracheal intubation is not possible or not available. It can be used as an alternative to an endotracheal tube for ventilating and oxygenating the patient.&nbsp;<strong>&nbsp;</strong></p>\n<p><strong>Indications </strong>are acute trauma, difficult intubation, and laparoscopic surgeries, to facilitate fibreoptic intubation.</p>\n<p>LMA is relatively <strong>contraindicated</strong> in</p>\n<ul>\n<li>Conditions that are associated with an increased risk of aspiration such as&nbsp;<strong>hiatus</strong>&nbsp;<strong>hernia</strong>, and&nbsp;<strong>pregnancy</strong>.&nbsp;</li>\n<li>The presence of a <strong>pharyngeal</strong> <strong>pathology</strong> such as an abscess or tumor, or a <strong>pharyngeal obstruction.</strong></li>\n<li><strong>Low pulmonary compliance.</strong></li>\n</ul>\n<p><strong>Advantages of LMA&nbsp;</strong>are hands-free operation, better seal, and easy-to-maintain airway. It protects against secretions when compared to face masks. When compared with tracheal intubation, it is less invasive, useful in difficult intubations, causes less damage to the tooth and larynx, and does not require muscle relaxant and mobilization of the neck.</p>\n<p>The <strong>disadvantages</strong> associated with the use of LMA in comparison with tracheal intubation are<strong>&nbsp;increased</strong> risk of gastrointestinal aspiration<strong>,&nbsp;</strong>less safe in prone or jack-knife positions,&nbsp;less secure airway, and greater risk of a gas leak and pollution.</p>\n<p>The below image shows the normal positioning of LMA.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/194b9ae9f30941af84bccaeaf3207e28x1280x1428.JPEG"
    ]
  },
  {
    "text": "Which of the following statements are true about eutectic mixture of local anesthetic (EMLA)?",
    "choices": [
      {
        "id": 1,
        "text": "2, 4, 5"
      },
      {
        "id": 2,
        "text": "3 and 4 only"
      },
      {
        "id": 3,
        "text": "1, 3, 5"
      },
      {
        "id": 4,
        "text": "1 and 5 only"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong><span data-preserver-spaces=\"true\">Statements 3</span></strong><span data-preserver-spaces=\"true\">&nbsp;and</span><strong><span data-preserver-spaces=\"true\">&nbsp;4</span></strong><span data-preserver-spaces=\"true\">&nbsp;are&nbsp;</span><strong><span data-preserver-spaces=\"true\">true</span></strong><span data-preserver-spaces=\"true\">&nbsp;about</span><strong><span data-preserver-spaces=\"true\">&nbsp;EMLA.&nbsp;</span></strong></p>\n<p><strong><span data-preserver-spaces=\"true\">EMLA (Eutectic Mixture of Local Anesthetic)&nbsp;</span></strong><span data-preserver-spaces=\"true\">cream consists of a&nbsp;</span><strong><span data-preserver-spaces=\"true\">1:1</span></strong><span data-preserver-spaces=\"true\">&nbsp;mixture of&nbsp;</span><strong><span data-preserver-spaces=\"true\">2.5% lidocaine</span></strong><span data-preserver-spaces=\"true\">&nbsp;and</span><strong><span data-preserver-spaces=\"true\">&nbsp;2.5% prilocaine.</span></strong></p>\n<p><span data-preserver-spaces=\"true\">An eutectic mixture has a melting point lesser than the individual drugs and hence the mixture is in the oil form at room temperature.</span></p>\n<p><span data-preserver-spaces=\"true\">EMLA can provide&nbsp;</span><strong><span data-preserver-spaces=\"true\">adequate dermal analgesia</span></strong><span data-preserver-spaces=\"true\">&nbsp;for procedures like:</span></p>\n<ul>\n<li><span data-preserver-spaces=\"true\">Split skin-graft harvesting</span></li>\n<li><span data-preserver-spaces=\"true\">Venipuncture</span></li>\n<li><span data-preserver-spaces=\"true\">Intravenous cannulation in children</span></li>\n<li><span data-preserver-spaces=\"true\">Laser skin treatments</span></li>\n<li><span data-preserver-spaces=\"true\">Lithotripsy</span></li>\n<li><span data-preserver-spaces=\"true\">Circumcision</span></li>\n</ul>\n<p><span data-preserver-spaces=\"true\">EMLA cream&nbsp;</span><strong><span data-preserver-spaces=\"true\">should not</span></strong><span data-preserver-spaces=\"true\">&nbsp;be&nbsp;</span><strong><span data-preserver-spaces=\"true\">used</span></strong><span data-preserver-spaces=\"true\">&nbsp;on&nbsp;</span><strong><span data-preserver-spaces=\"true\">mucous membranes, broken skin,</span></strong><span data-preserver-spaces=\"true\">&nbsp;infants younger than 1 month of age, or patients with a predisposition to methemoglobinemia.</span></p>\n<p><span data-preserver-spaces=\"true\">Side Effects include-&nbsp;</span><strong><span data-preserver-spaces=\"true\">blanching</span></strong><span data-preserver-spaces=\"true\">&nbsp;of the skin,&nbsp;</span><strong><span data-preserver-spaces=\"true\">erythema,</span></strong><span data-preserver-spaces=\"true\">&nbsp;and&nbsp;</span><strong><span data-preserver-spaces=\"true\">edema.</span></strong><span data-preserver-spaces=\"true\">&nbsp;&nbsp;</span></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ea7b51e3bcca46d0bb7e94f77526bc6fx512x113.PNG"
    ]
  },
  {
    "text": "Which among the following statements is true regarding the combined spinal-epidural needle?",
    "choices": [
      {
        "id": 1,
        "text": "It has slower onset of action"
      },
      {
        "id": 2,
        "text": "It  does not allow for increasing of block height"
      },
      {
        "id": 3,
        "text": "It is used commonly in obstetric anesthesia"
      },
      {
        "id": 4,
        "text": "It is not used for immediate pain relief"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><span data-preserver-spaces=\"true\">The <strong>combined spinal-epidural (CSE)</strong>&nbsp;anesthesia is most widely used in&nbsp;</span><strong><span data-preserver-spaces=\"true\">obstetric</span></strong><span data-preserver-spaces=\"true\">&nbsp;</span><strong><span data-preserver-spaces=\"true\">anesthesia</span></strong><span data-preserver-spaces=\"true\">&nbsp;in&nbsp;</span>labor.&nbsp;</p>\n<p><span data-preserver-spaces=\"true\"><strong>Combined spinal-epidural</strong>&nbsp;allows for&nbsp;</span><strong><span data-preserver-spaces=\"true\">clinical</span></strong><span data-preserver-spaces=\"true\">&nbsp;flexibility, with a&nbsp;</span><strong><span data-preserver-spaces=\"true\">rapid onset</span></strong><span data-preserver-spaces=\"true\">&nbsp;of action from the <strong>spinal</strong> block and a&nbsp;</span><strong><span data-preserver-spaces=\"true\">longer duration</span></strong><span data-preserver-spaces=\"true\">&nbsp;of analgesia and anesthesia with the <strong>epidural</strong> catheter. The epidural catheter can be left in situ to manage&nbsp;</span>post-operative pain.&nbsp;&nbsp;</p>\n<p><span data-preserver-spaces=\"true\">When CSE&nbsp;is used during labor, an&nbsp;</span><strong><span data-preserver-spaces=\"true\">opioid</span></strong><span data-preserver-spaces=\"true\">&nbsp;and a&nbsp;</span><strong><span data-preserver-spaces=\"true\">local anesthetic</span></strong><span data-preserver-spaces=\"true\">&nbsp;are introduced via the&nbsp;</span><strong><span data-preserver-spaces=\"true\">spinal</span></strong><span data-preserver-spaces=\"true\">&nbsp;route for&nbsp;</span><strong><span data-preserver-spaces=\"true\">immediate</span></strong><span data-preserver-spaces=\"true\">&nbsp;<strong>pain relief</strong>. The epidural catheter is used for continued pain relief and&nbsp;</span><strong><span data-preserver-spaces=\"true\">operative intervention</span></strong>&nbsp;(if required).<span data-preserver-spaces=\"true\">&nbsp;</span></p>\n<p><span data-preserver-spaces=\"true\">It has the advantage of&nbsp;</span><strong><span data-preserver-spaces=\"true\">dose flexibility</span></strong><span data-preserver-spaces=\"true\">, as</span><span data-preserver-spaces=\"true\">&nbsp;the target block height can be reached by topping up the drug</span><span data-preserver-spaces=\"true\">&nbsp;via the epidural catheter when required. This allows a&nbsp;</span><strong><span data-preserver-spaces=\"true\">lower dose </span></strong><span data-preserver-spaces=\"true\">of spinal anesthetic</span><span data-preserver-spaces=\"true\">&nbsp;to be given initially.</span></p>\n<p><span data-preserver-spaces=\"true\">Additional use is in&nbsp;<strong>increasing block height.</strong> This can be done by additional&nbsp;infiltration of a<strong> local anesthetic or saline</strong> to the <strong>epidural space</strong> via the catheter in a patient on the spinal block. This will&nbsp;compress&nbsp;the&nbsp;dural sac&nbsp;and&nbsp;increase the block height.&nbsp;This is called&nbsp;<strong>epidural volume extension</strong>&nbsp;(EVE) and has been shown to provide&nbsp;significantly<strong> faster recovery</strong>&nbsp;in cesarean section patients.</span></p>\n<p><span data-preserver-spaces=\"true\">This method has many <strong>benefits</strong> such as&nbsp;</span></p>\n<ul>\n<li><span data-preserver-spaces=\"true\">Reduced side effects</span></li>\n<li><span data-preserver-spaces=\"true\">Faster recovery</span></li>\n<li><span data-preserver-spaces=\"true\">Earlier discharge&nbsp;</span></li>\n<li><span data-preserver-spaces=\"true\">Better hemodynamic stability for high-risk patients</span></li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d6757ed4042145c5843e82d576ec1803x1280x1717.799717912553.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/748ddf46614c427fbee516351211e0b2x1200x799.JPEG"
    ]
  },
  {
    "text": "A brachial plexus block is given by injecting a local anesthetic at the point shown in the image. Which of the following nerves are blocked in this procedure?",
    "choices": [
      {
        "id": 1,
        "text": "2, 3, 4"
      },
      {
        "id": 2,
        "text": "1, 3, 4"
      },
      {
        "id": 3,
        "text": "1, 2, 4"
      },
      {
        "id": 4,
        "text": "1, 2, 3"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p style=\"text-align: justify;\">The image shows a <strong>local anesthetic</strong> being <strong>injected</strong> into the <strong>tip</strong> of the <strong>axilla</strong> around the <strong>axillary artery.</strong> This is the method used to perform the\u00a0<strong>axillary block.\u00a0</strong>The nerves blocked are the <strong>ulnar, radial, and median nerves.\u00a0</strong></p>\n<p style=\"text-align: justify;\">The axillary block is used for <strong>elbow </strong>and<strong> distal upper extremity anesthesia</strong>. The most important landmark is the pulse of the <strong>axillary artery</strong> just distal to the pectoralis major near the anterior axillary wall. Usually, the median, ulnar, and radial nerves (close the arterial wall) and the musculocutaneous nerve (showing a characteristic medial-to-lateral course in the axilla) can be seen.</p>\n<p style=\"text-align: justify;\">Although this is a safe and effective technique, the <strong>musculocutaneous nerve fails to be blocked</strong> as it changes its course from\u00a0adjacent the axillary artery to within the coracobrachialis muscle and then exiting the muscle. However, this can be prevented by ultrasound imaging, which helps in direct visualization of the nerve.\u00a0</p>\n<p style=\"text-align: justify;\">The arm to be blocked should be <strong>abducted at 90\u00b0</strong>\u00a0and the forearm may\u00a0be supported horizontally at 90\u00b0 or above or behind the head for optimal positioning of the patient for the procedure.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/9b65488b401d44a0ba004b58937c3ee3.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/da2acef57bd04f4fbfb764b1826d8508x1280x1762.JPEG"
    ]
  },
  {
    "text": "You are assisting your senior resident who is performing the procedure shown in the image. He engages you with some historical trivia and asks you who performed this procedure first. What would your answer be?",
    "choices": [
      {
        "id": 1,
        "text": "John Lundy"
      },
      {
        "id": 2,
        "text": "August Bier"
      },
      {
        "id": 3,
        "text": "Carl Koller"
      },
      {
        "id": 4,
        "text": "Oliver Wendell"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The procedure shown in the above picture is<strong> spinal anesthesia.</strong></p>\n<p>The first case of spinal anesthesia in humans was performed by<strong> August Bier in 1898.&nbsp;</strong>He performed spinal anesthesia using the local anesthetic <strong>cocaine.</strong></p>\n<p>Spinal anesthesia involves the administration of a local anesthetic into the spinal <strong>subarachnoid space</strong> to provide motor and sensory blockade. Another contribution by August Bier is 'Bier's block' or IVRA (intravenous regional anesthesia).</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/9e33529d9e3a48a781227efbc1e0f729.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/961adcaf98934f739fc272c94705d34ex1280x1656.JPEG"
    ]
  },
  {
    "text": "Which of the following local anaesthetics is not metabolised by plasma esterase?",
    "choices": [
      {
        "id": 1,
        "text": "Tetracaine"
      },
      {
        "id": 2,
        "text": "Procaine"
      },
      {
        "id": 3,
        "text": "Cocaine"
      },
      {
        "id": 4,
        "text": "Articaine"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Cocaine</strong> is the <strong>only</strong> amino ester that is not metabolized by plasma cholinesterases. It&nbsp;is partially metabolized by <strong>hepatic carboxylesterase</strong> and partially excreted unchanged in the urine.</p>\n<p><strong>Articaine</strong> is the only <strong>amino amide</strong> which is inactivated by <strong>plasma esterases</strong>.</p>\n<p>Note:&nbsp;<strong>Cocaine</strong> is a&nbsp;<strong>vasoconstrictor&nbsp;</strong>due to<strong>&nbsp;</strong>its property of<strong>&nbsp;</strong>norepinephrine reuptake inhibition<strong>.&nbsp;</strong>All the other local anaesthetics are vasodilators except cocaine.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A junior resident was conducting a study on factors affecting dead space. In which of the following posture and airway position would he notice the maximum increase in dead space?",
    "choices": [
      {
        "id": 1,
        "text": "Upright posture with neck flexion"
      },
      {
        "id": 2,
        "text": "Upright posture with neck extension"
      },
      {
        "id": 3,
        "text": "Supine posture with neck flexion"
      },
      {
        "id": 4,
        "text": "Supine posture with neck extension"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>A junior resident would notice a maximum increase in dead space in&nbsp;<strong>Upright posture with Neck extension.</strong></p>\n<p>Dead space is the <strong>volume</strong> of a breath that does <strong>not participate in gas exchange</strong>. It is <strong>ventilation without perfusion.</strong></p>\n<ul>\n<li>Total dead space (<strong>Physiological dead space</strong>) = Anatomical dead space+alveolar dead space.</li>\n<li><strong>Anatomical dead space</strong> is the area in the tracheobronchial tree where the gaseous exchange between the lung and capillaries doesn&rsquo;t take place.&nbsp;It includes nasal cavity, larynx, trachea, bronchi, end of the terminal bronchiole.</li>\n<li><strong>Alveolar dead space</strong> is the volume of gas within unperfused alveoli (and thus not participating in gas exchange either)</li>\n</ul>\n<p><strong>Factors affecting dead space:</strong></p>\n<table style=\"width: 295px;\">\n<tbody>\n<tr>\n<td style=\"width: 177px;\">Factor</td>\n<td style=\"width: 106px;\">Effect</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\" colspan=\"2\">\n<p><strong>Posture</strong></p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\">\n<p>Upright</p>\n<p>Supine</p>\n</td>\n<td style=\"width: 106px;\">\n<p>&nbsp;Increase</p>\n<p>Decrease</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\" colspan=\"2\">\n<p>&nbsp;<strong>Position of Airway</strong></p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\">\n<p>Neck Extension</p>\n<p>Neck Flexion</p>\n</td>\n<td style=\"width: 106px;\">\n<p>Increase</p>\n<p>Decrease</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\">Age</td>\n<td style=\"width: 106px;\">Increase</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\">Artificial airway</td>\n<td style=\"width: 106px;\">Decrease</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\">Positive pressure ventilation</td>\n<td style=\"width: 106px;\">Increase</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\">Drug anti-cholinergic</td>\n<td style=\"width: 106px;\">Increase</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\" colspan=\"2\">\n<p>&nbsp;<strong>Pulmonary perfusion</strong></p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\">\n<p>Pulmonary embolism</p>\n<p>Hypotension</p>\n</td>\n<td style=\"width: 106px;\">\n<p>Increase</p>\n<p>Increase</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\" colspan=\"2\">\n<p>&nbsp;<strong>Pulmonary vascular disease</strong></p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\">\n<p>Emphysema</p>\n</td>\n<td style=\"width: 106px;\">Increase</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "During a coronary artery bypass graft surgery, the surgeon uses a therapeutic gas to flood the surgical field. Which of the following would he use?",
    "choices": [
      {
        "id": 1,
        "text": "Oxygen"
      },
      {
        "id": 2,
        "text": "Nitric oxide"
      },
      {
        "id": 3,
        "text": "Nitrous oxide"
      },
      {
        "id": 4,
        "text": "Carbon dioxide"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Carbon dioxide</strong> (CO2) is commonly used to flood the <strong>surgical field</strong> during <strong>cardiac surgery.</strong>&nbsp;</p>\n<p>A common cause of <strong>myocardial ischemia</strong> during open-heart surgery is <strong>air embolism</strong>&nbsp;to the coronary arteries.</p>\n<p>Carbon dioxide because of its higher density, <strong>displaces</strong> the <strong>air</strong> surrounding the open heart so that any <strong>gas bubbles trapped</strong> in the heart are of <strong>carbon dioxide</strong> (soluble) and not nitrogen (insoluble).&nbsp;&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An anesthetist used the airway device shown in the image given below on a patient. Which among the following statements is true regarding the adjunct?",
    "choices": [
      {
        "id": 1,
        "text": "It can cause damage to the teeth"
      },
      {
        "id": 2,
        "text": "It can be used in conscious patients"
      },
      {
        "id": 3,
        "text": "It does not cause laryngospasm"
      },
      {
        "id": 4,
        "text": "It can be safely used in facial trauma cases"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p class=\"p1\"><span class=\"s2\">The image shows a\u00a0<strong>nasopharyngeal airway</strong> and\u00a0its insertion. The true statement\u00a0is that it <strong>can be used in conscious patients</strong>.\u00a0</span></p>\n<p class=\"p1\"><span class=\"s2\">A nasopharyngeal airway is used to provide <strong>artificial airway passage</strong> to the hypopharynx. </span><span class=\"s2\">To place a nasopharyngeal airway, the device should be <strong>lubricated</strong> and inserted into the nose with the <strong>bevel facing the nasal septum</strong>, at a <strong>90-degree angle</strong> to the <strong>longitudinal axis</strong> of the body. </span><span class=\"s2\">It <strong>bypasses</strong> the <strong>gag reflex</strong> as they do not go through the mouth. Thus, it can be used in conscious patients or those who have been lightly anesthetized.</span></p>\n<p class=\"p1\"><span class=\"s2\">Care should be taken to <strong>avoid excessive force</strong> as damage to the nasal mucosa can result in epistaxis. The <strong>nasal approach </strong>should be <strong>avoided</strong> in conditions that put patients at <strong>higher risk </strong>for <strong>epistaxis</strong>. These conditions include but are not limited to coagulopathy, pregnancy, hereditary hemorrhagic telangiectasia, and uncontrolled hypertension.\u00a0</span><span class=\"s2\">Absolute contraindications include basilar skull fractures, <strong>facial trauma,</strong> midface disruption, and injury to the roof of the mouth.<br /></span></p>\n<p class=\"p1\"><span class=\"s2\">A</span><span class=\"s2\">n oropharyngeal airway is used to maintain the airway in <strong>anaesthetized patients</strong>. This adjunct prevents the tongue and epiglottis from falling back against the posterior pharynx and blocking the airway. They can cause coughing, retching, or<strong> laryngospasm</strong> in <strong>conscious</strong> patients.<br /></span></p>\n<p class=\"p1\"><span class=\"s2\">To place an oropharyngeal airway, the device is inserted with the <strong>curved portion (concave) facing upwards.</strong> It is then rotated 180 degrees to be put in place. The below image shows the oropharyngeal airway:</span></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/07691c967d8348e5bf968af72c7d3714.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6c0b57e3d94b4005a372c201118d7156x1280x798.JPEG"
    ]
  },
  {
    "text": "A 28-year-old male patient was brought to the trauma center following a bike accident. He was stuporous, speaking incoherent words in response to painful stimuli and bleeding from a deep penetrating wound in his right thigh. On examination, his pulse was weak and 110/min. His BP was 90/66 mmHg. His respiration rate was 22/min. The skin on his extremities was cold and clammy. What is the best method of restoring adequate cardiac output and tissue oxygenation in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Volume repletion by crystalloid administration."
      },
      {
        "id": 2,
        "text": "Stopping the source of bleeding."
      },
      {
        "id": 3,
        "text": "Volume repletion by blood transfusion."
      },
      {
        "id": 4,
        "text": "Administration of vasopressors."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above clinical picture points towards a diagnosis of <strong>hemorrhagic shock</strong>.</p>\n<p class=\"p1\">Nearly 70% of the body&rsquo;s total blood volume is estimated to be located in the venous circuit. Compliance of the venous system involves a relationship between venous volume and venous pressure. This pressure gradient drives venous flow and therefore the volume of venous return to the heart. Blood loss depletes this component of venous volume and reduces the pressure gradient; consequently, venous return is reduced.</p>\n<p>In a case of hemorrhagic shock, the most effective method of restoring adequate cardiac output, end-organ perfusion, and tissue oxygenation is to restore venous return to normal by locating and stopping the source of bleeding.</p>\n<p>Other options:</p>\n<ul>\n<li>Volume repletion will allow recovery from the shock state only when the bleeding has stopped and the first line is crystalloids, not blood products.</li>\n<li>Since the patient already has cutaneous vasoconstriction, vasopressors are not administered without prior adequate fluid resuscitation to avoid further vasoconstriction and gangrene formation.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You are an intern posted in the anesthesia department. While intubating a patient, you notice the following type of waveform in capnogram. This capnogram is usually seen in patients with _____.",
    "choices": [
      {
        "id": 1,
        "text": "Bronchospasm"
      },
      {
        "id": 2,
        "text": "Esophageal intubation"
      },
      {
        "id": 3,
        "text": "Rebreathing"
      },
      {
        "id": 4,
        "text": "Accidental extubation"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image given is a capnogram seen in patients with <strong>esophageal intubation.</strong> SpO<sub>2</sub> may be normal for 1 or 2 minutes, but then suddenly falls. The waveform that occurs in capnogram is due to the CO<sub>2</sub> in the stomach from the swallowed expired air, which gets washed out in a few breaths.</p>\n<p>A capnogram is a graphical representation of the <strong>partial pressure of CO<sub>2</sub></strong> during respiration. It provides information about <strong>ventilation, perfusion, </strong>and<strong> metabolism</strong> in an individual.</p>\n<p>It is commonly used to <strong>confirm endotracheal tube placement</strong>. The presence of a <strong>normal waveform</strong> for <strong>at</strong> <strong>least three breaths</strong> is confirmatory.&nbsp;</p>\n<p>The simplest and most widely used form of display for exhaled CO<sub>2</sub> is the time capnogram. The time capnogram displays both inspiratory and expiratory phases. The expiratory phase is divided into three distinct components.</p>\n<ul>\n<li style=\"text-align: left;\">Phase 1: Represents the end of inspiration and the beginning of expiration, when the free CO<sub>2</sub>&nbsp;gas that occupied the <strong>dead space</strong> in the airway is exhaled.</li>\n<li style=\"text-align: left;\">Phase 2: It represents a <strong>rapid rise </strong>in PCO<sub>2</sub> as alveolar gas appears.&nbsp;</li>\n<li style=\"text-align: left;\">Phase 3: This is a <strong>plateau</strong> phase where expiration continues but PCO<sub>2</sub> doesn't rise any further. The end of this phase is taken as end-tidal CO<sub>2</sub> (<strong>EtCO<sub>2</sub></strong>).</li>\n<li style=\"text-align: left;\">Phase 4: There is a <strong>sharp drop </strong>in PCO<sub>2</sub> to zero, representing inspiration.</li>\n</ul>\n<p>Uses of capnogram:</p>\n<ol>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Surest confirmatory sign of correct intubation.</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Diagnosis of malignant hyperthermia.</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Detecting obstruction of endotracheal tube.</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Indicates cardiac output.</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Diagnosis of pulmonary embolism, etc.</li>\n</ol>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1a687d79c9f248f69208535b87effeee.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9187d825cdc646269dbd235af449e323x1280x1075.JPEG"
    ]
  },
  {
    "text": "A 71-year-old patient underwent hip replacement surgery. Postoperatively, a target control infusion (TCI) pump was set up to administer an opioid analgesic. Which is the most suitable opioid used for this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Morphine"
      },
      {
        "id": 2,
        "text": "Pethidine"
      },
      {
        "id": 3,
        "text": "Fentanyl"
      },
      {
        "id": 4,
        "text": "Remifentanyl"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Remifentanil</strong> is the opioid that was most likely used in this elderly patient.</p>\n<p style=\"text-align: justify;\">Remifentanil is hydrolysed by <strong>plasma </strong>and <strong>tissue esterases </strong>and so its metabolism is independent of hepatic and renal function- no dose adjustment is required and is <strong>safe</strong> in <strong>liver failure</strong> patients and <strong>renal failure</strong> patients.</p>\n<p style=\"text-align: justify;\">Because of this hydrolysis, it has a <strong>high clearance</strong> and is <strong>eliminated</strong> <strong>rapidly</strong> with a quick recovery<strong> ( half-life<sup>&nbsp;</sup>less than 10 minutes)</strong> and thus is preferred in elderly patients.&nbsp;</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Anaesthesia Test';
        const quizFilename = 'anaesthesia-test-d1fe4bdf.html';
        let hierarchy = ["Marrow", "NEET PG Test Series Subject Wise", "Year 2021 - 22"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>