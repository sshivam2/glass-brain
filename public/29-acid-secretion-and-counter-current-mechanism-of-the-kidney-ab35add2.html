<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>29 Acid Secretion And Counter-Current Mechanism Of The Kidney - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Physiology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">12</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>What is the approximate daily production of non-volatile (metabolic) acids in an adult human body?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "12,000 to 24,000 mmol"
      },
      {
        "id": 2,
        "text": "70 to 100 mmol"
      },
      {
        "id": 3,
        "text": "1,000 to 1,500 mmol"
      },
      {
        "id": 4,
        "text": "450 to 550 mmol"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Answer: B) 70 to 100 mmol</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li>Non-volatile (Metabolic) or fixed acids are produced from incomplete <span class=\"customMeta\" data-dictid=\"5b1a045f5f169277719210c0ac7a1e\">metabolism</span> of carbohydrates (e.g. lactate), fats (e.g. ketones), and proteins (e.g. sulfate, phosphate).</li>\n\t<li>In a typical diet, the body excretes about 40% of nonvolatile acids (around 30 mEq/day) through <span class=\"customMeta\" data-dictid=\"189b6fc834169277719580eb39bb4c\">phosphate</span> systems and 60% (approximately 50 mEq/day) through NH4+ excretion.</li>\n\t<li>The net production of these fixed acids is about<strong> 70 to 100 mmol</strong> of H+ per day in an adult. This excludes lactate, as most of the <span class=\"customMeta\" data-dictid=\"5a751dc161169277719123aae1b764\">lactate</span> produced is metabolized and not excreted</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>12,000 to 24,000 mmol: <span class=\"customMeta\" data-dictid=\"656e217bb81692777202d82810ba2a\">Volatile</span> (Respiratory) Acids(option A)</strong></p>\n\n<ul>\n\t<li>The main <span class=\"customMeta\" data-dictid=\"656e217bb81692777202d82810ba2a\">volatile</span> acid is <span class=\"customMeta\" data-dictid=\"95585a69c21692777183b817f72e70\">carbonic acid</span> (H2CO3), which is more correctly <span class=\"customMeta\" data-dictid=\"047f8930dd1692777197fed61e213c\">referred</span> to as <span class=\"customMeta\" data-dictid=\"c32b3a9fac16927771831530888fdf\">carbon dioxide</span> (CO2). CO2 is the end-product of the complete <span class=\"customMeta\" data-dictid=\"224ea8a9e41692777194e81be113d8\">oxidation</span> of carbohydrates and <span class=\"customMeta\" data-dictid=\"bc6cd9a9f9169277720261812ea113\">fatty</span> acids.</li>\n\t<li>Basal CO2 production is typically 12,000 to 13,000 mmol/day. However, actual daily CO2 production is usually higher, often in the range of 12,000 to 24,000 mmol/day, depending on <span class=\"customMeta\" data-dictid=\"d92cbff33316927771927b4de10a5b\">metabolic</span> activity levels.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>Options <strong>C)</strong> and <strong>D)</strong> are incorrect values</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/rEqa0WMnVo7r9NkGLuRY1743679593.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/JQPoovZwlGqUUXX0ZjOs1743679719.mp3"
  },
  {
    "text": "<p>How does the excretion of ammonium (NH4+) contribute to bicarbonate (HCO3\u207b) regulation in the kidneys?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "It directly increases the concentration of HCO3\u207b in the urine."
      },
      {
        "id": 2,
        "text": "It generates HCO3\u207b , which is released into the bloodstream."
      },
      {
        "id": 3,
        "text": "It decreases the overall HCO3\u207b reabsorption in the kidneys."
      },
      {
        "id": 4,
        "text": "It prevents the secretion of H+ in the renal tubules."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct answer: B)\u00a0It generates HCO3\u207b , which is released into the bloodstream.</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The kidneys filter <span class=\"customMeta\" data-dictid=\"2311c3b4ac16927771831d4c919043\">bicarbonate</span> (HCO3\u207b) from the blood. Approximately 85% to 90% of <span class=\"customMeta\" data-dictid=\"2311c3b4ac16927771831d4c919043\">bicarbonate</span> is reabsorbed in the <span class=\"customMeta\" data-dictid=\"bdbac654081692777196f9aab116f0\">proximal</span> tubule, while only about 10% is reabsorbed in the <span class=\"customMeta\" data-dictid=\"5ff25303a01692777186731f6a4f5c\">distal</span> tubules and collecting ducts.</li>\n\t<li>When NH4+ is excreted, it is produced from the <span class=\"customMeta\" data-dictid=\"f325f24ae91692777185c749a7d0d2\">deamination</span> of <span class=\"customMeta\" data-dictid=\"543f207eb51692777181723491a358\">amino</span> acids. For each NH4+ <span class=\"customMeta\" data-dictid=\"4b2f2a6d0a16927771902f60fa9ff7\">ion</span> excreted, one HCO3\u207b <span class=\"customMeta\" data-dictid=\"4b2f2a6d0a16927771902f60fa9ff7\">ion</span> is generated and released into the bloodstream, helping to maintain acid-base balance.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>\u00a0It directly increases the concentration of HCO3</strong>\u207b<strong> in the urine: </strong>While NH4+ is excreted in the urine, it does not directly increase the concentration of HCO3- in the urine. Instead, NH4+ <span class=\"customMeta\" data-dictid=\"0f7653c9ef1692777187deaa35f749\">excretion</span> is <span class=\"customMeta\" data-dictid=\"8d0fca798b1692777191b6cd41880f\">linked</span> to HCO3\u207b generation in the bloodstream\u00a0<strong>(Option A).</strong></p>\n\n<p><strong>\u00a0It decreases the overall HCO3</strong>\u207b<strong> <span class=\"customMeta\" data-dictid=\"3086fd09371692777197a351ddde07\">reabsorption</span> in the kidneys:</strong> The <span class=\"customMeta\" data-dictid=\"0f7653c9ef1692777187deaa35f749\">excretion</span> of NH4+ does not decrease HCO3\u207b reabsorption; rather, it is part of the mechanism that helps maintain HCO3\u207b levels in the blood\u00a0<strong>(Option C).</strong></p>\n\n<p><strong>\u00a0It prevents the <span class=\"customMeta\" data-dictid=\"9b0ae3750916927771986c15d4ff4d\">secretion</span> of H+ in the <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> tubules: </strong>The presence of NH4+ does not prevent the <span class=\"customMeta\" data-dictid=\"9b0ae3750916927771986c15d4ff4d\">secretion</span> of H+ ions. In fact, H+ ions are secreted into the <span class=\"customMeta\" data-dictid=\"98d387b7bd1692777201278b27be72\">tubular</span> fluid, which is critical for HCO3\u207b reabsorption\u00a0<strong>(Option D).</strong></p>\n\n<p><br />\n\u00a0</p>\n\n<p><u>Factors Influencing <span class=\"customMeta\" data-dictid=\"2311c3b4ac16927771831d4c919043\">Bicarbonate</span> Excretion</u></p>\n\n<p>\u00a0</p>\n\n<p><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"295\" src=\"https://image.prepladder.com/content/zk80z9UjmWooe2GxwiHn1736147487.png\" width=\"500\" /></p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/zk80z9UjmWooe2GxwiHn1736147487.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/xSlJTZD6CZU3QhBV4gtD1743679958.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/A32UW61EdEFPKp71Bnc11743680066.mp3"
  },
  {
    "text": "<p>Which transport mechanism is primarily responsible for bicarbonate (HCO3\u207b) reabsorption in the proximal convoluted tubule (PCT)?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Na\u1429-K\u1429 ATPase pump"
      },
      {
        "id": 2,
        "text": "Na\u1429-H\u1429 antiporter"
      },
      {
        "id": 3,
        "text": "Cl\u207b-HCO3\u207b antiporter"
      },
      {
        "id": 4,
        "text": "H\u1429-ATPase pump"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Na\u1429-H\u1429 antiporter</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Mechanism of <span class=\"customMeta\" data-dictid=\"2311c3b4ac16927771831d4c919043\">Bicarbonate</span> Reabsorption</strong></p>\n\n<p><strong>Proximal <span class=\"customMeta\" data-dictid=\"3ddb367f1c16927771854815522adf\">Convoluted</span> <span class=\"customMeta\" data-dictid=\"4ba1c48e851692777201a91713191e\">Tubule</span> (PCT):</strong></p>\n\n<ul>\n\t<li><strong>Na\u1429-H\u1429 Antiporter:</strong> The primary mechanism for <span class=\"customMeta\" data-dictid=\"2311c3b4ac16927771831d4c919043\">bicarbonate</span> <span class=\"customMeta\" data-dictid=\"3086fd09371692777197a351ddde07\">reabsorption</span> involves the Na<strong>\u1429</strong>-H<strong>\u1429</strong> <span class=\"customMeta\" data-dictid=\"53b8a8ea7e1692777181bb8c3c631f\">antiporter</span> located on the <span class=\"customMeta\" data-dictid=\"c6223a27fb169277718147405290e1\">apical</span> surface of epithelial cells.</li>\n\t<li><strong>Carbonic Anhydrase:</strong> CA-4 catalyzes the <span class=\"customMeta\" data-dictid=\"a195b609f61692777189953f3adaa6\">hydration</span> of CO2 to <span class=\"customMeta\" data-dictid=\"a1b06f401f1692777203a53393ba98\">form</span> <span class=\"customMeta\" data-dictid=\"95585a69c21692777183b817f72e70\">carbonic acid</span> (H2CO3), which dissociates into H<strong>\u1429</strong> and HCO3-.This reaction occurs at the <span class=\"customMeta\" data-dictid=\"da5d70d6c016927771839e073ce917\">brush border</span> of <span class=\"customMeta\" data-dictid=\"bdbac654081692777196f9aab116f0\">proximal</span> <span class=\"customMeta\" data-dictid=\"98d387b7bd1692777201278b27be72\">tubular</span> cells.\n\t<ul>\n\t\t<li>CA <span class=\"customMeta\" data-dictid=\"0c23248bfe1692777200f23ef52313\">Traps</span> CO2 in the <span class=\"customMeta\" data-dictid=\"98d387b7bd1692777201278b27be72\">tubular</span> fluid, preventing its complete removal.</li>\n\t\t<li>Facilitates the <span class=\"customMeta\" data-dictid=\"9b0ae3750916927771986c15d4ff4d\">secretion</span> of H<strong>\u1429</strong> into the <span class=\"customMeta\" data-dictid=\"98d387b7bd1692777201278b27be72\">tubular</span> <span class=\"customMeta\" data-dictid=\"e87def492e1692777191eda63cfc5e\">lumen</span> while retaining <span class=\"customMeta\" data-dictid=\"2311c3b4ac16927771831d4c919043\">bicarbonate</span> within the cell.</li>\n\t</ul>\n\t</li>\n\t<li>Higher <span class=\"customMeta\" data-dictid=\"1c7103a9b516927771955682b6aaa4\">permeability</span> to H<strong>\u1429</strong> and HCO3\u207b leads to a <span class=\"customMeta\" data-dictid=\"98d387b7bd1692777201278b27be72\">tubular</span> fluid pH of approximately 6.5.</li>\n\t<li>Bicarbonate ions <span class=\"customMeta\" data-dictid=\"89275101301692777186567d1912a0\">diffuse</span> into the interstitium, similar to K<strong>\u1429</strong> ions.</li>\n\t<li><strong>Na+ and K+ Exchange: </strong> Na<strong>\u1429</strong>-K<strong>\u1429</strong> <span class=\"customMeta\" data-dictid=\"597e455849169277718275e4dc5936\">ATPase</span> pump is located in the <span class=\"customMeta\" data-dictid=\"67ef7ffbe61692777182686c1b57c4\">basolateral</span> membrane. Na<strong>\u1429</strong> enters the <span class=\"customMeta\" data-dictid=\"318304493d1692777190524bea4edd\">interstitium</span> in exchange for K<strong>\u1429</strong> via the Na<strong>\u1429</strong>-K<strong>\u1429</strong> ATPase, maintaining K<strong>\u1429</strong> concentration while decreasing Na<strong>\u1429</strong> concentration. <strong>(Option A)</strong></li>\n</ul>\n\n<p>Regulation of Acid-Base Balance</p>\n\n<ul>\n\t<li>Urine acidification in the <span class=\"customMeta\" data-dictid=\"406aede9e21692777194b4cefe9958\">PCT</span> is dependent on Na<strong>\u1429</strong> concentration.</li>\n\t<li>Parathyroid Hormone (PTH): <span class=\"customMeta\" data-dictid=\"5eff25235516927771968c590529d7\">PTH</span> inhibits the Na<strong>\u1429</strong>-H<strong>\u1429</strong> <span class=\"customMeta\" data-dictid=\"0f3cd510981692777187f8f8c7cbc6\">exchanger</span> in the PCT, affecting <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> pH.</li>\n\t<li>Carbonic <span class=\"customMeta\" data-dictid=\"0a72e82d651692777181ef79d77e61\">Anhydrase</span> Inhibitors: Drugs that <span class=\"customMeta\" data-dictid=\"6b3de87b7c16927771901326efbcd2\">inhibit</span> carbonic <span class=\"customMeta\" data-dictid=\"0a72e82d651692777181ef79d77e61\">anhydrase</span> decrease <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> acidification by impairing <span class=\"customMeta\" data-dictid=\"2311c3b4ac16927771831d4c919043\">bicarbonate</span> reabsorption.</li>\n</ul>\n\n<p><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"427\" src=\"https://image.prepladder.com/content/tJVCeho2oKYTMjpebpDB1736147617.png\" width=\"500\" /></p>\n\n<p>\u00a0</p>\n\n<p><strong>\u00a0Cl\u207b-HCO3\u207b antiporter, also known as Band 3 protein is </strong>a<strong> </strong>Chloride-bicarbonate <span class=\"customMeta\" data-dictid=\"0f3cd510981692777187f8f8c7cbc6\">exchanger</span> at the <span class=\"customMeta\" data-dictid=\"67ef7ffbe61692777182686c1b57c4\">basolateral</span> <span class=\"customMeta\" data-dictid=\"34cd707428169277719272942b7905\">membrane</span> of the <span class=\"customMeta\" data-dictid=\"5ff25303a01692777186731f6a4f5c\">distal</span> tubules and collecting ducts aids <span class=\"customMeta\" data-dictid=\"2311c3b4ac16927771831d4c919043\">bicarbonate</span> <span class=\"customMeta\" data-dictid=\"b668aed705169277719744b6db8f8e\">retention</span> and <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> acidification\u00a0<strong>(Option C).</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>The H\u1429-ATPase pump</strong> is located at the <span class=\"customMeta\" data-dictid=\"c6223a27fb169277718147405290e1\">apical</span> surface of the <span class=\"customMeta\" data-dictid=\"98d387b7bd1692777201278b27be72\">tubular</span> cells of<strong> </strong>distal tubules and collecting ducts and facilitates ATP-driven transport of H\u1429 into the <span class=\"customMeta\" data-dictid=\"98d387b7bd1692777201278b27be72\">tubular</span> lumen\u00a0<strong>(Option D).</strong></p>\n\n<p><br />\n\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/tJVCeho2oKYTMjpebpDB1736147617.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/o8pFTYOPpPglWP8GczRQ1743680380.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/gbN6hbUCLHcCaUD4Q43G1743680508.mp3"
  },
  {
    "text": "<p>What effect does aldosterone have on acid secretion in the distal convoluted tubule (DCT) and collecting duct (CD)?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Decreases the activity of H\u1429-ATPase."
      },
      {
        "id": 2,
        "text": "Inhibits the secretion of H\u1429."
      },
      {
        "id": 3,
        "text": "Increases the activity of H\u1429-ATPase"
      },
      {
        "id": 4,
        "text": "No effect on acid secretion."
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Acid <span class=\"customMeta\" data-dictid=\"9b0ae3750916927771986c15d4ff4d\">Secretion</span> at the DCT and CD</p>\n\n<ul>\n\t<li><strong>Mechanism:</strong>\n\n\t<ul>\n\t\t<li><strong>Intercalated Cells:</strong> Produce H<strong>\u1429</strong> and HCO3- from CO2, facilitated by carbonic anhydrase.</li>\n\t\t<li><strong>H+ Secretion:</strong> Via H<strong>\u1429</strong>-ATPase or K<strong>\u1429</strong>-H<strong>\u1429</strong> <span class=\"customMeta\" data-dictid=\"597e455849169277718275e4dc5936\">ATPase</span> into <span class=\"customMeta\" data-dictid=\"98d387b7bd1692777201278b27be72\">tubular</span> fluid.</li>\n\t\t<li><strong>HCO3- Transport:</strong> Into <span class=\"customMeta\" data-dictid=\"318304493d1692777190524bea4edd\">interstitium</span> via Cl\u207b-HCO3\u207b antiporter.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Acidification of <span class=\"customMeta\" data-dictid=\"98d387b7bd1692777201278b27be72\">Tubular</span> Fluid:</strong>\n\t<ul>\n\t\t<li>Low H+ <span class=\"customMeta\" data-dictid=\"1c7103a9b516927771955682b6aaa4\">permeability</span> results in more <span class=\"customMeta\" data-dictid=\"3a983e569716927771805ed22b90d7\">acidic</span> fluid (pH ~4.5), crucial for <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> <span class=\"customMeta\" data-dictid=\"9d374d494a169277718337f2820f3a\">buffer</span> excretion.</li>\n\t\t<li>H+ <span class=\"customMeta\" data-dictid=\"9b0ae3750916927771986c15d4ff4d\">secretion</span> is independent of Na+ concentration.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Role of Aldosterone:</strong>\n\t<ul>\n\t\t<li>Enhances acid <span class=\"customMeta\" data-dictid=\"9b0ae3750916927771986c15d4ff4d\">secretion</span> by increasing <span class=\"customMeta\" data-dictid=\"9c823198d61692777196bc71097d6d\">proton</span> pump activity. <strong>(Option C)</strong></li>\n\t</ul>\n\t</li>\n\t<li><strong>Band 3 Protein (Anion <span class=\"customMeta\" data-dictid=\"0f3cd510981692777187f8f8c7cbc6\">Exchanger</span> 1 or AE1):</strong>\n\t<ul>\n\t\t<li>Chloride-bicarbonate <span class=\"customMeta\" data-dictid=\"0f3cd510981692777187f8f8c7cbc6\">exchanger</span> at <span class=\"customMeta\" data-dictid=\"67ef7ffbe61692777182686c1b57c4\">basolateral</span> <span class=\"customMeta\" data-dictid=\"34cd707428169277719272942b7905\">membrane</span> aids <span class=\"customMeta\" data-dictid=\"2311c3b4ac16927771831d4c919043\">bicarbonate</span> <span class=\"customMeta\" data-dictid=\"b668aed705169277719744b6db8f8e\">retention</span> and <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> acidification.</li>\n\t</ul>\n\t</li>\n\t<li><strong>NH4+ Excretion:</strong>\n\t<ul>\n\t\t<li>H<strong>\u1429</strong> combines with NH3 to <span class=\"customMeta\" data-dictid=\"a1b06f401f1692777203a53393ba98\">form</span> NH4<strong>\u1429</strong>, which is excreted, and essential for acid-base balance.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Clinical Implications:</strong>\n\t<ul>\n\t\t<li>Reduced H<strong>\u1429</strong> <span class=\"customMeta\" data-dictid=\"9b0ae3750916927771986c15d4ff4d\">secretion</span> decreases net acid <span class=\"customMeta\" data-dictid=\"0f7653c9ef1692777187deaa35f749\">excretion</span> and affects HCO3\u207b <span class=\"customMeta\" data-dictid=\"b1b457815716927771833294a8f64f\">buffering</span> of non-volatile acids.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Decreases the activity of H\u1429-ATPase (Option A):</strong> <span class=\"customMeta\" data-dictid=\"210102fdef1692777181bab45bdfe3\">Aldosterone</span> increases the activity of H<strong>\u1429</strong>-ATPase but does not decrease it.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Inhibits the <span class=\"customMeta\" data-dictid=\"9b0ae3750916927771986c15d4ff4d\">secretion</span> of H\u1429 (Option B):</strong> <span class=\"customMeta\" data-dictid=\"210102fdef1692777181bab45bdfe3\">Aldosterone</span> enhances the <span class=\"customMeta\" data-dictid=\"9b0ae3750916927771986c15d4ff4d\">secretion</span> of H<strong>\u1429</strong>, not inhibits it.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/tJS4Yk4glg1lmRyRvUCE1743680845.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/g1wwZyCFiOLPyUJDJolK1743680910.mp3"
  },
  {
    "text": "<p>What triggers the formation of ammonium ions (NH4<strong>\u1429</strong>) and bicarbonate (HCO3\u207b) in the ammonia buffer system?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Increased sodium concentration"
      },
      {
        "id": 2,
        "text": "Alkalosis"
      },
      {
        "id": 3,
        "text": "Acidosis"
      },
      {
        "id": 4,
        "text": "Dehydration"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Acidosis stimulates the formation of <span class=\"customMeta\" data-dictid=\"3719e878a4169277718109b2d3f67e\">ammonium</span> ions (NH4<strong>\u1429</strong>) and <span class=\"customMeta\" data-dictid=\"2311c3b4ac16927771831d4c919043\">bicarbonate</span> (HCO3\u207b) in the <span class=\"customMeta\" data-dictid=\"edbc0adbb31692777181ed0ee792d4\">ammonia</span> <span class=\"customMeta\" data-dictid=\"9d374d494a169277718337f2820f3a\">buffer</span> system. This process helps the body <span class=\"customMeta\" data-dictid=\"350d30aa5316927771874442f8874c\">excrete</span> <span class=\"customMeta\" data-dictid=\"7a1ae24f701692777187a7f60bbd9f\">excess</span> acid and maintain acid-base balance.</p>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>BUFFERS</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>DESCRIPTION</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Bicarbonate Buffer</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Most powerful <span class=\"customMeta\" data-dictid=\"ba366417791692777187229d34e597\">extracellular</span> <span class=\"customMeta\" data-dictid=\"9d374d494a169277718337f2820f3a\">buffer</span> system.</li>\n\t\t\t\t<li>Composed of H2CO3 and NaHCO3</li>\n\t\t\t\t<li>Buffers strong acids by forming H2CO3 and strong <span class=\"customMeta\" data-dictid=\"1ec6e3e9e11692777182b1220b131a\">bases</span> by reacting with H+ to <span class=\"customMeta\" data-dictid=\"a1b06f401f1692777203a53393ba98\">form</span> H2O and CO2.</li>\n\t\t\t\t<li>Effective due to regulation by kidneys and lungs.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Phosphate Buffer</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Composed of H2PO4\u207b and HPO4.</li>\n\t\t\t\t<li>pK of 6.8, effective in slightly <span class=\"customMeta\" data-dictid=\"3a983e569716927771805ed22b90d7\">acidic</span> urine.</li>\n\t\t\t\t<li>Phosphate concentration increases in <span class=\"customMeta\" data-dictid=\"98d387b7bd1692777201278b27be72\">tubular</span> fluid due to water reabsorption.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Ammonia Buffer</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Composed of <span class=\"customMeta\" data-dictid=\"edbc0adbb31692777181ed0ee792d4\">ammonia</span> (NH3) and <span class=\"customMeta\" data-dictid=\"3719e878a4169277718109b2d3f67e\">ammonium</span> <span class=\"customMeta\" data-dictid=\"4b2f2a6d0a16927771902f60fa9ff7\">ion</span> (NH4<strong>\u1429</strong>).</li>\n\t\t\t\t<li>In the liver, <span class=\"customMeta\" data-dictid=\"2ce271388f1692777188515f75666c\">Glutamine</span> metabolized to 2NH4<strong>\u1429</strong> and 2HCO3\u2212.</li>\n\t\t\t\t<li>NH4<strong>\u1429</strong> is secreted into the <span class=\"customMeta\" data-dictid=\"98d387b7bd1692777201278b27be72\">tubular</span> lumen</li>\n\t\t\t\t<li>HCO3\u2212 reabsorbed into blood.</li>\n\t\t\t\t<li>Acidosis stimulates NH4<strong>\u1429</strong> and HCO3\u207b formation; <span class=\"customMeta\" data-dictid=\"0dae4cbf251692777181bd4fb21a24\">alkalosis</span> decreases their formation.</li>\n\t\t\t\t<li>The rate of NH4<strong>\u1429</strong> <span class=\"customMeta\" data-dictid=\"0f7653c9ef1692777187deaa35f749\">excretion</span> can increase significantly with chronic acidosis.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Others</strong></p>\n\n\t\t\t<p><strong>(less significant)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Urate Buffer</li>\n\t\t\t\t<li>Citrate Buffer</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong>A) Increased sodium concentration: </strong>Sodium concentration does not directly trigger the formation of <span class=\"customMeta\" data-dictid=\"3719e878a4169277718109b2d3f67e\">ammonium</span> ions (NH4\u1429) and <span class=\"customMeta\" data-dictid=\"2311c3b4ac16927771831d4c919043\">bicarbonate</span> (HCO3\u207b) in the <span class=\"customMeta\" data-dictid=\"edbc0adbb31692777181ed0ee792d4\">ammonia</span> <span class=\"customMeta\" data-dictid=\"9d374d494a169277718337f2820f3a\">buffer</span> system. Instead, sodium balance is primarily related to the regulation of fluid volume and blood pressure.</p>\n\n<p>\u00a0</p>\n\n<p><strong>B) Alkalosis: </strong>In contrast, <span class=\"customMeta\" data-dictid=\"0dae4cbf251692777181bd4fb21a24\">alkalosis</span> decreases the formation of NH4\u1429 and HCO3\u207b.</p>\n\n<p>\u00a0</p>\n\n<p><strong>D) Dehydration: </strong>Dehydration primarily affects <span class=\"customMeta\" data-dictid=\"98d46770fc1692777202253fb59fe9\">fluid balance</span> and can lead to an increase in blood osmolarity. While severe <span class=\"customMeta\" data-dictid=\"da07fd59a11692777185e23c69af5e\">dehydration</span> can lead to <span class=\"customMeta\" data-dictid=\"d92cbff33316927771927b4de10a5b\">metabolic</span> disturbances, it does not specifically trigger the formation of NH4\u1429 and HCO3\u207b in the <span class=\"customMeta\" data-dictid=\"edbc0adbb31692777181ed0ee792d4\">ammonia</span> <span class=\"customMeta\" data-dictid=\"9d374d494a169277718337f2820f3a\">buffer</span> system.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/RJZLcCSFqcrZESCvPaab1743681012.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/rXU5WV0do2t10PHRCU2n1743681111.mp3"
  },
  {
    "text": "<p>Which of the following is not a prerequisite for a functional counter-current mechanism in the body?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Parallel and opposite flow of fluids"
      },
      {
        "id": 2,
        "text": "Close proximity"
      },
      {
        "id": 3,
        "text": "Active transport of solutes across all segments"
      },
      {
        "id": 4,
        "text": "Selective permeability of pathways"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) <span class=\"customMeta\" data-dictid=\"74c9c0942a1692777180b936bbbfcc\">Active transport</span> of solutes across all segments</strong><br />\n\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><br />\nThis is <strong>NOT a prerequisite</strong> for a functional counter-current mechanism. While <span class=\"customMeta\" data-dictid=\"74c9c0942a1692777180b936bbbfcc\">active transport</span> is essential in some segments, such as the thick <span class=\"customMeta\" data-dictid=\"62f0d7c8491692777182ab7cc82edb\">ascending</span> limb of the loop of Henle, which actively transports Na+ and Cl\u2212, it is not required across all segments of the system. <span class=\"customMeta\" data-dictid=\"c72d29ec4116927771942153c0d252\">Passive</span> transport and selective <span class=\"customMeta\" data-dictid=\"1c7103a9b516927771955682b6aaa4\">permeability</span> are critical components.</p>\n\n<p><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"208\" src=\"https://image.prepladder.com/content/T1mF855vWtds4ALeTrfH1736147715.png\" width=\"500\" /></p>\n\n<p>\u00a0</p>\n\n<p><strong>Parallel and opposite flow of fluids</strong>: This is a fundamental requirement for a counter-current mechanism. In the kidneys, the <span class=\"customMeta\" data-dictid=\"0cf8ac70611692777186b133d027f6\">descending</span> and <span class=\"customMeta\" data-dictid=\"62f0d7c8491692777182ab7cc82edb\">ascending</span> limbs of the <span class=\"customMeta\" data-dictid=\"9c66af26d51692777191285c6180d9\">loop of Henle</span> and the <span class=\"customMeta\" data-dictid=\"06595275c11692777201aee0394042\">vasa</span> recta have fluid flows in opposite directions, which maximizes the efficiency of exchange processes (O<strong>ption A) </strong></p>\n\n<p><strong>Close proximity and selective <span class=\"customMeta\" data-dictid=\"1c7103a9b516927771955682b6aaa4\">permeability</span> of pathways:</strong> This selective <span class=\"customMeta\" data-dictid=\"1c7103a9b516927771955682b6aaa4\">permeability</span> is crucial for the system's function. In the loop of Henle, the <span class=\"customMeta\" data-dictid=\"0cf8ac70611692777186b133d027f6\">descending</span> limb is <span class=\"customMeta\" data-dictid=\"32343a48ea1692777195585b33c764\">permeable</span> to water but not solutes, while the <span class=\"customMeta\" data-dictid=\"62f0d7c8491692777182ab7cc82edb\">ascending</span> limb is <span class=\"customMeta\" data-dictid=\"6b570eecc716927771895830c56d4c\">impermeable</span> to water but actively transports solutes\u00a0<strong>(Option B) </strong></p>\n\n<p><strong>\u00a0A <span class=\"customMeta\" data-dictid=\"f0088170e71692777185de919c2699\">concentration gradient</span> between inflow and outflow pathways</strong>: In the kidneys, the <span class=\"customMeta\" data-dictid=\"74c9c0942a1692777180b936bbbfcc\">active transport</span> of Na+ and Cl\u2212 from the <span class=\"customMeta\" data-dictid=\"62f0d7c8491692777182ab7cc82edb\">ascending</span> limb of the <span class=\"customMeta\" data-dictid=\"9c66af26d51692777191285c6180d9\">loop of Henle</span> into the <span class=\"customMeta\" data-dictid=\"0a36e18386169277719259641cf29b\">medullary</span> <span class=\"customMeta\" data-dictid=\"318304493d1692777190524bea4edd\">interstitium</span> creates the osmotic <span class=\"customMeta\" data-dictid=\"04136f692516927771888cf07d46a4\">gradient</span> that is essential for the counter-current mechanism to function effectively. The <span class=\"customMeta\" data-dictid=\"06595275c11692777201aee0394042\">vasa</span> recta helps maintain this <span class=\"customMeta\" data-dictid=\"04136f692516927771888cf07d46a4\">gradient</span> <strong>(Option D)</strong></p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/T1mF855vWtds4ALeTrfH1736147715.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/z0RbryMvp9pPnDyLTQPA1743681567.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/JVPJhJUgLDteN5va839r1743681615.mp3"
  },
  {
    "text": "<p>What is the primary aim of the counter-current mechanism in the kidneys?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "To dilute urine for better excretion of waste products"
      },
      {
        "id": 2,
        "text": "To conserve sodium and chloride ions in the body"
      },
      {
        "id": 3,
        "text": "To concentrate urine and maintain fluid and electrolyte balance"
      },
      {
        "id": 4,
        "text": "To increase blood flow to the renal cortex"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The counter-current mechanism <strong>concentrates <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> by creating a <span class=\"customMeta\" data-dictid=\"443f35053c169277718919c0a5c883\">hyperosmotic</span> </strong>environment in the<strong> <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> medulla</strong>. This allows the kidneys to <span class=\"customMeta\" data-dictid=\"350d30aa5316927771874442f8874c\">excrete</span> waste products with minimal water loss, conserving water and maintaining fluid and <span class=\"customMeta\" data-dictid=\"2e0552462e16927771871413861fb7\">electrolyte</span> balance.</p>\n\n<p>\u00a0</p>\n\n<p><strong>A) To <span class=\"customMeta\" data-dictid=\"e63a499e5716927771860681cef17d\">dilute</span> <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> for better <span class=\"customMeta\" data-dictid=\"0f7653c9ef1692777187deaa35f749\">excretion</span> of waste products: </strong>The counter-current mechanism aims to concentrate, not dilute, the urine. <span class=\"customMeta\" data-dictid=\"409e887c94169277718652d5db3c32\">Dilution</span> would result in a loss of <span class=\"customMeta\" data-dictid=\"7a1ae24f701692777187a7f60bbd9f\">excess</span> water, which could lead to dehydration.</p>\n\n<p><strong>B) To <span class=\"customMeta\" data-dictid=\"a4d43e9d8416927771856f3d1cb32c\">conserve</span> sodium and <span class=\"customMeta\" data-dictid=\"f7dbd0ab551692777184f9b1a73c6d\">chloride</span> ions in the body:</strong> While sodium and <span class=\"customMeta\" data-dictid=\"f7dbd0ab551692777184f9b1a73c6d\">chloride</span> <span class=\"customMeta\" data-dictid=\"3086fd09371692777197a351ddde07\">reabsorption</span> occurs during the process, the primary goal is not to <span class=\"customMeta\" data-dictid=\"a4d43e9d8416927771856f3d1cb32c\">conserve</span> these ions but to create an osmotic <span class=\"customMeta\" data-dictid=\"04136f692516927771888cf07d46a4\">gradient</span> that facilitates water reabsorption.</p>\n\n<p><strong>D) To increase <span class=\"customMeta\" data-dictid=\"82cc227a1c169277718387905b50c6\">blood flow</span> to the <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> cortex:</strong> The counter-current mechanism primarily operates in the <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> <span class=\"customMeta\" data-dictid=\"53abb386551692777192c4d1f1f5ed\">medulla</span> and focuses on concentrating <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> rather than regulating <span class=\"customMeta\" data-dictid=\"82cc227a1c169277718387905b50c6\">blood flow</span> to the <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> cortex.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/PSwljRi9VG0xnw0NUmQ61743696032.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/pERy65v9yuyGGPgSTvbC1743696114.mp3"
  },
  {
    "text": "<p>Which of the following is NOT a component of the counter-current multiplier system in the kidneys?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Cortical Collecting Duct (CCD)"
      },
      {
        "id": 2,
        "text": "Thick Ascending Limb (TAL) of the Loop of Henle"
      },
      {
        "id": 3,
        "text": "Thin Ascending Segment (ATS) of the Loop of Henle"
      },
      {
        "id": 4,
        "text": "Medullary Collecting Duct (MCD)"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The CCD is involved in the <span class=\"customMeta\" data-dictid=\"3086fd09371692777197a351ddde07\">reabsorption</span> of water and electrolytes under the influence of hormones such as <span class=\"customMeta\" data-dictid=\"210102fdef1692777181bab45bdfe3\">aldosterone</span> and <span class=\"customMeta\" data-dictid=\"27bd08bbaa16927771812e98e16787\">antidiuretic</span> hormone (ADH). However, it is not directly part of the counter-current multiplier system. The counter-current multiplier specifically refers to the mechanisms occurring within the <span class=\"customMeta\" data-dictid=\"9c66af26d51692777191285c6180d9\">loop of Henle</span> and associated structures in the medulla, not the <span class=\"customMeta\" data-dictid=\"721937292f1692777185048f04ce29\">cortical</span> regions.</p>\n\n<p><br />\n\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td colspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>COUNTERCURRENT MULTIPLIER</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Site</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Function</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Proximal Tubule</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Delivers an <span class=\"customMeta\" data-dictid=\"3a31d6c7681692777190d2bb6756e8\">isosmotic</span> <span class=\"customMeta\" data-dictid=\"92ab6958db169277720297c18cd6ab\">filtrate</span> to the loop of Henle, with approximately 65% of filtered electrolytes and water reabsorbed.</li>\n\t\t\t\t<li>The <span class=\"customMeta\" data-dictid=\"612769eab6169277719463af223927\">osmolarity</span> here is around 300 mOsm/L, similar to plasma.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Thin <span class=\"customMeta\" data-dictid=\"0cf8ac70611692777186b133d027f6\">Descending</span> Limb of the Loop of Henle</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Highly <span class=\"customMeta\" data-dictid=\"32343a48ea1692777195585b33c764\">permeable</span> to water due to the presence of aquaporin-1 (AQP-1) channels and mildly <span class=\"customMeta\" data-dictid=\"32343a48ea1692777195585b33c764\">permeable</span> to solutes like <span class=\"customMeta\" data-dictid=\"38d4be106e169277720105b006c26b\">urea</span> and sodium chloride.</li>\n\t\t\t\t<li>As the <span class=\"customMeta\" data-dictid=\"92ab6958db169277720297c18cd6ab\">filtrate</span> moves deeper into the <span class=\"customMeta\" data-dictid=\"443f35053c169277718919c0a5c883\">hyperosmotic</span> medulla, water exits by osmosis, concentrating the <span class=\"customMeta\" data-dictid=\"98d387b7bd1692777201278b27be72\">tubular</span> fluid.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Thin <span class=\"customMeta\" data-dictid=\"62f0d7c8491692777182ab7cc82edb\">Ascending</span> Limb of the Loop of Henle</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Impermeable to water but <span class=\"customMeta\" data-dictid=\"32343a48ea1692777195585b33c764\">permeable</span> to solutes.</li>\n\t\t\t\t<li>NaCl passively diffuses out, and some <span class=\"customMeta\" data-dictid=\"38d4be106e169277720105b006c26b\">urea</span> enters, contributing to <span class=\"customMeta\" data-dictid=\"0a36e18386169277719259641cf29b\">medullary</span> hyperosmolarity. <strong>(Option C)</strong></li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Thick <span class=\"customMeta\" data-dictid=\"62f0d7c8491692777182ab7cc82edb\">Ascending</span> Limb of the <span class=\"customMeta\" data-dictid=\"9c66af26d51692777191285c6180d9\">Loop of Henle</span> (TAL)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Impermeable to water and urea, actively transports NaCl, K\u1429 out of the <span class=\"customMeta\" data-dictid=\"4ba1c48e851692777201a91713191e\">tubule</span> into the <span class=\"customMeta\" data-dictid=\"318304493d1692777190524bea4edd\">interstitium</span> using the Na+-K+-2Cl- cotransporter.</li>\n\t\t\t\t<li>This action increases <span class=\"customMeta\" data-dictid=\"f46ba26d111692777190def3b1d80a\">interstitial</span> <span class=\"customMeta\" data-dictid=\"612769eab6169277719463af223927\">osmolarity</span> and delivers <span class=\"customMeta\" data-dictid=\"6c1412e72916927771893d06180642\">hypotonic</span> fluid to the <span class=\"customMeta\" data-dictid=\"5ff25303a01692777186731f6a4f5c\">distal</span> tubule. <strong>(Option B)</strong></li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Medullary Collecting <span class=\"customMeta\" data-dictid=\"6198b5f22b16927771867e4ef8108f\">Duct</span> (MCD)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Under the influence of ADH, becomes <span class=\"customMeta\" data-dictid=\"32343a48ea1692777195585b33c764\">permeable</span> to water.</li>\n\t\t\t\t<li>Water is reabsorbed from the <span class=\"customMeta\" data-dictid=\"71549103af1692777192ba4ce9cb19\">MCD</span> into the <span class=\"customMeta\" data-dictid=\"443f35053c169277718919c0a5c883\">hyperosmotic</span> <span class=\"customMeta\" data-dictid=\"0a36e18386169277719259641cf29b\">medullary</span> interstitium, concentrating the urine.</li>\n\t\t\t\t<li>The <span class=\"customMeta\" data-dictid=\"71549103af1692777192ba4ce9cb19\">MCD</span> operates within the <span class=\"customMeta\" data-dictid=\"443f35053c169277718919c0a5c883\">hyperosmotic</span> environment established by the counter-current multiplier. <strong>(Option D)</strong></li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/6vcYJLNY7io2KrmZh8YT1743695826.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/gcyrbazC6wiSgipidLEN1743695917.mp3"
  },
  {
    "text": "<p>A 45 y/o patient presents with polyuria and polydipsia. Lab tests reveal a low urine osmolarity and a high plasma osmolarity. After administration of desmopressin (a synthetic analog of ADH), the patient's urine osmolarity increases significantly. Which of the following best explains the mechanism by which ADH improved the patient's condition?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "ADH increases the permeability of the ascending limb of the loop of Henle to water."
      },
      {
        "id": 2,
        "text": "ADH decreases the active transport of sodium chloride in the thick ascending limb of the loop of Henle."
      },
      {
        "id": 3,
        "text": "ADH increases the permeability of the collecting ducts to water."
      },
      {
        "id": 4,
        "text": "ADH causes the osmolarity of the medullary interstitium to decrease rapidly."
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>ADH increases the <span class=\"customMeta\" data-dictid=\"1c7103a9b516927771955682b6aaa4\">permeability</span> of the collecting ducts</strong> to water by promoting the <span class=\"customMeta\" data-dictid=\"c88a7c1a0116927771909b2463968d\">insertion</span> of aquaporin-2 water channels into the <span class=\"customMeta\" data-dictid=\"c6223a27fb169277718147405290e1\">apical</span> membranes of collecting <span class=\"customMeta\" data-dictid=\"6198b5f22b16927771867e4ef8108f\">duct</span> cells. This allows water to be reabsorbed from the <span class=\"customMeta\" data-dictid=\"98d387b7bd1692777201278b27be72\">tubular</span> fluid into the <span class=\"customMeta\" data-dictid=\"443f35053c169277718919c0a5c883\">hyperosmotic</span> <span class=\"customMeta\" data-dictid=\"0a36e18386169277719259641cf29b\">medullary</span> interstitium, concentrating the <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> and reducing <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> volume.</p>\n\n<p><strong>A) </strong>The <span class=\"customMeta\" data-dictid=\"62f0d7c8491692777182ab7cc82edb\">ascending</span> limb of the <span class=\"customMeta\" data-dictid=\"9c66af26d51692777191285c6180d9\">loop of Henle</span> is <span class=\"customMeta\" data-dictid=\"6b570eecc716927771895830c56d4c\">impermeable</span> to water, a characteristic that is essential for the creation of a <span class=\"customMeta\" data-dictid=\"443f35053c169277718919c0a5c883\">hyperosmotic</span> <span class=\"customMeta\" data-dictid=\"0a36e18386169277719259641cf29b\">medullary</span> interstitium. <span class=\"customMeta\" data-dictid=\"401dd7c3941692777180e4d78eee80\">ADH</span> does not alter this permeability.</p>\n\n<p><strong>B)</strong>ADH does not affect the <span class=\"customMeta\" data-dictid=\"74c9c0942a1692777180b936bbbfcc\">active transport</span> of sodium <span class=\"customMeta\" data-dictid=\"f7dbd0ab551692777184f9b1a73c6d\">chloride</span> in the thick <span class=\"customMeta\" data-dictid=\"62f0d7c8491692777182ab7cc82edb\">ascending</span> limb. The <span class=\"customMeta\" data-dictid=\"74c9c0942a1692777180b936bbbfcc\">active transport</span> in this segment is necessary for establishing the osmotic <span class=\"customMeta\" data-dictid=\"04136f692516927771888cf07d46a4\">gradient</span> but is not regulated by desmopressin.</p>\n\n<p><strong>D)</strong>ADH does not decrease the <span class=\"customMeta\" data-dictid=\"612769eab6169277719463af223927\">osmolarity</span> of the <span class=\"customMeta\" data-dictid=\"0a36e18386169277719259641cf29b\">medullary</span> interstitium. Instead, it facilitates water <span class=\"customMeta\" data-dictid=\"3086fd09371692777197a351ddde07\">reabsorption</span> in the collecting ducts, leveraging the existing high <span class=\"customMeta\" data-dictid=\"612769eab6169277719463af223927\">osmolarity</span> of the <span class=\"customMeta\" data-dictid=\"0a36e18386169277719259641cf29b\">medullary</span> <span class=\"customMeta\" data-dictid=\"318304493d1692777190524bea4edd\">interstitium</span> to concentrate the urine.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/VKxG5DYoWdA5WR4sDewD1743695624.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/b2h44s7QeKtVhJaxhPse1743695742.mp3"
  },
  {
    "text": "<p>Which of the following statements about urea transport in the kidneys is correct?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "UT-A1 and UT-A3 in the cortical collecting duct are regulated by aldosterone"
      },
      {
        "id": 2,
        "text": "Urea helps establish the osmotic gradient in the medullary pyramids but is not involved in urine concentration."
      },
      {
        "id": 3,
        "text": "A high-protein diet reduces the kidneys' ability to concentrate urine."
      },
      {
        "id": 4,
        "text": "UT-B is found in erythrocytes and the descending limbs of the vasa recta."
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>UT-B is indeed found in erythrocytes and the <span class=\"customMeta\" data-dictid=\"0cf8ac70611692777186b133d027f6\">descending</span> limbs of the <span class=\"customMeta\" data-dictid=\"06595275c11692777201aee0394042\">vasa</span> recta.</p>\n\n<p><strong>Role of <span class=\"customMeta\" data-dictid=\"38d4be106e169277720105b006c26b\">Urea</span> in <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">Kidney</span> Function:</strong></p>\n\n<p><u>Functions:</u></p>\n\n<ul>\n\t<li><strong>Osmotic Gradient:</strong> <span class=\"customMeta\" data-dictid=\"38d4be106e169277720105b006c26b\">Urea</span> helps establish the osmotic <span class=\"customMeta\" data-dictid=\"04136f692516927771888cf07d46a4\">gradient</span> in the <span class=\"customMeta\" data-dictid=\"0a36e18386169277719259641cf29b\">medullary</span> pyramids.</li>\n\t<li><strong>Concentrated Urine:</strong> Contributes to forming concentrated <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> in the collecting ducts. <strong>(Option B)</strong></li>\n</ul>\n\n<p><u>Urea Transport:</u></p>\n\n<ul>\n\t<li><strong>Mediated by:</strong> <span class=\"customMeta\" data-dictid=\"38d4be106e169277720105b006c26b\">Urea</span> transporters (UT-A isoforms).</li>\n\t<li><strong>Types:</strong>\n\t<ul>\n\t\t<li><strong>UT-A1 to UT-A4:</strong> Found in kidneys.</li>\n\t\t<li><strong>UT-B:</strong> Found in erythrocytes and <span class=\"customMeta\" data-dictid=\"0cf8ac70611692777186b133d027f6\">descending</span> limbs of the <span class=\"customMeta\" data-dictid=\"06595275c11692777201aee0394042\">vasa</span> recta.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Key Transporters in Collecting Duct:</strong>\n\t<ul>\n\t\t<li><strong>UT-A1 and UT-A3:</strong> Found in the <span class=\"customMeta\" data-dictid=\"0a36e18386169277719259641cf29b\">medullary</span> collecting ducts. Regulated by vasopressin. <strong>(Option A)</strong></li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><u>Regulation:</u></p>\n\n<ul>\n\t<li><strong>Vasopressin (ADH):</strong> Increases during antidiuresis, raising <span class=\"customMeta\" data-dictid=\"38d4be106e169277720105b006c26b\">urea</span> levels in the <span class=\"customMeta\" data-dictid=\"0a36e18386169277719259641cf29b\">medullary</span> interstitium, and enhancing the kidney\u2019s <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> concentrating capacity.</li>\n</ul>\n\n<p><u>Impact of Diet:</u></p>\n\n<ul>\n\t<li><strong>High-Protein Diet:</strong> Increases <span class=\"customMeta\" data-dictid=\"38d4be106e169277720105b006c26b\">urea</span> filtration, enhancing <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> concentration ability. <strong>(Option C)</strong></li>\n\t<li><strong>Low-Protein Diet:</strong> Decreases <span class=\"customMeta\" data-dictid=\"38d4be106e169277720105b006c26b\">urea</span> filtration, reducing <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> concentration ability.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/YKtUz9UWQ16PwJMc0FoY1743695331.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/5En0eDeFE6j3qZoQK4SS1743695480.mp3"
  },
  {
    "text": "<p>Which of the following substances plays the most crucial role in establishing and maintaining the hyperosmotic medullary interstitium?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Sodium"
      },
      {
        "id": 2,
        "text": "Potassium"
      },
      {
        "id": 3,
        "text": "Urea"
      },
      {
        "id": 4,
        "text": "Chloride"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Urea is the most important substance for establishing and maintaining the <span class=\"customMeta\" data-dictid=\"443f35053c169277718919c0a5c883\">hyperosmotic</span> <span class=\"customMeta\" data-dictid=\"0a36e18386169277719259641cf29b\">medullary</span> interstitium. It significantly contributes to the osmotic <span class=\"customMeta\" data-dictid=\"04136f692516927771888cf07d46a4\">gradient</span> and <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> concentration by:</p>\n\n<ul>\n\t<li><strong>Urea recycling:</strong> <span class=\"customMeta\" data-dictid=\"38d4be106e169277720105b006c26b\">Urea</span> is reabsorbed in the collecting ducts and secreted into the loop of Henle. This recycling helps to maintain a high concentration of <span class=\"customMeta\" data-dictid=\"38d4be106e169277720105b006c26b\">urea</span> in the medulla.</li>\n\t<li><strong>Osmotic Gradient: </strong>The high concentration of <span class=\"customMeta\" data-dictid=\"38d4be106e169277720105b006c26b\">urea</span> in the <span class=\"customMeta\" data-dictid=\"0a36e18386169277719259641cf29b\">medullary</span> <span class=\"customMeta\" data-dictid=\"318304493d1692777190524bea4edd\">interstitium</span> creates an osmotic gradient. This <span class=\"customMeta\" data-dictid=\"04136f692516927771888cf07d46a4\">gradient</span> allows for the <span class=\"customMeta\" data-dictid=\"3086fd09371692777197a351ddde07\">reabsorption</span> of water from the collecting ducts, concentrating the urine.</li>\n\t<li><strong>Water Reabsorption: </strong>The osmotic <span class=\"customMeta\" data-dictid=\"04136f692516927771888cf07d46a4\">gradient</span> established by urea, along with sodium and other solutes, helps in reabsorbing water from the filtrate, making the <span class=\"customMeta\" data-dictid=\"0a36e18386169277719259641cf29b\">medullary</span> <span class=\"customMeta\" data-dictid=\"318304493d1692777190524bea4edd\">interstitium</span> hyperosmotic.</li>\n</ul>\n\n<p><strong>A) </strong>Sodium is involved in creating the osmotic <span class=\"customMeta\" data-dictid=\"04136f692516927771888cf07d46a4\">gradient</span> but is not the most crucial substance for maintaining it.</p>\n\n<p><strong>B) </strong>Potassium plays a role in ionic transport esp. In the thick <span class=\"customMeta\" data-dictid=\"62f0d7c8491692777182ab7cc82edb\">ascending</span> limb of the loop of Henle, but is not the primary substance for the <span class=\"customMeta\" data-dictid=\"443f35053c169277718919c0a5c883\">hyperosmotic</span> gradient.</p>\n\n<p><strong>D) </strong>Chloride is involved in the osmotic <span class=\"customMeta\" data-dictid=\"04136f692516927771888cf07d46a4\">gradient</span> but is not as critical as <span class=\"customMeta\" data-dictid=\"38d4be106e169277720105b006c26b\">urea</span> for maintaining the <span class=\"customMeta\" data-dictid=\"443f35053c169277718919c0a5c883\">hyperosmotic</span> <span class=\"customMeta\" data-dictid=\"0a36e18386169277719259641cf29b\">medullary</span> interstitium.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/xksxoK2Kw6VMnLQEe8vO1743694148.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/ViMjqWGrHbvnLV84UMTP1743694230.mp3"
  },
  {
    "text": "<p>Which of the following structures is responsible for maintaining the counter-current exchange mechanism in the kidney?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Loops of Henle"
      },
      {
        "id": 2,
        "text": "Collecting Ducts"
      },
      {
        "id": 3,
        "text": "Vasa Recta"
      },
      {
        "id": 4,
        "text": "Glomerulus"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The <span class=\"customMeta\" data-dictid=\"06595275c11692777201aee0394042\">vasa</span> recta maintains the osmotic <span class=\"customMeta\" data-dictid=\"04136f692516927771888cf07d46a4\">gradient</span> through <span class=\"customMeta\" data-dictid=\"2430a3c498169277718598392c380c\">countercurrent</span> exchange.</p>\n\n<p>\u00a0</p>\n\n<p><strong>A) </strong>The loops of Henle are responsible for creating the osmotic <span class=\"customMeta\" data-dictid=\"04136f692516927771888cf07d46a4\">gradient</span> (countercurrent multiplier system) but not for maintaining it.</p>\n\n<p><strong>B) </strong>The collecting ducts use the osmotic <span class=\"customMeta\" data-dictid=\"04136f692516927771888cf07d46a4\">gradient</span> to concentrate <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> but do not maintain the gradient.</p>\n\n<p><strong>D)</strong> The <span class=\"customMeta\" data-dictid=\"76f619950f169277718830623b2798\">glomerulus</span> is involved in the <span class=\"customMeta\" data-dictid=\"83d76f27051692777202029aee0cd3\">filtration</span> of blood to <span class=\"customMeta\" data-dictid=\"a1b06f401f1692777203a53393ba98\">form</span> <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> but does not maintain the osmotic <span class=\"customMeta\" data-dictid=\"04136f692516927771888cf07d46a4\">gradient</span> in the medulla.</p>\n\n<p><strong><u>Counter-Current Exchange Mechanism in the <span class=\"customMeta\" data-dictid=\"06595275c11692777201aee0394042\">Vasa</span> Recta</u></strong></p>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:614px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Aspect of <span class=\"customMeta\" data-dictid=\"06595275c11692777201aee0394042\">Vasa</span> Recta</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Details</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Function </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Maintains the osmotic <span class=\"customMeta\" data-dictid=\"04136f692516927771888cf07d46a4\">gradient</span> established by the loops of Henle, crucial for concentrated <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> production.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Structure</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Hairpin-loop blood vessels that descend and ascend alongside the loops of Henle.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Descending Limb</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Solutes (NaCl and urea) <span class=\"customMeta\" data-dictid=\"89275101301692777186567d1912a0\">diffuse</span> from the <span class=\"customMeta\" data-dictid=\"318304493d1692777190524bea4edd\">interstitium</span> into the <span class=\"customMeta\" data-dictid=\"06595275c11692777201aee0394042\">vasa</span> recta.</li>\n\t\t\t\t<li>Water moves out of the <span class=\"customMeta\" data-dictid=\"06595275c11692777201aee0394042\">vasa</span> recta into the <span class=\"customMeta\" data-dictid=\"318304493d1692777190524bea4edd\">interstitium</span> due to the osmotic gradient.</li>\n\t\t\t\t<li>Result: Blood becomes more concentrated as it descends.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Ascending Limb</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Solutes <span class=\"customMeta\" data-dictid=\"89275101301692777186567d1912a0\">diffuse</span> from the <span class=\"customMeta\" data-dictid=\"06595275c11692777201aee0394042\">vasa</span> recta into the interstitium.</li>\n\t\t\t\t<li>Water moves from the <span class=\"customMeta\" data-dictid=\"318304493d1692777190524bea4edd\">interstitium</span> into the <span class=\"customMeta\" data-dictid=\"06595275c11692777201aee0394042\">vasa</span> recta.</li>\n\t\t\t\t<li>The <span class=\"customMeta\" data-dictid=\"62f0d7c8491692777182ab7cc82edb\">ascending</span> <span class=\"customMeta\" data-dictid=\"06595275c11692777201aee0394042\">vasa</span> recta are <span class=\"customMeta\" data-dictid=\"b2b613f720169277720293e763435e\">fenestrated</span> to facilitate this exchange.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Net Effect</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>Role:</strong> Prevents dissipation of the osmotic gradient.</li>\n\t\t\t\t<li><strong>Outcome:</strong> Maintains the <span class=\"customMeta\" data-dictid=\"b0cbb1769e1692777189fd5a90d39a\">hypertonicity</span> of the medulla, essential for water <span class=\"customMeta\" data-dictid=\"3086fd09371692777197a351ddde07\">reabsorption</span> and concentrated <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> production.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Conclusion:</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Works with the loops of Henle to establish and maintain <span class=\"customMeta\" data-dictid=\"0a36e18386169277719259641cf29b\">medullary</span> osmotic gradient</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><br />\n\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/n4WDjokvb9qY0DqBUHLl1743693944.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/CdUYxXw5t4YuaMt0mX4t1743693996.mp3"
  }
];
        let quizName = '29 Acid Secretion And Counter-Current Mechanism Of The Kidney';
        let hierarchy = ["PrepLadder", "qBank", "Physiology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>